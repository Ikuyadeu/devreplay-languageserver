{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/vscode-languageserver-protocol/lib/messages.js","webpack:///./node_modules/vscode-jsonrpc/lib/main.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/main.js","webpack:///./node_modules/vscode-jsonrpc/lib/is.js","webpack:///./node_modules/vscode-jsonrpc/lib/events.js","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///./node_modules/vscode-jsonrpc/lib/messageReader.js","webpack:///./node_modules/vscode-jsonrpc/lib/messageWriter.js","webpack:///./node_modules/devreplay/lib/extend.js","webpack:///./node_modules/devreplay/lib/rules/c.js","webpack:///./node_modules/devreplay/lib/rules/javascript.js","webpack:///external \"net\"","webpack:///./node_modules/vscode-languageserver/lib/utils/is.js","webpack:///./node_modules/vscode-languageserver/lib/utils/uuid.js","webpack:///./src/server.ts","webpack:///./node_modules/devreplay/lib/index.js","webpack:///./node_modules/devreplay/lib/rules/android.js","webpack:///./node_modules/devreplay/lib/rules/angular.js","webpack:///./node_modules/devreplay/lib/rules/chainer2pytouch.js","webpack:///./node_modules/devreplay/lib/rules/cpp.js","webpack:///./node_modules/devreplay/lib/rules/cobol.js","webpack:///./node_modules/devreplay/lib/rules/dart.js","webpack:///./node_modules/devreplay/lib/rules/java.js","webpack:///./node_modules/devreplay/lib/rules/php.js","webpack:///./node_modules/devreplay/lib/rules/python.js","webpack:///./node_modules/devreplay/lib/rules/rails.js","webpack:///./node_modules/devreplay/lib/rules/react.js","webpack:///./node_modules/devreplay/lib/rules/ruby.js","webpack:///./node_modules/devreplay/lib/rules/typescript.js","webpack:///./node_modules/devreplay/lib/rules/tensorflow.js","webpack:///./node_modules/devreplay/lib/rules/vscode.js","webpack:///./node_modules/devreplay/lib/rules/vue.js","webpack:///./node_modules/devreplay/lib/lint.js","webpack:///./node_modules/devreplay/lib/file.js","webpack:///./node_modules/devreplay/lib/rulemanage.js","webpack:///./node_modules/vscode-languageserver/lib/main.js","webpack:///./node_modules/vscode-jsonrpc/lib/messages.js","webpack:///./node_modules/vscode-jsonrpc/lib/cancellation.js","webpack:///./node_modules/vscode-jsonrpc/lib/linkedMap.js","webpack:///./node_modules/vscode-jsonrpc/lib/pipeSupport.js","webpack:///external \"os\"","webpack:///external \"crypto\"","webpack:///./node_modules/vscode-jsonrpc/lib/socketSupport.js","webpack:///./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/utils/is.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.implementation.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.typeDefinition.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.workspaceFolders.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.configuration.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.colorProvider.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.foldingRange.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.declaration.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.selectionRange.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.progress.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.callHierarchy.proposed.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/protocol.sematicTokens.proposed.js","webpack:///./node_modules/vscode-languageserver/lib/configuration.js","webpack:///./node_modules/vscode-languageserver/lib/workspaceFolders.js","webpack:///./node_modules/vscode-languageserver/lib/progress.js","webpack:///./node_modules/vscode-languageserver/lib/files.js","webpack:///external \"url\"","webpack:///external \"child_process\"","webpack:///./node_modules/vscode-languageserver/lib/callHierarchy.proposed.js","webpack:///./node_modules/vscode-languageserver/lib/sematicTokens.proposed.js","webpack:///./node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack:///./node_modules/vscode-uri/lib/esm/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","vscode_jsonrpc_1","ProtocolRequestType0","RequestType0","method","super","ProtocolRequestType","RequestType","ProtocolNotificationType","NotificationType","ProtocolNotificationType0","NotificationType0","__export","Is","messages_1","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","ResponseError","ErrorCodes","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","messageReader_1","MessageReader","StreamMessageReader","IPCMessageReader","SocketMessageReader","messageWriter_1","MessageWriter","StreamMessageWriter","IPCMessageWriter","SocketMessageWriter","events_1","Disposable","Event","Emitter","cancellation_1","CancellationTokenSource","CancellationToken","linkedMap_1","CancelNotification","ProgressNotification","Trace","TraceFormat","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionState","type","ProgressType","NullLogger","freeze","error","warn","info","log","fromString","string","Off","toLowerCase","Messages","Verbose","toString","JSON","Text","ConnectionError","Error","code","message","this","setPrototypeOf","_createMessageConnection","messageReader","messageWriter","logger","strategy","sequenceNumber","notificationSquenceNumber","unknownResponseSquenceNumber","timer","tracer","starRequestHandler","undefined","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","Map","messageQueue","LinkedMap","responsePromises","requestTokens","trace","traceFormat","state","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","id","addMessageToQueue","queue","isRequestMessage","set","isResponseMessage","cancelUndispatched","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","fire","triggerMessageQueue","size","setImmediate","shift","requestMessage","reply","resultOrError","startTime","jsonrpc","toJson","result","traceSendingResponse","write","replyError","data","params","stringify","logLSPMessage","traceReceivedRequest","requestHandler","element","handler","Date","now","cancellationSource","tokenKey","String","handlerResult","numberOfParams","token","array","promise","then","InternalError","replySuccess","MethodNotFound","handleRequest","isNotificationMessage","notificationHandler","source","cancel","traceReceivedNotification","handleNotification","responseMessage","responsePromise","timerStart","traceReceivedResponse","reject","resolve","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","callback","toCancel","response","delete","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","computeMessageParams","length","push","connection","sendNotification","messageParams","notificationMessage","traceSendingNotification","onNotification","func","onProgress","_type","has","dispose","sendProgress","onUnhandledProgress","event","sendRequest","throwIfNotListening","is","last","slice","map","Promise","traceSendingRequest","e","MessageWriteError","onCancellationRequested","onRequest","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","boolean","onUnhandledNotification","onDispose","keys","forEach","listen","AlreadyListening","throwIfListening","inspect","console","verbose","ConnectionStrategy","candidate","createMessageConnection","input","output","read","end","isMessageWriter","createClientPipeTransport","createServerPipeTransport","generateRandomPipeName","createClientSocketTransport","createServerSocketTransport","callHierarchy","st","Proposed","CallHierarchyPrepareRequest","CallHierarchyIncomingCallsRequest","CallHierarchyOutgoingCallsRequest","SemanticTokensRequest","SemanticTokensEditsRequest","SemanticTokensRangeRequest","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","createProtocolConnection","reader","writer","Array","isArray","Number","stringArray","every","elem","_disposable","None","CallbackList","context","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","len","splice","args","ret","callbacks","contexts","apply","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","isEmpty","add","_noop","onLastListenerRemove","invoke","require","CR","Buffer","from","LF","MessageBuffer","encoding","index","buffer","allocUnsafe","chunk","toAppend","str","bufferLen","byteLength","copy","newSize","Math","ceil","concat","current","split","header","indexOf","substr","trim","nextStart","onPartialMessage","AbstractMessageReader","partialMessageEmitter","asError","readable","_partialMessageTimeout","timeout","nextMessageLength","messageToken","partialMessageTimer","on","onData","fireError","fireClose","append","headers","tryReadHeaders","contentLength","parseInt","isNaN","msg","tryReadContent","setPartialMessageTimer","clearPartialMessageTimer","json","parse","clearTimeout","setTimeout","firePartialMessage","waitingTime","process","eventEmitter","socket","AbstractMessageWriter","count","writable","errorCount","join","sending","doWriteMessage","send","destroy","handleError","android","angular","chainer2pytouch","cpp","cobol","dart","java","javascript","php","python","rails","react","ruby","typescript","tensorflow","vscode","vue","extend","sources","getInitPattern","fileName","_i","_a","some","x","endsWith","condition","consequent","description","severity","typedArray","check","thenable","ValueUUID","other","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","floor","random","_chars","v4","empty","_UUIDPattern","isUUID","test","generateUuid","CommandIDs","fix","createConnection","documents","workspaceFolder","validate","doc","diagnostics","results","docDir","path","dirname","normalize","URI","uri","fsPath","rootPath","fileContent","getText","ruleFile","lint","lintFile","makeDiagnostic","sendDiagnostics","ruleCode","range","start","line","position","character","code2String","pattern","DiagnosticSeverity","Warning","Information","Hint","convertSeverity","makeSeverity","Diagnostic","version","onInitialize","workspaceFolders","TextDocuments","TextDocument","onDidOpen","document","onDidChangeContent","change","onDidClose","close","onCodeAction","filter","diag","textDocument","codeActions","targetRule","fixAction","CodeAction","newText","fixWithPattern","edits","TextEdit","replace","documentChanges","TextDocumentEdit","createEditByPattern","CodeActionKind","QuickFix","capabilities","textDocumentSync","openClose","TextDocumentSyncKind","Incremental","willSaveWaitUntil","save","includeText","codeActionProvider","codeActionKinds","executeCommandProvider","commands","extend_1","lint_1","fixFromFile","lintFromFile","lintWithPattern","author","conditon","file_1","rulemanage_1","fileContents","ruleFileName","readPatternFile","contents","patterns","matched","patterns_1","verifyPattern","makeSnippetRegex","snippet","makePatternPosition","_","y","reCondition","dollar","joinedCondition","tokenIndex","includes","RegExp","conditon2regex2","exec","conditon2regex","matchedStr","startIndex","headSlice","startLine","startChar","matchedSlice","endLine","toUpperCase","startsWith","tryReadFile","problems","formatILintOut","fs","filename","existsSync","fd","openSync","readSync","readInt8","closeSync","readFileSync","fs_1","readExtends","location","patternContent","patternJson","patternJson_2","extends","patternJson_1","_b","vscode_languageserver_protocol_1","configuration_1","workspaceFolders_1","progress_1","UUID","fm","Files","uriToFilePath","resolveGlobalNodePath","resolveGlobalYarnPath","resolveModulePath","shutdownReceived","exitTimer","null2Undefined","runTimer","processId","setInterval","kill","ex","exit","argv","arg","setupExitTimer","configuration","_documents","_configuration","_onDidChangeContent","_onDidOpen","_onDidClose","_onDidSave","_onWillSave","_willSaveWaitUntil","__textDocumentSync","Full","onDidOpenTextDocument","td","languageId","text","toFire","onDidChangeTextDocument","changes","contentChanges","update","onDidCloseTextDocument","onWillSaveTextDocument","reason","onWillSaveTextDocumentWaitUntil","onDidSaveTextDocument","ErrorMessageTracker","_messages","window","showErrorMessage","RemoteConsoleImpl","_rawConnection","_connection","_capabilities","MessageType","Info","Log","LogMessageNotification","RemoteWindowImpl","ProgressFeature","actions","ShowMessageRequest","BulkRegistration","BulkRegistrationImpl","_registrations","_registered","Set","registerOptions","registrations","BulkUnregistration","BulkUnregistrationImpl","unregistrations","_unregistrations","unregistration","values","unregisterations","UnregistrationRequest","_error","RemoteClientImpl","typeOrRegistrations","registerOptionsOrType","registerMany","registerSingle1","registerSingle2","isAttached","attach","RegistrationRequest","_result","unregisterSingle","asRegistrationParams","registration","RemoteWorkspaceImpl","WorkspaceFoldersFeature","ConfigurationFeature","paramOrEdit","edit","ApplyWorkspaceEditRequest","TelemetryImpl","TelemetryEventNotification","TracerImpl","_trace","LanguagesImpl","attachWorkDone","attachPartialResult","combineConsoleFeatures","one","two","Base","combineTelemetryFeatures","combineTracerFeatures","combineClientFeatures","combineWindowFeatures","combineWorkspaceFeatures","combineLanguagesFeatures","combineFeatures","combine","__brand","telemetry","client","workspace","arg1","arg2","arg3","arg4","factories","port","pipeName","stdin","stdout","transport","commandLineMessage","inputStream","rawAttach","remoteWindow","languages","allRemotes","asPromise","resolved","shutdownHandler","initializeHandler","exitHandler","protocolConnection","arguments","onInitialized","InitializedNotification","onShutdown","onExit","onDidChangeConfiguration","DidChangeConfigurationNotification","onDidChangeWatchedFiles","DidChangeWatchedFilesNotification","DidOpenTextDocumentNotification","DidChangeTextDocumentNotification","DidCloseTextDocumentNotification","WillSaveTextDocumentNotification","WillSaveTextDocumentWaitUntilRequest","DidSaveTextDocumentNotification","PublishDiagnosticsNotification","onHover","HoverRequest","onCompletion","CompletionRequest","onCompletionResolve","CompletionResolveRequest","onSignatureHelp","SignatureHelpRequest","onDeclaration","DeclarationRequest","onDefinition","DefinitionRequest","onTypeDefinition","TypeDefinitionRequest","onImplementation","ImplementationRequest","onReferences","ReferencesRequest","onDocumentHighlight","DocumentHighlightRequest","onDocumentSymbol","DocumentSymbolRequest","onWorkspaceSymbol","WorkspaceSymbolRequest","CodeActionRequest","onCodeLens","CodeLensRequest","onCodeLensResolve","CodeLensResolveRequest","onDocumentFormatting","DocumentFormattingRequest","onDocumentRangeFormatting","DocumentRangeFormattingRequest","onDocumentOnTypeFormatting","DocumentOnTypeFormattingRequest","onRenameRequest","RenameRequest","onPrepareRename","PrepareRenameRequest","onDocumentLinks","DocumentLinkRequest","onDocumentLinkResolve","DocumentLinkResolveRequest","onDocumentColor","DocumentColorRequest","onColorPresentation","ColorPresentationRequest","onFoldingRanges","FoldingRangeRequest","onSelectionRanges","SelectionRangeRequest","onExecuteCommand","ExecuteCommandRequest","remote","InitializeRequest","initialize","fillServerCapabilities","ShutdownRequest","ExitNotification","_createConnection","callHierarchy_proposed_1","ProposedFeatures","all","CallHierarchyFeature","SemanticTokensFeature","SemanticTokensBuilder","ParseError","InvalidRequest","InvalidParams","serverErrorStart","serverErrorEnd","ServerNotInitialized","UnknownErrorCode","RequestCancelled","ContentModified","MessageReadError","AbstractMessageType","_method","_numberOfParams","isCancellationRequested","Cancelled","shortcutEvent","handle","MutableToken","_isCancelled","_emitter","_token","Touch","First","Last","_map","_head","_tail","_size","clear","item","touch","next","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","path_1","os_1","crypto_1","net_1","randomSuffix","randomBytes","platform","tmpdir","connectResolve","connected","_reject","server","createServer","removeListener","onConnected","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticTag","Command","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","objectLiteral","three","four","defined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","color","label","textEdit","additionalTextEdits","startCharacter","endCharacter","kind","Unnecessary","Deprecated","relatedInformation","title","command","insert","del","VersionedTextDocumentIdentifier","options","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","TextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","DocumentSymbol","CodeActionContext","CodeLens","FormattingOptions","DocumentLink","SelectionRange","TextEditChangeImpl","WorkspaceChange","workspaceEdit","_this","_textEditChanges","_workspaceEdit","textEditChange","configurable","getTextEditChange","textDocumentEdit","createFile","checkDocumentChanges","renameFile","deleteFile","PlainText","Markdown","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","items","isIncomplete","fromPlainText","plainText","language","documentation","parameters","Read","Write","Namespace","Package","Boolean","Key","Null","containerName","detail","selectionRange","children","deprecated","Empty","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","only","commandOrEdit","isPreferred","tabSize","insertSpaces","target","parent","EOL","content","FullTextDocument","lineCount","positionAt","offsetAt","applyEdits","sortedEdits","mergeSort","compare","left","right","leftIdx","rightIdx","a","b","diff","lastModifiedOffset","startOffset","endOffset","substring","_uri","_languageId","_version","_content","_lineOffsets","getLineOffsets","lineOffsets","isLineStart","ch","charAt","offset","max","min","low","high","mid","lineOffset","nextLineOffset","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolders_1","WorkspaceFoldersRequest","DidChangeWorkspaceFoldersNotification","protocol_configuration_1","ConfigurationRequest","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","DocumentFilter","DocumentSelector","WorkDoneProgress","WorkDoneProgressCreateRequest","WorkDoneProgressCancelNotification","scheme","ResourceOperationKind","Create","Rename","Delete","FailureHandlingKind","Abort","Transactional","TextOnlyTransactional","Undo","StaticRegistrationOptions","hasId","TextDocumentRegistrationOptions","documentSelector","WorkDoneProgressOptions","workDoneProgress","hasWorkDoneProgress","InitializeError","unknownProtocolVersion","ShowMessageNotification","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","FileChangeType","Created","Changed","Deleted","WatchKind","Change","CompletionTriggerKind","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","resultType","SignatureHelpTriggerKind","ContentChange","resultId","_getConfiguration","section","workspaceCapabilities","_onDidChangeWorkspaceFolders","_unregistration","register","uuid_1","WorkDoneProgressImpl","Instances","_source","percentage","cancellable","arg0","NullProgress","ResultProgress","workDoneToken","_progressSupported","progress","ResultProgressImpl","partialResultToken","url","child_process_1","isWindows","moduleName","nodePath","cwd","app","env","newEnv","delimiter","cp","fork","execArgv","pid","npmCommand","shell","spawnSync","prefix","err","FileSystem","parsed","protocol","segments","decodeURIComponent","first","second","yarnCommand","stderr","lines","yarn","_isCaseSensitive","isCaseSensitive","__filename","isParent","child","workspaceRoot","isAbsolute","onPrepare","attachWorkDoneProgress","onIncomingCalls","attachPartialResultProgress","onOutgoingCalls","onEdits","onRange","_prevData","_id","_prevLine","_prevChar","_data","_dataLen","char","tokenType","tokenModifiers","pushLine","pushChar","prevDataLength","dataLength","endIndex","newData","deleteCount","build","changes_1","isIncremental","getWellformedRange","addedLineOffsets","computeLineOffsets","isFull","rangeLength","isAtLineStart","textOffset","charCodeAt","getWellformedEdit","spans","sortedEdits_1","extendStatics","__extends","__proto__","__","constructor","navigator","userAgent","_schemePattern","_singleSlashStart","_doubleSlashStart","_slash","_regexp","schemeOrData","authority","query","fragment","_strict","_schemeFix","_referenceResolution","_validateUri","isUri","thing","with","_makeFsPath","_URI","match","file","idx","components","skipEncoding","_asFormatted","toJSON","revive","_formatted","external","_fsPath","_sep","_pathSepMarker","_super","res","$mid","encodeTable","encodeURIComponentFast","uriComponent","allowSlash","nativeEncodePos","pos","encodeURIComponent","escaped","encodeURIComponentMinimal","encoder","userinfo","fromCharCode"],"mappings":"6DACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,+BC7ErDrB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMe,EAAmB,EAAQ,GACjC,MAAMC,UAA6BD,EAAiBE,aAChD,YAAYC,GACRC,MAAMD,IAGdrC,EAAQmC,qBAAuBA,EAC/B,MAAMI,UAA4BL,EAAiBM,YAC/C,YAAYH,GACRC,MAAMD,IAGdrC,EAAQuC,oBAAsBA,EAC9B,MAAME,UAAiCP,EAAiBQ,iBACpD,YAAYL,GACRC,MAAMD,IAGdrC,EAAQyC,yBAA2BA,EACnC,MAAME,UAAkCT,EAAiBU,kBACrD,YAAYP,GACRC,MAAMD,IAGdrC,EAAQ2C,0BAA4BA,G,6BCxBpC,SAASE,EAASvC,GACd,IAAK,IAAI0B,KAAK1B,EAAQN,EAAQ+B,eAAeC,KAAIhC,EAAQgC,GAAK1B,EAAE0B,IAEpEpB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAM2B,EAAK,EAAQ,GACbC,EAAa,EAAQ,IAC3B/C,EAAQwC,YAAcO,EAAWP,YACjCxC,EAAQoC,aAAeW,EAAWX,aAClCpC,EAAQgD,aAAeD,EAAWC,aAClChD,EAAQiD,aAAeF,EAAWE,aAClCjD,EAAQkD,aAAeH,EAAWG,aAClClD,EAAQmD,aAAeJ,EAAWI,aAClCnD,EAAQoD,aAAeL,EAAWK,aAClCpD,EAAQqD,aAAeN,EAAWM,aAClCrD,EAAQsD,aAAeP,EAAWO,aAClCtD,EAAQuD,aAAeR,EAAWQ,aAClCvD,EAAQwD,aAAeT,EAAWS,aAClCxD,EAAQyD,cAAgBV,EAAWU,cACnCzD,EAAQ0D,WAAaX,EAAWW,WAChC1D,EAAQ0C,iBAAmBK,EAAWL,iBACtC1C,EAAQ4C,kBAAoBG,EAAWH,kBACvC5C,EAAQ2D,kBAAoBZ,EAAWY,kBACvC3D,EAAQ4D,kBAAoBb,EAAWa,kBACvC5D,EAAQ6D,kBAAoBd,EAAWc,kBACvC7D,EAAQ8D,kBAAoBf,EAAWe,kBACvC9D,EAAQ+D,kBAAoBhB,EAAWgB,kBACvC/D,EAAQgE,kBAAoBjB,EAAWiB,kBACvChE,EAAQiE,kBAAoBlB,EAAWkB,kBACvCjE,EAAQkE,kBAAoBnB,EAAWmB,kBACvClE,EAAQmE,kBAAoBpB,EAAWoB,kBACvC,MAAMC,EAAkB,EAAQ,GAChCpE,EAAQqE,cAAgBD,EAAgBC,cACxCrE,EAAQsE,oBAAsBF,EAAgBE,oBAC9CtE,EAAQuE,iBAAmBH,EAAgBG,iBAC3CvE,EAAQwE,oBAAsBJ,EAAgBI,oBAC9C,MAAMC,EAAkB,EAAQ,GAChCzE,EAAQ0E,cAAgBD,EAAgBC,cACxC1E,EAAQ2E,oBAAsBF,EAAgBE,oBAC9C3E,EAAQ4E,iBAAmBH,EAAgBG,iBAC3C5E,EAAQ6E,oBAAsBJ,EAAgBI,oBAC9C,MAAMC,EAAW,EAAQ,GACzB9E,EAAQ+E,WAAaD,EAASC,WAC9B/E,EAAQgF,MAAQF,EAASE,MACzBhF,EAAQiF,QAAUH,EAASG,QAC3B,MAAMC,EAAiB,EAAQ,IAC/BlF,EAAQmF,wBAA0BD,EAAeC,wBACjDnF,EAAQoF,kBAAoBF,EAAeE,kBAC3C,MAAMC,EAAc,EAAQ,IAG5B,IAAIC,EAIAC,EAeAC,EAsCAC,EAiBAC,EAIAC,EAIAC,EA+BAC,EAnHJhD,EAAS,EAAQ,KACjBA,EAAS,EAAQ,KAEjB,SAAWyC,GACPA,EAAmBQ,KAAO,IAAI/C,EAAWL,iBAAiB,mBAD9D,CAEG4C,IAAuBA,EAAqB,KAE/C,SAAWC,GACPA,EAAqBO,KAAO,IAAI/C,EAAWL,iBAAiB,cADhE,CAEG6C,IAAyBA,EAAuB,KAKnDvF,EAAQ+F,aAJR,MACI,iBAIJ/F,EAAQgG,WAAapF,OAAOqF,OAAO,CAC/BC,MAAO,OACPC,KAAM,OACNC,KAAM,OACNC,IAAK,SAGT,SAAWb,GACPA,EAAMA,EAAW,IAAI,GAAK,MAC1BA,EAAMA,EAAgB,SAAI,GAAK,WAC/BA,EAAMA,EAAe,QAAI,GAAK,UAHlC,CAIGA,EAAQxF,EAAQwF,QAAUxF,EAAQwF,MAAQ,KAC7C,SAAWA,GAiBPA,EAAMc,WAhBN,SAAoBnF,GAChB,IAAK2B,EAAGyD,OAAOpF,GACX,OAAOqE,EAAMgB,IAGjB,OADArF,EAAQA,EAAMsF,eAEV,IAAK,MACD,OAAOjB,EAAMgB,IACjB,IAAK,WACD,OAAOhB,EAAMkB,SACjB,IAAK,UACD,OAAOlB,EAAMmB,QACjB,QACI,OAAOnB,EAAMgB,MAgBzBhB,EAAMoB,SAZN,SAAkBzF,GACd,OAAQA,GACJ,KAAKqE,EAAMgB,IACP,MAAO,MACX,KAAKhB,EAAMkB,SACP,MAAO,WACX,KAAKlB,EAAMmB,QACP,MAAO,UACX,QACI,MAAO,QA3BvB,CA+BGnB,EAAQxF,EAAQwF,QAAUxF,EAAQwF,MAAQ,KAE7C,SAAWC,GACPA,EAAkB,KAAI,OACtBA,EAAkB,KAAI,OAF1B,CAGiBzF,EAAQyF,cAAgBzF,EAAQyF,YAAc,KAC/D,SAAWA,GAUPA,EAAYa,WATZ,SAAoBnF,GAEhB,MAAc,UADdA,EAAQA,EAAMsF,eAEHhB,EAAYoB,KAGZpB,EAAYqB,MAP/B,CAWGrB,EAAczF,EAAQyF,cAAgBzF,EAAQyF,YAAc,KAE/D,SAAWC,GACPA,EAAqBI,KAAO,IAAI/C,EAAWL,iBAAiB,0BADhE,CAEGgD,EAAuB1F,EAAQ0F,uBAAyB1F,EAAQ0F,qBAAuB,KAE1F,SAAWC,GACPA,EAAqBG,KAAO,IAAI/C,EAAWL,iBAAiB,0BADhE,CAEGiD,EAAuB3F,EAAQ2F,uBAAyB3F,EAAQ2F,qBAAuB,KAE1F,SAAWC,GAIPA,EAAiBA,EAAyB,OAAI,GAAK,SAInDA,EAAiBA,EAA2B,SAAI,GAAK,WAIrDA,EAAiBA,EAAmC,iBAAI,GAAK,mBAZjE,CAaGA,EAAmB5F,EAAQ4F,mBAAqB5F,EAAQ4F,iBAAmB,KAC9E,MAAMmB,UAAwBC,MAC1B,YAAYC,EAAMC,GACd5E,MAAM4E,GACNC,KAAKF,KAAOA,EACZrG,OAAOwG,eAAeD,KAAMJ,EAAgBjF,YAmBpD,SAASuF,EAAyBC,EAAeC,EAAeC,EAAQC,GACpE,IAAIC,EAAiB,EACjBC,EAA4B,EAC5BC,EAA+B,EAEnC,IAKIC,EAMAC,EAXAC,OAAqBC,EACrBC,EAAkBrH,OAAOY,OAAO,MAChC0G,OAA0BF,EAC1BG,EAAuBvH,OAAOY,OAAO,MACrC4G,EAAmB,IAAIC,IAEvBC,EAAe,IAAIjD,EAAYkD,UAC/BC,EAAmB5H,OAAOY,OAAO,MACjCiH,EAAgB7H,OAAOY,OAAO,MAC9BkH,EAAQlD,EAAMgB,IACdmC,EAAclD,EAAYqB,KAE1B8B,EAAQ/C,EAAgBgD,IACxBC,EAAe,IAAIhE,EAASG,QAC5B8D,EAAe,IAAIjE,EAASG,QAC5B+D,EAA+B,IAAIlE,EAASG,QAC5CgE,EAA2B,IAAInE,EAASG,QACxCiE,EAAiB,IAAIpE,EAASG,QAClC,SAASkE,EAAsBC,GAC3B,MAAO,OAASA,EAAGxC,WAavB,SAASyC,EAAkBC,EAAOpC,GAXlC,IAAgCkC,EAYxBrG,EAAWwG,iBAAiBrC,GAC5BoC,EAAME,IAAIL,EAAsBjC,EAAQkC,IAAKlC,GAExCnE,EAAW0G,kBAAkBvC,GAClCoC,EAAME,IAfC,QADiBJ,EAgBSlC,EAAQkC,IAdlC,kBAAoBxB,GAA8BhB,WAGlD,OAASwC,EAAGxC,WAW2BM,GAG9CoC,EAAME,IAVH,UAAY7B,GAA2Bf,WAUFM,GAGhD,SAASwC,EAAmBC,IAG5B,SAASC,IACL,OAAOhB,IAAU/C,EAAgBgE,UAErC,SAASC,IACL,OAAOlB,IAAU/C,EAAgBkE,OAErC,SAASC,IACL,OAAOpB,IAAU/C,EAAgBoE,SAErC,SAASC,IACDtB,IAAU/C,EAAgBgD,KAAOD,IAAU/C,EAAgBgE,YAC3DjB,EAAQ/C,EAAgBkE,OACxBhB,EAAaoB,UAAKnC,IAc1B,SAASoC,IACDvC,GAA+B,IAAtBS,EAAa+B,OAG1BxC,EAAQyC,aAAa,KACjBzC,OAAQG,EAIhB,WACI,GAA0B,IAAtBM,EAAa+B,KACb,OAEJ,IAAInD,EAAUoB,EAAaiC,QAC3B,IACQxH,EAAWwG,iBAAiBrC,GAyCxC,SAAuBsD,GACnB,GAAIR,IAGA,OAEJ,SAASS,EAAMC,EAAerI,EAAQsI,GAClC,IAAIzD,EAAU,CACV0D,QAzII,MA0IJxB,GAAIoB,EAAepB,IAEnBsB,aAAyB3H,EAAWU,cACpCyD,EAAQhB,MAAQwE,EAAcG,SAG9B3D,EAAQ4D,YAA2B,IAAlBJ,EAA2B,KAAOA,EAEvDK,EAAqB7D,EAAS7E,EAAQsI,GACtCpD,EAAcyD,MAAM9D,GAExB,SAAS+D,EAAW/E,EAAO7D,EAAQsI,GAC/B,IAAIzD,EAAU,CACV0D,QAvJI,MAwJJxB,GAAIoB,EAAepB,GACnBlD,MAAOA,EAAM2E,UAEjBE,EAAqB7D,EAAS7E,EAAQsI,GACtCpD,EAAcyD,MAAM9D,IAiQ5B,SAA8BA,GAC1B,GAAIwB,IAAUlD,EAAMgB,MAAQsB,EACxB,OAEJ,GAAIa,IAAgBlD,EAAYqB,KAAM,CAClC,IAAIoE,OAAOlD,EACPU,IAAUlD,EAAMmB,SAAWO,EAAQiE,SACnCD,EAAO,WAAWrE,KAAKuE,UAAUlE,EAAQiE,OAAQ,KAAM,UAE3DrD,EAAOzB,IAAI,qBAAqBa,EAAQ7E,aAAa6E,EAAQkC,QAAS8B,QAGtEG,EAAc,kBAAmBnE,GA7PrCoE,CAAqBd,GACrB,IACI1E,EACAyF,EAFAC,EAAUvD,EAAgBuC,EAAenI,QAGzCmJ,IACA1F,EAAO0F,EAAQ1F,KACfyF,EAAiBC,EAAQC,SAE7B,IAAId,EAAYe,KAAKC,MACrB,GAAIJ,GAAkBxD,EAAoB,CACtC,IAAI6D,EAAqB,IAAI1G,EAAeC,wBACxC0G,EAAWC,OAAOtB,EAAepB,IACrCX,EAAcoD,GAAYD,EAC1B,IACI,IAAIG,EAEAA,OAD0B,IAA1BvB,EAAeW,aAA+B,IAATrF,GAA2C,IAAxBA,EAAKkG,eAC7CT,EACVA,EAAeK,EAAmBK,OAClClE,EAAmByC,EAAenI,OAAQuJ,EAAmBK,OAE9DnJ,EAAGoJ,MAAM1B,EAAeW,eAAqB,IAATrF,GAAmBA,EAAKkG,eAAiB,GAClET,EACVA,KAAkBf,EAAeW,OAAQS,EAAmBK,OAC5DlE,EAAmByC,EAAenI,UAAWmI,EAAeW,OAAQS,EAAmBK,OAG7EV,EACVA,EAAef,EAAeW,OAAQS,EAAmBK,OACzDlE,EAAmByC,EAAenI,OAAQmI,EAAeW,OAAQS,EAAmBK,OAE9F,IAAIE,EAAUJ,EACTA,EAIII,EAAQC,KACbD,EAAQC,KAAM1B,WACHjC,EAAcoD,GACrBpB,EAAMC,EAAeF,EAAenI,OAAQsI,IAC7CzE,WACQuC,EAAcoD,GACjB3F,aAAiBnD,EAAWU,cAC5BwH,EAAW/E,EAAOsE,EAAenI,OAAQsI,GAEpCzE,GAASpD,EAAGyD,OAAOL,EAAMgB,SAC9B+D,EAAW,IAAIlI,EAAWU,cAAcV,EAAWW,WAAW2I,cAAe,WAAW7B,EAAenI,+BAA+B6D,EAAMgB,WAAYsD,EAAenI,OAAQsI,GAG/KM,EAAW,IAAIlI,EAAWU,cAAcV,EAAWW,WAAW2I,cAAe,WAAW7B,EAAenI,6DAA8DmI,EAAenI,OAAQsI,aAK7LlC,EAAcoD,GACrBpB,EAAMsB,EAAevB,EAAenI,OAAQsI,YAtBrClC,EAAcoD,GA9CjC,SAAsBf,EAAQzI,EAAQsI,QAGnB,IAAXG,IACAA,EAAS,MAEb,IAAI5D,EAAU,CACV0D,QArKI,MAsKJxB,GAAIoB,EAAepB,GACnB0B,OAAQA,GAEZC,EAAqB7D,EAAS7E,EAAQsI,GACtCpD,EAAcyD,MAAM9D,GAmCZoF,CAAaP,EAAevB,EAAenI,OAAQsI,IAwB3D,MAAOzE,UACIuC,EAAcoD,GACjB3F,aAAiBnD,EAAWU,cAC5BgH,EAAMvE,EAAOsE,EAAenI,OAAQsI,GAE/BzE,GAASpD,EAAGyD,OAAOL,EAAMgB,SAC9B+D,EAAW,IAAIlI,EAAWU,cAAcV,EAAWW,WAAW2I,cAAe,WAAW7B,EAAenI,+BAA+B6D,EAAMgB,WAAYsD,EAAenI,OAAQsI,GAG/KM,EAAW,IAAIlI,EAAWU,cAAcV,EAAWW,WAAW2I,cAAe,WAAW7B,EAAenI,6DAA8DmI,EAAenI,OAAQsI,SAKpMM,EAAW,IAAIlI,EAAWU,cAAcV,EAAWW,WAAW6I,eAAgB,oBAAoB/B,EAAenI,UAAWmI,EAAenI,OAAQsI,GA1J/I6B,CAActF,GAETnE,EAAW0J,sBAAsBvF,GAqMlD,SAA4BA,GACxB,GAAI8C,IAEA,OAEJ,IACI0C,EADA5G,OAAOkC,EAEX,GAAId,EAAQ7E,SAAWiD,EAAmBQ,KAAKzD,OAC3CqK,EAAuBvB,IACnB,IAAI/B,EAAK+B,EAAO/B,GACZuD,EAASlE,EAAcqD,OAAO1C,IAC9BuD,GACAA,EAAOC,cAId,CACD,IAAIpB,EAAUrD,EAAqBjB,EAAQ7E,QACvCmJ,IACAkB,EAAsBlB,EAAQC,QAC9B3F,EAAO0F,EAAQ1F,MAGvB,GAAI4G,GAAuBxE,EACvB,KAoHR,SAAmChB,GAC/B,GAAIwB,IAAUlD,EAAMgB,MAAQsB,GAAUZ,EAAQ7E,SAAWsD,EAAqBG,KAAKzD,OAC/E,OAEJ,GAAIsG,IAAgBlD,EAAYqB,KAAM,CAClC,IAAIoE,OAAOlD,EACPU,IAAUlD,EAAMmB,UAEZuE,EADAhE,EAAQiE,OACD,WAAWtE,KAAKuE,UAAUlE,EAAQiE,OAAQ,KAAM,SAGhD,+BAGfrD,EAAOzB,IAAI,0BAA0Ba,EAAQ7E,WAAY6I,QAGzDG,EAAc,uBAAwBnE,GApIlC2F,CAA0B3F,QACH,IAAnBA,EAAQiE,aAA+B,IAATrF,GAA2C,IAAxBA,EAAKkG,eACtDU,EAAsBA,IAAwBxE,EAAwBhB,EAAQ7E,QAEzES,EAAGoJ,MAAMhF,EAAQiE,eAAqB,IAATrF,GAAmBA,EAAKkG,eAAiB,GAC3EU,EAAsBA,KAAuBxF,EAAQiE,QAAUjD,EAAwBhB,EAAQ7E,UAAW6E,EAAQiE,QAGlHuB,EAAsBA,EAAoBxF,EAAQiE,QAAUjD,EAAwBhB,EAAQ7E,OAAQ6E,EAAQiE,QAGpH,MAAOjF,GACCA,EAAMgB,QACNM,EAAOtB,MAAM,yBAAyBgB,EAAQ7E,gCAAgC6D,EAAMgB,WAGpFM,EAAOtB,MAAM,yBAAyBgB,EAAQ7E,qCAKtD2G,EAA6BmB,KAAKjD,GAlP9B4F,CAAmB5F,GAEdnE,EAAW0G,kBAAkBvC,GAwJ9C,SAAwB6F,GACpB,GAAI/C,IAEA,OAEJ,GAA2B,OAAvB+C,EAAgB3D,GACZ2D,EAAgB7G,MAChBsB,EAAOtB,MAAM,qDAAqDW,KAAKuE,UAAU2B,EAAgB7G,WAAO8B,EAAW,MAGnHR,EAAOtB,MAAM,oFAGhB,CACD,IAAIzE,EAAMqK,OAAOiB,EAAgB3D,IAC7B4D,EAAkBxE,EAAiB/G,GAEvC,GAyLR,SAA+ByF,EAAS8F,GACpC,GAAItE,IAAUlD,EAAMgB,MAAQsB,EACxB,OAEJ,GAAIa,IAAgBlD,EAAYqB,KAAM,CAClC,IAAIoE,OAAOlD,EAcX,GAbIU,IAAUlD,EAAMmB,UACZO,EAAQhB,OAASgB,EAAQhB,MAAMgF,KAC/BA,EAAO,eAAerE,KAAKuE,UAAUlE,EAAQhB,MAAMgF,KAAM,KAAM,SAG3DhE,EAAQ4D,OACRI,EAAO,WAAWrE,KAAKuE,UAAUlE,EAAQ4D,OAAQ,KAAM,cAEhC,IAAlB5D,EAAQhB,QACbgF,EAAO,4BAIf8B,EAAiB,CACjB,IAAI9G,EAAQgB,EAAQhB,MAAQ,oBAAoBgB,EAAQhB,MAAMgB,YAAYA,EAAQhB,MAAMe,SAAW,GACnGa,EAAOzB,IAAI,sBAAsB2G,EAAgB3K,aAAa6E,EAAQkC,WAAWsC,KAAKC,MAAQqB,EAAgBC,gBAAgB/G,IAASgF,QAGvIpD,EAAOzB,IAAI,qBAAqBa,EAAQkC,sCAAuC8B,QAInFG,EAAc,mBAAoBnE,GAtNlCgG,CAAsBH,EAAiBC,GACnCA,EAAiB,QACVxE,EAAiB/G,GACxB,IACI,GAAIsL,EAAgB7G,MAAO,CACvB,IAAIA,EAAQ6G,EAAgB7G,MAC5B8G,EAAgBG,OAAO,IAAIpK,EAAWU,cAAcyC,EAAMe,KAAMf,EAAMgB,QAAShB,EAAMgF,WAEpF,SAA+B,IAA3B6B,EAAgBjC,OAIrB,MAAM,IAAI9D,MAAM,wBAHhBgG,EAAgBI,QAAQL,EAAgBjC,SAMhD,MAAO5E,GACCA,EAAMgB,QACNM,EAAOtB,MAAM,qBAAqB8G,EAAgB3K,gCAAgC6D,EAAMgB,WAGxFM,EAAOtB,MAAM,qBAAqB8G,EAAgB3K,mCA3L1DgL,CAAenG,GAkP3B,SAA8BA,GAC1B,IAAKA,EAED,YADAM,EAAOtB,MAAM,2BAGjBsB,EAAOtB,MAAM,6EAA6EW,KAAKuE,UAAUlE,EAAS,KAAM,MAExH,IAAI6F,EAAkB7F,EACtB,GAAIpE,EAAGyD,OAAOwG,EAAgB3D,KAAOtG,EAAGwK,OAAOP,EAAgB3D,IAAK,CAChE,IAAI3H,EAAMqK,OAAOiB,EAAgB3D,IAC7BmE,EAAkB/E,EAAiB/G,GACnC8L,GACAA,EAAgBJ,OAAO,IAAInG,MAAM,uEA3PjCwG,CAAqBtG,GAG7B,QACIkD,KAvBAqD,MAVRnG,EAAcoG,QAAQxD,GACtB5C,EAAcqG,SAPd,SAA0BzH,GACtB4C,EAAaqB,KAAK,CAACjE,OAAO8B,OAAWA,OAOzCT,EAAcmG,QAAQxD,GACtB3C,EAAcoG,SANd,SAA2BzC,GACvBpC,EAAaqB,KAAKe,MAsCtB,IAAI0C,EAAY1G,IACZ,IAGI,GAAInE,EAAW0J,sBAAsBvF,IAAYA,EAAQ7E,SAAWiD,EAAmBQ,KAAKzD,OAAQ,CAChG,IAAIZ,EAAM0H,EAAsBjC,EAAQiE,OAAO/B,IAC3CyE,EAAWvF,EAAavH,IAAIU,GAChC,GAAIsB,EAAWwG,iBAAiBsE,GAAW,CACvC,IAAIC,EAAWrG,GAAYA,EAASiC,mBAAqBjC,EAASiC,mBAAmBmE,EAAUnE,QAAsBA,EACrH,GAAIoE,SAAgC,IAAnBA,EAAS5H,YAAwC,IAApB4H,EAAShD,QAKnD,OAJAxC,EAAayF,OAAOtM,GACpBqM,EAAS1E,GAAKyE,EAASzE,GACvB2B,EAAqB+C,EAAU5G,EAAQ7E,OAAQqJ,KAAKC,YACpDpE,EAAcyD,MAAM8C,IAKhCzE,EAAkBf,EAAcpB,GAEpC,QACIkD,MAsQR,SAASW,EAAqB7D,EAAS7E,EAAQsI,GAC3C,GAAIjC,IAAUlD,EAAMgB,KAAQsB,EAG5B,GAAIa,IAAgBlD,EAAYqB,KAAM,CAClC,IAAIoE,OAAOlD,EACPU,IAAUlD,EAAMmB,UACZO,EAAQhB,OAASgB,EAAQhB,MAAMgF,KAC/BA,EAAO,eAAerE,KAAKuE,UAAUlE,EAAQhB,MAAMgF,KAAM,KAAM,SAG3DhE,EAAQ4D,OACRI,EAAO,WAAWrE,KAAKuE,UAAUlE,EAAQ4D,OAAQ,KAAM,cAEhC,IAAlB5D,EAAQhB,QACbgF,EAAO,4BAInBpD,EAAOzB,IAAI,qBAAqBhE,QAAa6E,EAAQkC,iCAAiCsC,KAAKC,MAAQhB,MAAeO,QAGlHG,EAAc,gBAAiBnE,GAqEvC,SAASmE,EAAcvF,EAAMoB,GACzB,IAAKY,GAAUY,IAAUlD,EAAMgB,IAC3B,OAEJ,MAAMwH,EAAa,CACfC,cAAc,EACdnI,OACAoB,UACAgH,UAAWxC,KAAKC,OAEpB7D,EAAOzB,IAAI2H,GAEf,SAASG,IACL,GAAIrE,IACA,MAAM,IAAI/C,EAAgBnB,EAAiBmE,OAAQ,yBAEvD,GAAIC,IACA,MAAM,IAAIjD,EAAgBnB,EAAiBqE,SAAU,2BAa7D,SAASmE,EAAgBC,GACrB,YAAc,IAAVA,EACO,KAGAA,EAGf,SAASC,EAAqBxI,EAAMqF,GAChC,IAAIL,EACAkB,EAAiBlG,EAAKkG,eAC1B,OAAQA,GACJ,KAAK,EACDlB,EAAS,KACT,MACJ,KAAK,EACDA,EAASsD,EAAgBjD,EAAO,IAChC,MACJ,QACIL,EAAS,GACT,IAAK,IAAI5K,EAAI,EAAGA,EAAIiL,EAAOoD,QAAUrO,EAAI8L,EAAgB9L,IACrD4K,EAAO0D,KAAKJ,EAAgBjD,EAAOjL,KAEvC,GAAIiL,EAAOoD,OAASvC,EAChB,IAAK,IAAI9L,EAAIiL,EAAOoD,OAAQrO,EAAI8L,EAAgB9L,IAC5C4K,EAAO0D,KAAK,MAK5B,OAAO1D,EAEX,IAAI2D,EAAa,CACbC,iBAAkB,CAAC5I,KAASqF,KAExB,IAAI9I,EACAsM,EACJ,GAHAR,IAGIrL,EAAGyD,OAAOT,GAEV,OADAzD,EAASyD,EACDqF,EAAOoD,QACX,KAAK,EACDI,EAAgB,KAChB,MACJ,KAAK,EACDA,EAAgBxD,EAAO,GACvB,MACJ,QACIwD,EAAgBxD,OAKxB9I,EAASyD,EAAKzD,OACdsM,EAAgBL,EAAqBxI,EAAMqF,GAE/C,IAAIyD,EAAsB,CACtBhE,QArjBI,MAsjBJvI,OAAQA,EACR8I,OAAQwD,IAvMpB,SAAkCzH,GAC9B,GAAIwB,IAAUlD,EAAMgB,KAAQsB,EAG5B,GAAIa,IAAgBlD,EAAYqB,KAAM,CAClC,IAAIoE,OAAOlD,EACPU,IAAUlD,EAAMmB,UAEZuE,EADAhE,EAAQiE,OACD,WAAWtE,KAAKuE,UAAUlE,EAAQiE,OAAQ,KAAM,SAGhD,+BAGfrD,EAAOzB,IAAI,yBAAyBa,EAAQ7E,WAAY6I,QAGxDG,EAAc,oBAAqBnE,GAwLnC2H,CAAyBD,GACzBrH,EAAcyD,MAAM4D,IAExBE,eAAgB,CAAChJ,EAAM2F,KACnB0C,IACIrL,EAAGiM,KAAKjJ,GACRoC,EAA0BpC,EAErB2F,IACD3I,EAAGyD,OAAOT,GACVqC,EAAqBrC,GAAQ,CAAEA,UAAMkC,EAAWyD,WAGhDtD,EAAqBrC,EAAKzD,QAAU,CAAEyD,OAAM2F,aAIxDuD,WAAY,CAACC,EAAOhD,EAAOR,KACvB,GAAIrD,EAAiB8G,IAAIjD,GACrB,MAAM,IAAIjF,MAAM,8BAA8BiF,wBAGlD,OADA7D,EAAiBoB,IAAIyC,EAAOR,GACrB,CACH0D,QAAS,KACL/G,EAAiB2F,OAAO9B,MAIpCmD,aAAc,CAACH,EAAOhD,EAAO9K,KACzBsN,EAAWC,iBAAiBnJ,EAAqBO,KAAM,CAAEmG,QAAO9K,WAEpEkO,oBAAqBpG,EAAyBqG,MAC9CC,YAAa,CAACzJ,KAASqF,KAGnB,IAAI9I,EACAsM,EAHJR,IAlGR,WACI,IAAKvE,IACD,MAAM,IAAI5C,MAAM,wBAiGhBwI,GAGA,IAAIvD,OAAQjE,EACZ,GAAIlF,EAAGyD,OAAOT,GAEV,OADAzD,EAASyD,EACDqF,EAAOoD,QACX,KAAK,EACDI,EAAgB,KAChB,MACJ,KAAK,EAEGzJ,EAAeE,kBAAkBqK,GAAGtE,EAAO,KAC3CwD,EAAgB,KAChB1C,EAAQd,EAAO,IAGfwD,EAAgBP,EAAgBjD,EAAO,IAE3C,MACJ,QACI,MAAMuE,EAAOvE,EAAOoD,OAAS,EACzBrJ,EAAeE,kBAAkBqK,GAAGtE,EAAOuE,KAC3CzD,EAAQd,EAAOuE,GAEXf,EADkB,IAAlBxD,EAAOoD,OACSH,EAAgBjD,EAAO,IAGvBA,EAAOwE,MAAM,EAAGD,GAAME,IAAIzO,GAASiN,EAAgBjN,KAIvEwN,EAAgBxD,EAAOyE,IAAIzO,GAASiN,EAAgBjN,QAK/D,CACDkB,EAASyD,EAAKzD,OACdsM,EAAgBL,EAAqBxI,EAAMqF,GAC3C,IAAIa,EAAiBlG,EAAKkG,eAC1BC,EAAQ/G,EAAeE,kBAAkBqK,GAAGtE,EAAOa,IAAmBb,EAAOa,QAAkBhE,EAEnG,IAAIoB,EAAK1B,IACLoD,EAAS,IAAI+E,QAAQ,CAACzC,EAASD,KAC/B,IAAI3C,EAAiB,CACjBI,QAzoBA,MA0oBAxB,GAAIA,EACJ/G,OAAQA,EACR8I,OAAQwD,GAER3B,EAAkB,CAAE3K,OAAQA,EAAQ4K,WAAYvB,KAAKC,MAAOyB,UAASD,WA7SrF,SAA6BjG,GACzB,GAAIwB,IAAUlD,EAAMgB,KAAQsB,EAG5B,GAAIa,IAAgBlD,EAAYqB,KAAM,CAClC,IAAIoE,OAAOlD,EACPU,IAAUlD,EAAMmB,SAAWO,EAAQiE,SACnCD,EAAO,WAAWrE,KAAKuE,UAAUlE,EAAQiE,OAAQ,KAAM,UAE3DrD,EAAOzB,IAAI,oBAAoBa,EAAQ7E,aAAa6E,EAAQkC,QAAS8B,QAGrEG,EAAc,eAAgBnE,GAkS1B4I,CAAoBtF,GACpB,IACIjD,EAAcyD,MAAMR,GAExB,MAAOuF,GAEH/C,EAAgBG,OAAO,IAAIpK,EAAWU,cAAcV,EAAWW,WAAWsM,kBAAmBD,EAAE7I,QAAU6I,EAAE7I,QAAU,mBACrH8F,EAAkB,KAElBA,IACAxE,EAAiBsD,OAAO1C,IAAO4D,KAQvC,OALIf,GACAA,EAAMgE,wBAAwB,KAC1BxB,EAAWC,iBAAiBpJ,EAAmBQ,KAAM,CAAEsD,SAGxD0B,GAEXoF,UAAW,CAACpK,EAAM2F,KACd0C,IACIrL,EAAGiM,KAAKjJ,GACRiC,EAAqBjC,EAEhB2F,IACD3I,EAAGyD,OAAOT,GACVmC,EAAgBnC,GAAQ,CAAEA,UAAMkC,EAAWyD,WAG3CxD,EAAgBnC,EAAKzD,QAAU,CAAEyD,OAAM2F,aAInD/C,MAAO,CAACyH,EAAQC,EAASC,KACrB,IAAIC,GAAoB,EACpBC,EAAe9K,EAAYqB,UACQ,IAAnCuJ,IACIvN,EAAG0N,QAAQH,GACXC,EAAoBD,GAGpBC,EAAoBD,EAA+B3B,mBAAoB,EACvE6B,EAAeF,EAA+B1H,aAAelD,EAAYqB,OAGjF4B,EAAQyH,EACRxH,EAAc4H,EAEVzI,EADAY,IAAUlD,EAAMgB,SACPwB,EAGAoI,GAETE,GAAsBxG,KAAeE,KACrCyE,EAAWC,iBAAiBhJ,EAAqBI,KAAM,CAAE3E,MAAOqE,EAAMoB,SAASuJ,MAGvFxC,QAAS7E,EAAawG,MACtB5B,QAAS3E,EAAauG,MACtBmB,wBAAyBzH,EAA6BsG,MACtDoB,UAAWxH,EAAeoG,MAC1BH,QAAS,KACL,GAAInF,IACA,OAEJpB,EAAQ/C,EAAgBoE,SACxBf,EAAeiB,UAAKnC,GACpB,IAAI9B,EAAQ,IAAIc,MAAM,4BACtBpG,OAAO+P,KAAKnI,GAAkBoI,QAASnP,IACnC+G,EAAiB/G,GAAK0L,OAAOjH,KAEjCsC,EAAmB5H,OAAOY,OAAO,MACjCiH,EAAgB7H,OAAOY,OAAO,MAC9B8G,EAAe,IAAIjD,EAAYkD,UAE3BzF,EAAGiM,KAAKxH,EAAc4H,UACtB5H,EAAc4H,UAEdrM,EAAGiM,KAAKzH,EAAc6H,UACtB7H,EAAc6H,WAGtB0B,OAAQ,KACJ1C,IAhPR,WACI,GAAIvE,IACA,MAAM,IAAI7C,EAAgBnB,EAAiBkL,iBAAkB,mCA+O7DC,GACAnI,EAAQ/C,EAAgBgE,UACxBvC,EAAcuJ,OAAOjD,IAEzBoD,QAAS,KAELC,QAAQ5K,IAAI,aAkBpB,OAfAoI,EAAWK,eAAenJ,EAAqBG,KAAOqF,IAC9CzC,IAAUlD,EAAMgB,KAAQsB,GAG5BA,EAAOzB,IAAI8E,EAAOjE,QAASwB,IAAUlD,EAAMmB,QAAUwE,EAAO+F,aAAUlJ,KAE1EyG,EAAWK,eAAevJ,EAAqBO,KAAOqF,IAClD,MAAMM,EAAUrD,EAAiBrH,IAAIoK,EAAOc,OACxCR,EACAA,EAAQN,EAAOhK,OAGf8H,EAAyBkB,KAAKgB,KAG/BsD,EAhxBXzO,EAAQ+G,gBAAkBA,EAE1B,SAAWoK,GAKPA,EAAmB1B,GAJnB,SAAYtO,GACR,IAAIiQ,EAAYjQ,EAChB,OAAOiQ,GAAatO,EAAGiM,KAAKqC,EAAU1H,qBAH9C,CAMwB1J,EAAQmR,qBAAuBnR,EAAQmR,mBAAqB,KAEpF,SAAWtL,GACPA,EAAgBA,EAAqB,IAAI,GAAK,MAC9CA,EAAgBA,EAA2B,UAAI,GAAK,YACpDA,EAAgBA,EAAwB,OAAI,GAAK,SACjDA,EAAgBA,EAA0B,SAAI,GAAK,WAJvD,CAKGA,IAAoBA,EAAkB,KAixBzC7F,EAAQqR,wBARR,SAAiCC,EAAOC,EAAQ/J,EAAQC,GANxD,IAAyBtG,EAYrB,OALKqG,IACDA,EAASxH,EAAQgG,YAIdqB,OAXiB,KADHlG,EAUQmQ,GAThBT,aAAoC,IAAf1P,EAAMqQ,KASFF,EAAQ,IAAIlN,EAAgBE,oBAAoBgN,GAP1F,SAAyBnQ,GACrB,YAAuB,IAAhBA,EAAM6J,YAAkC,IAAd7J,EAAMsQ,IAO1BC,CAAgBH,GAAUA,EAAS,IAAI9M,EAAgBE,oBAAoB4M,GACxC/J,EAAQC,K,6BCz7B5D,SAAS5E,EAASvC,GACd,IAAK,IAAI0B,KAAK1B,EAAQN,EAAQ+B,eAAeC,KAAIhC,EAAQgC,GAAK1B,EAAE0B,IAEpEpB,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMe,EAAmB,EAAQ,GACjClC,EAAQ0D,WAAaxB,EAAiBwB,WACtC1D,EAAQyD,cAAgBvB,EAAiBuB,cACzCzD,EAAQoF,kBAAoBlD,EAAiBkD,kBAC7CpF,EAAQmF,wBAA0BjD,EAAiBiD,wBACnDnF,EAAQ+E,WAAa7C,EAAiB6C,WACtC/E,EAAQgF,MAAQ9C,EAAiB8C,MACjChF,EAAQiF,QAAU/C,EAAiB+C,QACnCjF,EAAQwF,MAAQtD,EAAiBsD,MACjCxF,EAAQyF,YAAcvD,EAAiBuD,YACvCzF,EAAQ0F,qBAAuBxD,EAAiBwD,qBAChD1F,EAAQ2F,qBAAuBzD,EAAiByD,qBAChD3F,EAAQwC,YAAcN,EAAiBM,YACvCxC,EAAQoC,aAAeF,EAAiBE,aACxCpC,EAAQ0C,iBAAmBR,EAAiBQ,iBAC5C1C,EAAQ4C,kBAAoBV,EAAiBU,kBAC7C5C,EAAQqE,cAAgBnC,EAAiBmC,cACzCrE,EAAQ0E,cAAgBxC,EAAiBwC,cACzC1E,EAAQmR,mBAAqBjP,EAAiBiP,mBAC9CnR,EAAQsE,oBAAsBpC,EAAiBoC,oBAC/CtE,EAAQ2E,oBAAsBzC,EAAiByC,oBAC/C3E,EAAQuE,iBAAmBrC,EAAiBqC,iBAC5CvE,EAAQ4E,iBAAmB1C,EAAiB0C,iBAC5C5E,EAAQ2R,0BAA4BzP,EAAiByP,0BACrD3R,EAAQ4R,0BAA4B1P,EAAiB0P,0BACrD5R,EAAQ6R,uBAAyB3P,EAAiB2P,uBAClD7R,EAAQ8R,4BAA8B5P,EAAiB4P,4BACvD9R,EAAQ+R,4BAA8B7P,EAAiB6P,4BACvD/R,EAAQ+F,aAAe7D,EAAiB6D,aACxClD,EAAS,EAAQ,KACjBA,EAAS,EAAQ,KACjB,MAAMmP,EAAgB,EAAQ,IACxBC,EAAK,EAAQ,KAEnB,SAAWC,GACP,IAAIC,EAKAC,EAKAC,EAQAC,EAKAC,EAKAC,GA3BJ,SAAWL,GACPA,EAA4B9P,OAAS2P,EAAcG,4BAA4B9P,OAC/E8P,EAA4BrM,KAAOkM,EAAcG,4BAA4BrM,KAFjF,CAGGqM,EAA8BD,EAASC,8BAAgCD,EAASC,4BAA8B,KAEjH,SAAWC,GACPA,EAAkC/P,OAAS2P,EAAcI,kCAAkC/P,OAC3F+P,EAAkCtM,KAAOkM,EAAcI,kCAAkCtM,KAF7F,CAGGsM,EAAoCF,EAASE,oCAAsCF,EAASE,kCAAoC,KAEnI,SAAWC,GACPA,EAAkChQ,OAAS2P,EAAcK,kCAAkChQ,OAC3FgQ,EAAkCvM,KAAOkM,EAAcK,kCAAkCvM,KAF7F,CAGGuM,EAAoCH,EAASG,oCAAsCH,EAASG,kCAAoC,KACnIH,EAASO,mBAAqBR,EAAGQ,mBACjCP,EAASQ,uBAAyBT,EAAGS,uBACrCR,EAASS,eAAiBV,EAAGU,eAE7B,SAAWL,GACPA,EAAsBjQ,OAAS4P,EAAGK,sBAAsBjQ,OACxDiQ,EAAsBxM,KAAOmM,EAAGK,sBAAsBxM,KAF1D,CAGGwM,EAAwBJ,EAASI,wBAA0BJ,EAASI,sBAAwB,KAE/F,SAAWC,GACPA,EAA2BlQ,OAAS4P,EAAGM,2BAA2BlQ,OAClEkQ,EAA2BzM,KAAOmM,EAAGM,2BAA2BzM,KAFpE,CAGGyM,EAA6BL,EAASK,6BAA+BL,EAASK,2BAA6B,KAE9G,SAAWC,GACPA,EAA2BnQ,OAAS4P,EAAGO,2BAA2BnQ,OAClEmQ,EAA2B1M,KAAOmM,EAAGO,2BAA2B1M,KAFpE,CAGG0M,EAA6BN,EAASM,6BAA+BN,EAASM,2BAA6B,KAjClH,CAkCcxS,EAAQkS,WAAalS,EAAQkS,SAAW,KAItDlS,EAAQ4S,yBAHR,SAAkCC,EAAQC,EAAQtL,EAAQC,GACtD,OAAOvF,EAAiBmP,wBAAwBwB,EAAQC,EAAQtL,EAAQC,K,6BCrE5E,SAASlB,EAAOpF,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiB2K,OAezD,SAASI,EAAM/K,GACX,OAAO4R,MAAMC,QAAQ7R,GAtBzBP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAItDnB,EAAQwQ,QAHR,SAAiBrP,GACb,OAAiB,IAAVA,IAA4B,IAAVA,GAM7BnB,EAAQuG,OAASA,EAIjBvG,EAAQsN,OAHR,SAAgBnM,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiB8R,QAMzDjT,EAAQkG,MAHR,SAAe/E,GACX,OAAOA,aAAiB6F,OAM5BhH,EAAQ+O,KAHR,SAAc5N,GACV,MAAwB,mBAAVA,GAMlBnB,EAAQkM,MAAQA,EAIhBlM,EAAQkT,YAHR,SAAqB/R,GACjB,OAAO+K,EAAM/K,IAAUA,EAAMgS,MAAMC,GAAQ7M,EAAO6M,M,6BC1BtDxS,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAEtD,SAAW4D,GAMPA,EAAWvD,OALX,SAAgBuN,GACZ,MAAO,CACHI,QAASJ,IAHrB,CAOgB/O,EAAQ+E,aAAe/E,EAAQ+E,WAAa,KAE5D,SAAWC,GACP,MAAMqO,EAAc,CAAE,aACtBrO,EAAMsO,KAAO,WAAc,OAAOD,GAFtC,CAGWrT,EAAQgF,QAAUhF,EAAQgF,MAAQ,KAC7C,MAAMuO,EACF,IAAI3F,EAAU4F,EAAU,KAAMC,GACrBtM,KAAKuM,aACNvM,KAAKuM,WAAa,GAClBvM,KAAKwM,UAAY,IAErBxM,KAAKuM,WAAWlF,KAAKZ,GACrBzG,KAAKwM,UAAUnF,KAAKgF,GAChBT,MAAMC,QAAQS,IACdA,EAAOjF,KAAK,CAAEW,QAAS,IAAMhI,KAAKyM,OAAOhG,EAAU4F,KAG3D,OAAO5F,EAAU4F,EAAU,MACvB,GAAKrM,KAAKuM,WAAV,CAIA,IADA,IAAIG,GAAoC,EAC/B3T,EAAI,EAAG4T,EAAM3M,KAAKuM,WAAWnF,OAAQrO,EAAI4T,EAAK5T,IACnD,GAAIiH,KAAKuM,WAAWxT,KAAO0N,EAAU,CACjC,GAAIzG,KAAKwM,UAAUzT,KAAOsT,EAItB,OAFArM,KAAKuM,WAAWK,OAAO7T,EAAG,QAC1BiH,KAAKwM,UAAUI,OAAO7T,EAAG,GAIzB2T,GAAoC,EAIhD,GAAIA,EACA,MAAM,IAAI7M,MAAM,sFAGxB,UAAUgN,GACN,IAAK7M,KAAKuM,WACN,MAAO,GAGX,IADA,IAAIO,EAAM,GAAIC,EAAY/M,KAAKuM,WAAW/D,MAAM,GAAIwE,EAAWhN,KAAKwM,UAAUhE,MAAM,GAC3EzP,EAAI,EAAG4T,EAAMI,EAAU3F,OAAQrO,EAAI4T,EAAK5T,IAC7C,IACI+T,EAAIzF,KAAK0F,EAAUhU,GAAGkU,MAAMD,EAASjU,GAAI8T,IAE7C,MAAOjE,GAEHkB,QAAQ/K,MAAM6J,GAGtB,OAAOkE,EAEX,UACI,OAAQ9M,KAAKuM,YAAyC,IAA3BvM,KAAKuM,WAAWnF,OAE/C,UACIpH,KAAKuM,gBAAa1L,EAClBb,KAAKwM,eAAY3L,GAGzB,MAAM/C,EACF,YAAYoP,GACRlN,KAAKkN,SAAWA,EAMpB,YA0BI,OAzBKlN,KAAKmN,SACNnN,KAAKmN,OAAS,CAACC,EAAUC,EAAUC,KAQ/B,IAAI3J,EAaJ,OApBK3D,KAAKuM,aACNvM,KAAKuM,WAAa,IAAIH,GAEtBpM,KAAKkN,UAAYlN,KAAKkN,SAASK,oBAAsBvN,KAAKuM,WAAWiB,WACrExN,KAAKkN,SAASK,mBAAmBvN,MAErCA,KAAKuM,WAAWkB,IAAIL,EAAUC,GAE9B1J,EAAS,CACLqE,QAAS,KACLhI,KAAKuM,WAAWE,OAAOW,EAAUC,GACjC1J,EAAOqE,QAAUlK,EAAQ4P,MACrB1N,KAAKkN,UAAYlN,KAAKkN,SAASS,sBAAwB3N,KAAKuM,WAAWiB,WACvExN,KAAKkN,SAASS,qBAAqB3N,QAI3C4L,MAAMC,QAAQyB,IACdA,EAAYjG,KAAK1D,GAEdA,IAGR3D,KAAKmN,OAMhB,KAAKhF,GACGnI,KAAKuM,YACLvM,KAAKuM,WAAWqB,OAAO1U,KAAK8G,KAAKuM,WAAYpE,GAGrD,UACQnI,KAAKuM,aACLvM,KAAKuM,WAAWvE,UAChBhI,KAAKuM,gBAAa1L,IAI9BhI,EAAQiF,QAAUA,EAClBA,EAAQ4P,MAAQ,c,cCnIhB5U,EAAOD,QAAUgV,QAAQ,O,cCAzB/U,EAAOD,QAAUgV,QAAQ,S,6BCKzBpU,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAM2D,EAAW,EAAQ,GACnBhC,EAAK,EAAQ,GACnB,IACImS,EAAKC,OAAOC,KAAK,KAAM,SAAS,GAChCC,EAAKF,OAAOC,KAAK,KAAM,SAAS,GAEpC,MAAME,EACF,YAAYC,EAAW,QACnBnO,KAAKmO,SAAWA,EAChBnO,KAAKoO,MAAQ,EACbpO,KAAKqO,OAASN,OAAOO,YARX,MAUd,OAAOC,GACH,IAAIC,EAAWD,EACf,GAAuB,iBAAZ,EAAsB,CAC7B,IAAIE,EAAMF,EACNG,EAAYX,OAAOY,WAAWF,EAAKzO,KAAKmO,WAC5CK,EAAWT,OAAOO,YAAYI,IACrB7K,MAAM4K,EAAK,EAAGC,EAAW1O,KAAKmO,UAE3C,GAAInO,KAAKqO,OAAOjH,OAASpH,KAAKoO,OAASI,EAASpH,OAC5CoH,EAASI,KAAK5O,KAAKqO,OAAQrO,KAAKoO,MAAO,EAAGI,EAASpH,YAElD,CACD,IAAIyH,EAtBE,MAsBSC,KAAKC,MAAM/O,KAAKoO,MAAQI,EAASpH,QAtB1C,MAsBmE,GACtD,IAAfpH,KAAKoO,OACLpO,KAAKqO,OAASN,OAAOO,YAAYO,GACjCL,EAASI,KAAK5O,KAAKqO,OAAQ,EAAG,EAAGG,EAASpH,SAG1CpH,KAAKqO,OAASN,OAAOiB,OAAO,CAAChP,KAAKqO,OAAO7F,MAAM,EAAGxI,KAAKoO,OAAQI,GAAWK,GAGlF7O,KAAKoO,OAASI,EAASpH,OAE3B,iBACI,IAAIzD,OAAS9C,EACToO,EAAU,EACd,KAAOA,EAAU,EAAIjP,KAAKoO,QAAUpO,KAAKqO,OAAOY,KAAanB,GAAM9N,KAAKqO,OAAOY,EAAU,KAAOhB,GAAMjO,KAAKqO,OAAOY,EAAU,KAAOnB,GAAM9N,KAAKqO,OAAOY,EAAU,KAAOhB,IAClKgB,IAGJ,GAAIA,EAAU,GAAKjP,KAAKoO,MACpB,OAAOzK,EAEXA,EAASlK,OAAOY,OAAO,MACT2F,KAAKqO,OAAO5O,SAAS,QAAS,EAAGwP,GAASC,MAzCrD,QA0CKzF,QAAS0F,IACb,IAAIf,EAAQe,EAAOC,QAAQ,KAC3B,IAAe,IAAXhB,EACA,MAAM,IAAIvO,MAAM,sDAEpB,IAAIvF,EAAM6U,EAAOE,OAAO,EAAGjB,GACvBpU,EAAQmV,EAAOE,OAAOjB,EAAQ,GAAGkB,OACrC3L,EAAOrJ,GAAON,IAElB,IAAIuV,EAAYN,EAAU,EAG1B,OAFAjP,KAAKqO,OAASrO,KAAKqO,OAAO7F,MAAM+G,GAChCvP,KAAKoO,MAAQpO,KAAKoO,MAAQmB,EACnB5L,EAEX,eAAeyD,GACX,GAAIpH,KAAKoO,MAAQhH,EACb,OAAO,KAEX,IAAIzD,EAAS3D,KAAKqO,OAAO5O,SAASO,KAAKmO,SAAU,EAAG/G,GAChDmI,EAAYnI,EAGhB,OAFApH,KAAKqO,OAAOO,KAAK5O,KAAKqO,OAAQ,EAAGkB,GACjCvP,KAAKoO,MAAQpO,KAAKoO,MAAQmB,EACnB5L,EAEX,oBACI,OAAO3D,KAAKoO,QAIpB,SAAWlR,GAMPA,EAAcoL,GALd,SAAYtO,GACR,IAAIiQ,EAAYjQ,EAChB,OAAOiQ,GAAatO,EAAGiM,KAAKqC,EAAUP,SAAW/N,EAAGiM,KAAKqC,EAAUjC,UAC/DrM,EAAGiM,KAAKqC,EAAUzD,UAAY7K,EAAGiM,KAAKqC,EAAU1D,UAAY5K,EAAGiM,KAAKqC,EAAUuF,mBAJ1F,CAOmB3W,EAAQqE,gBAAkBrE,EAAQqE,cAAgB,KACrE,MAAMuS,EACF,cACIzP,KAAK2B,aAAe,IAAIhE,EAASG,QACjCkC,KAAK4B,aAAe,IAAIjE,EAASG,QACjCkC,KAAK0P,sBAAwB,IAAI/R,EAASG,QAE9C,UACIkC,KAAK2B,aAAaqG,UAClBhI,KAAK4B,aAAaoG,UAEtB,cACI,OAAOhI,KAAK2B,aAAawG,MAE7B,UAAUpJ,GACNiB,KAAK2B,aAAaqB,KAAKhD,KAAK2P,QAAQ5Q,IAExC,cACI,OAAOiB,KAAK4B,aAAauG,MAE7B,YACInI,KAAK4B,aAAaoB,UAAKnC,GAE3B,uBACI,OAAOb,KAAK0P,sBAAsBvH,MAEtC,mBAAmBlJ,GACfe,KAAK0P,sBAAsB1M,KAAK/D,GAEpC,QAAQF,GACJ,OAAIA,aAAiBc,MACVd,EAGA,IAAIc,MAAM,kCAAkClE,EAAGyD,OAAOL,EAAMgB,SAAWhB,EAAMgB,QAAU,cAI1GlH,EAAQ4W,sBAAwBA,EAChC,MAAMtS,UAA4BsS,EAC9B,YAAYG,EAAUzB,EAAW,QAC7BhT,QACA6E,KAAK4P,SAAWA,EAChB5P,KAAKqO,OAAS,IAAIH,EAAcC,GAChCnO,KAAK6P,uBAAyB,IAElC,0BAA0BC,GACtB9P,KAAK6P,uBAAyBC,EAElC,4BACI,OAAO9P,KAAK6P,uBAEhB,OAAOpJ,GACHzG,KAAK+P,mBAAqB,EAC1B/P,KAAKgQ,aAAe,EACpBhQ,KAAKiQ,yBAAsBpP,EAC3Bb,KAAKyG,SAAWA,EAChBzG,KAAK4P,SAASM,GAAG,OAASnM,IACtB/D,KAAKmQ,OAAOpM,KAEhB/D,KAAK4P,SAASM,GAAG,QAAUnR,GAAUiB,KAAKoQ,UAAUrR,IACpDiB,KAAK4P,SAASM,GAAG,QAAS,IAAMlQ,KAAKqQ,aAEzC,OAAOtM,GAEH,IADA/D,KAAKqO,OAAOiC,OAAOvM,KACN,CACT,IAAgC,IAA5B/D,KAAK+P,kBAA0B,CAC/B,IAAIQ,EAAUvQ,KAAKqO,OAAOmC,iBAC1B,IAAKD,EACD,OAEJ,IAAIE,EAAgBF,EAAQ,kBAC5B,IAAKE,EACD,MAAM,IAAI5Q,MAAM,kDAEpB,IAAIuH,EAASsJ,SAASD,GACtB,GAAIE,MAAMvJ,GACN,MAAM,IAAIvH,MAAM,0CAEpBG,KAAK+P,kBAAoB3I,EAI7B,IAAIwJ,EAAM5Q,KAAKqO,OAAOwC,eAAe7Q,KAAK+P,mBAC1C,GAAY,OAARa,EAGA,YADA5Q,KAAK8Q,yBAGT9Q,KAAK+Q,2BACL/Q,KAAK+P,mBAAqB,EAC1B/P,KAAKgQ,eACL,IAAIgB,EAAOtR,KAAKuR,MAAML,GACtB5Q,KAAKyG,SAASuK,IAGtB,2BACQhR,KAAKiQ,sBACLiB,aAAalR,KAAKiQ,qBAClBjQ,KAAKiQ,yBAAsBpP,GAGnC,yBACIb,KAAK+Q,2BACD/Q,KAAK6P,wBAA0B,IAGnC7P,KAAKiQ,oBAAsBkB,WAAW,CAACrM,EAAOgL,KAC1C9P,KAAKiQ,yBAAsBpP,EACvBiE,IAAU9E,KAAKgQ,eACfhQ,KAAKoR,mBAAmB,CAAEpB,aAAclL,EAAOuM,YAAavB,IAC5D9P,KAAK8Q,2BAEV9Q,KAAK6P,uBAAwB7P,KAAKgQ,aAAchQ,KAAK6P,0BAGhEhX,EAAQsE,oBAAsBA,EAa9BtE,EAAQuE,iBAZR,cAA+BqS,EAC3B,YAAY6B,GACRnW,QACA6E,KAAKsR,QAAUA,EACf,IAAIC,EAAevR,KAAKsR,QACxBC,EAAarB,GAAG,QAAUnR,GAAUiB,KAAKoQ,UAAUrR,IACnDwS,EAAarB,GAAG,QAAS,IAAMlQ,KAAKqQ,aAExC,OAAO5J,GACHzG,KAAKsR,QAAQpB,GAAG,UAAWzJ,KASnC5N,EAAQwE,oBALR,cAAkCF,EAC9B,YAAYqU,EAAQrD,EAAW,SAC3BhT,MAAMqW,EAAQrD,M,6BCxNtB1U,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAM2D,EAAW,EAAQ,GACnBhC,EAAK,EAAQ,IAInB,SAAW4B,GAMPA,EAAc+K,GALd,SAAYtO,GACR,IAAIiQ,EAAYjQ,EAChB,OAAOiQ,GAAatO,EAAGiM,KAAKqC,EAAUjC,UAAYrM,EAAGiM,KAAKqC,EAAU1D,UAChE5K,EAAGiM,KAAKqC,EAAUzD,UAAY7K,EAAGiM,KAAKqC,EAAUpG,QAJ5D,CAOmBhL,EAAQ0E,gBAAkB1E,EAAQ0E,cAAgB,KACrE,MAAMkU,EACF,cACIzR,KAAK2B,aAAe,IAAIhE,EAASG,QACjCkC,KAAK4B,aAAe,IAAIjE,EAASG,QAErC,UACIkC,KAAK2B,aAAaqG,UAClBhI,KAAK4B,aAAaoG,UAEtB,cACI,OAAOhI,KAAK2B,aAAawG,MAE7B,UAAUpJ,EAAOgB,EAAS2R,GACtB1R,KAAK2B,aAAaqB,KAAK,CAAChD,KAAK2P,QAAQ5Q,GAAQgB,EAAS2R,IAE1D,cACI,OAAO1R,KAAK4B,aAAauG,MAE7B,YACInI,KAAK4B,aAAaoB,UAAKnC,GAE3B,QAAQ9B,GACJ,OAAIA,aAAiBc,MACVd,EAGA,IAAIc,MAAM,kCAAkClE,EAAGyD,OAAOL,EAAMgB,SAAWhB,EAAMgB,QAAU,cAI1GlH,EAAQ4Y,sBAAwBA,EA8BhC5Y,EAAQ2E,oBA7BR,cAAkCiU,EAC9B,YAAYE,EAAUxD,EAAW,QAC7BhT,QACA6E,KAAK2R,SAAWA,EAChB3R,KAAKmO,SAAWA,EAChBnO,KAAK4R,WAAa,EAClB5R,KAAK2R,SAASzB,GAAG,QAAUnR,GAAUiB,KAAKoQ,UAAUrR,IACpDiB,KAAK2R,SAASzB,GAAG,QAAS,IAAMlQ,KAAKqQ,aAEzC,MAAMO,GACF,IAAII,EAAOtR,KAAKuE,UAAU2M,GAEtBL,EAAU,CAtDF,mBAqDQxC,OAAOY,WAAWqC,EAAMhR,KAAKmO,UAEhB1O,WAtD9B,eAyDH,IAEIO,KAAK2R,SAAS9N,MAAM0M,EAAQsB,KAAK,IAAK,SAEtC7R,KAAK2R,SAAS9N,MAAMmN,EAAMhR,KAAKmO,UAC/BnO,KAAK4R,WAAa,EAEtB,MAAO7S,GACHiB,KAAK4R,aACL5R,KAAKoQ,UAAUrR,EAAO6R,EAAK5Q,KAAK4R,eAkD5C/Y,EAAQ4E,iBA7CR,cAA+BgU,EAC3B,YAAYH,GACRnW,QACA6E,KAAKsR,QAAUA,EACftR,KAAK4R,WAAa,EAClB5R,KAAKmC,MAAQ,GACbnC,KAAK8R,SAAU,EACf,IAAIP,EAAevR,KAAKsR,QACxBC,EAAarB,GAAG,QAAUnR,GAAUiB,KAAKoQ,UAAUrR,IACnDwS,EAAarB,GAAG,QAAS,IAAMlQ,KAAKqQ,WAExC,MAAMO,GACG5Q,KAAK8R,SAAiC,IAAtB9R,KAAKmC,MAAMiF,OAK5BpH,KAAKmC,MAAMkF,KAAKuJ,GAHhB5Q,KAAK+R,eAAenB,GAM5B,eAAeA,GACX,IACQ5Q,KAAKsR,QAAQU,OACbhS,KAAK8R,SAAU,EACf9R,KAAKsR,QAAQU,KAAKpB,OAAK/P,OAAWA,EAAY9B,IAC1CiB,KAAK8R,SAAU,EACX/S,GACAiB,KAAK4R,aACL5R,KAAKoQ,UAAUrR,EAAO6R,EAAK5Q,KAAK4R,aAGhC5R,KAAK4R,WAAa,EAElB5R,KAAKmC,MAAMiF,OAAS,GACpBpH,KAAK+R,eAAe/R,KAAKmC,MAAMiB,YAK/C,MAAOrE,GACHiB,KAAK4R,aACL5R,KAAKoQ,UAAUrR,EAAO6R,EAAK5Q,KAAK4R,eAwE5C/Y,EAAQ6E,oBAnER,cAAkC+T,EAC9B,YAAYD,EAAQrD,EAAW,QAC3BhT,QACA6E,KAAKwR,OAASA,EACdxR,KAAKmC,MAAQ,GACbnC,KAAK8R,SAAU,EACf9R,KAAKmO,SAAWA,EAChBnO,KAAK4R,WAAa,EAClB5R,KAAKwR,OAAOtB,GAAG,QAAUnR,GAAUiB,KAAKoQ,UAAUrR,IAClDiB,KAAKwR,OAAOtB,GAAG,QAAS,IAAMlQ,KAAKqQ,aAEvC,UACIlV,MAAM6M,UACNhI,KAAKwR,OAAOS,UAEhB,MAAMrB,GACG5Q,KAAK8R,SAAiC,IAAtB9R,KAAKmC,MAAMiF,OAK5BpH,KAAKmC,MAAMkF,KAAKuJ,GAHhB5Q,KAAK+R,eAAenB,GAM5B,eAAeA,GACX,IAAII,EAAOtR,KAAKuE,UAAU2M,GAEtBL,EAAU,CAjJF,mBAgJQxC,OAAOY,WAAWqC,EAAMhR,KAAKmO,UAEhB1O,WAjJ9B,eAoJH,IAEIO,KAAK8R,SAAU,EACf9R,KAAKwR,OAAO3N,MAAM0M,EAAQsB,KAAK,IAAK,QAAU9S,IACtCA,GACAiB,KAAKkS,YAAYnT,EAAO6R,GAE5B,IAEI5Q,KAAKwR,OAAO3N,MAAMmN,EAAMhR,KAAKmO,SAAWpP,IACpCiB,KAAK8R,SAAU,EACX/S,EACAiB,KAAKkS,YAAYnT,EAAO6R,GAGxB5Q,KAAK4R,WAAa,EAElB5R,KAAKmC,MAAMiF,OAAS,GACpBpH,KAAK+R,eAAe/R,KAAKmC,MAAMiB,WAI3C,MAAOrE,GACHiB,KAAKkS,YAAYnT,EAAO6R,MAIpC,MAAO7R,GACHiB,KAAKkS,YAAYnT,EAAO6R,IAGhC,YAAY7R,EAAO6R,GACf5Q,KAAK4R,aACL5R,KAAKoQ,UAAUrR,EAAO6R,EAAK5Q,KAAK4R,e,6BC7LxCnY,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,IAAImY,EAAU,EAAQ,IAClBC,EAAU,EAAQ,IAClBhZ,EAAI,EAAQ,IACZiZ,EAAkB,EAAQ,IAC1BC,EAAM,EAAQ,IACdC,EAAQ,EAAQ,IAChBC,EAAO,EAAQ,IACfC,EAAO,EAAQ,IACfC,EAAa,EAAQ,IACrBC,EAAM,EAAQ,IACdC,EAAS,EAAQ,IACjBC,EAAQ,EAAQ,IAChBC,EAAQ,EAAQ,IAChBC,EAAO,EAAQ,IACfC,EAAa,EAAQ,IACrBC,EAAa,EAAQ,IACrBC,EAAS,EAAQ,IACjBC,EAAM,EAAQ,IAClBta,EAAQua,OAAS,CACbjB,QAASA,EACTC,QAASA,EACThZ,EAAGA,EACHiZ,gBAAiBA,EACjBE,MAAOA,EACPD,IAAKA,EACLE,KAAMA,EACNC,KAAMA,EACNC,WAAYA,EACZC,IAAKA,EACLC,OAAQA,EACRC,MAAOA,EACPC,MAAOA,EACPC,KAAMA,EACNE,WAAYA,EACZD,WAAYA,EACZE,OAAQA,EACRC,IAAKA,GAETta,EAAQwa,QAAU,CACdja,EAAG,CAAC,MACJmZ,MAAO,CAAC,OAAQ,WAAY,OAAQ,QACpCD,IAAK,CAAC,QACNE,KAAM,CAAC,SACPW,IAAK,CAAC,QACNV,KAAM,CAAC,QAAS,QAChBC,WAAY,CAAC,MAAO,OAAQ,OAAQ,QACpCC,IAAK,CAAC,QACNC,OAAQ,CAAC,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,aAAc,QACvEG,KAAM,CAAC,MAAO,OAAQ,OAAQ,WAAY,QAAS,MAAO,QAC1DC,WAAY,CAAC,QAWjBna,EAAQya,eATR,SAAwBC,GACpB,IAAK,IAAIC,EAAK,EAAGC,EAAKha,OAAO+P,KAAK3Q,EAAQwa,SAAUG,EAAKC,EAAGrM,OAAQoM,IAAM,CACtE,IAAIlZ,EAAMmZ,EAAGD,GACb,GAAI3a,EAAQwa,QAAQ/Y,GAAKoZ,MAAK,SAAUC,GAAK,OAAOJ,EAASK,SAASD,MAClE,OAAO9a,EAAQua,OAAO9Y,GAG9B,MAAO,K,cC5DXxB,EAAOD,QAAU,CACb,CACIgb,UAAW,CAAC,WACZC,WAAY,CAAC,cAEjB,CACID,UAAW,CAAC,QACZC,WAAY,CAAC,WAEjB,CACID,UAAW,CAAC,QACZC,WAAY,CAAC,WAEjB,CACID,UAAW,CAAC,QACZC,WAAY,CAAC,WAEjB,CACID,UAAW,CAAC,SACZC,WAAY,CAAC,YAEjB,CACID,UAAW,CAAC,SACZC,WAAY,CAAC,YAEjB,CACID,UAAW,CAAC,SACZC,WAAY,CAAC,YAEjB,CACID,UAAW,CAAC,WACZC,WAAY,CAAC,cAEjB,CACID,UAAW,CAAC,UACZC,WAAY,CAAC,UAEjB,CACID,UAAW,CAAC,UACZC,WAAY,CAAC,YAEjB,CACID,UAAW,CAAC,qCACZC,WAAY,CAAC,sCAEjB,CACID,UAAW,CAAC,iCACZC,WAAY,CAAC,kCAEjB,CACID,UAAW,CAAC,iCACZC,WAAY,CAAC,iCAEjB,CACID,UAAW,CAAC,0BACZC,WAAY,CAAC,+BAEjB,CACID,UAAW,CAAC,sBACZC,WAAY,CAAC,0BAEjB,CACID,UAAW,CAAC,8BACZC,WAAY,CAAC,4CAEjB,CACID,UAAW,CAAC,wBACZC,WAAY,CACR,qBACA,mBACA,Q,cCtEZhb,EAAOD,QAAU,CACb,CACIgb,UAAW,CACP,mCAEJC,WAAY,CACR,0CAEJC,YAAa,0EACbC,SAAU,KAEd,CACIH,UAAW,CACP,yBAEJC,WAAY,CACR,+BAGR,CACID,UAAW,CACP,wBAEJC,WAAY,CACR,4BAGR,CACID,UAAW,CACP,4BAEJC,WAAY,CACR,4BAGR,CACID,UAAW,CACP,sBAEJC,WAAY,CACR,4BAGR,CACID,UAAW,CACP,qBAEJC,WAAY,CACR,kCAGR,CACID,UAAW,CACP,YAEJC,WAAY,CACR,aAGR,CACID,UAAW,CACP,0BAEJC,WAAY,CACR,wBAGR,CACID,UAAW,CACP,cAEJC,WAAY,CACR,iCAGR,CACID,UAAW,CACP,uDAEJC,WAAY,CACR,0CAGR,CACID,UAAW,CACP,kBAEJC,WAAY,CACR,WAGR,CACID,UAAW,CACP,iDAEJC,WAAY,CACR,uCACA,iBACA,MAGR,CACID,UAAW,CACP,0BAEJC,WAAY,CACR,kBAGR,CACID,UAAW,CACP,2BAEJC,WAAY,CACR,kBAGR,CACID,UAAW,CACP,mBAEJC,WAAY,CACR,MAEJE,SAAU,eAEd,CACIH,UAAW,CACP,kBAEJC,WAAY,CACR,MAEJE,SAAU,eAEd,CACIH,UAAW,CACP,kBAEJC,WAAY,CACR,MAEJE,SAAU,eAEd,CACIH,UAAW,CACP,kBAEJC,WAAY,CACR,MAEJE,SAAU,eAEd,CACIH,UAAW,CACP,WAEJC,WAAY,CACR,aAEJC,YAAa,2EAEjB,CACIF,UAAW,CACP,SAEJC,WAAY,CACR,KAGR,CACID,UAAW,CACP,WAEJC,WAAY,CACR,YAGR,CACID,UAAW,CACP,eAEJC,WAAY,CACR,gB,cCvLZhb,EAAOD,QAAUgV,QAAQ,Q,6BCUzB,SAASzO,EAAOpF,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiB2K,OAWzD,SAASiD,EAAK5N,GACV,MAAwB,mBAAVA,EAGlB,SAAS+K,EAAM/K,GACX,OAAO4R,MAAMC,QAAQ7R,GAtBzBP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IAItDnB,EAAQwQ,QAHR,SAAiBrP,GACb,OAAiB,IAAVA,IAA4B,IAAVA,GAM7BnB,EAAQuG,OAASA,EAIjBvG,EAAQsN,OAHR,SAAgBnM,GACZ,MAAwB,iBAAVA,GAAsBA,aAAiB8R,QAMzDjT,EAAQkG,MAHR,SAAe/E,GACX,OAAOA,aAAiB6F,OAM5BhH,EAAQ+O,KAAOA,EAIf/O,EAAQkM,MAAQA,EAIhBlM,EAAQkT,YAHR,SAAqB/R,GACjB,OAAO+K,EAAM/K,IAAUA,EAAMgS,MAAMC,GAAQ7M,EAAO6M,KAMtDpT,EAAQob,WAHR,SAAoBja,EAAOka,GACvB,OAAOtI,MAAMC,QAAQ7R,IAAUA,EAAMgS,MAAMkI,IAM/Crb,EAAQsb,SAHR,SAAkBna,GACd,OAAOA,GAAS4N,EAAK5N,EAAMiL,Q,6BClC/BxL,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,MAAMoa,EACF,YAAYpL,GACRhJ,KAAKgJ,OAASA,EAGlB,QACI,OAAOhJ,KAAKgJ,OAEhB,OAAOqL,GACH,OAAOrU,KAAKsU,UAAYD,EAAMC,SAGtC,MAAMC,UAAeH,EACjB,cACIjZ,MAAM,CACFoZ,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACP,IACAD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACP,IACA,IACAD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACP,IACAD,EAAOE,OAAOF,EAAOG,eACrBH,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACP,IACAD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,aACPD,EAAOC,cACT3C,KAAK,KAEX,cAAc9M,GACV,OAAOA,EAAM+J,KAAK6F,MAAM5P,EAAMqC,OAAS0H,KAAK8F,WAEhD,oBACI,OAAOL,EAAOE,OAAOF,EAAOM,SASpC,SAASC,IACL,OAAO,IAAIP,EAPfA,EAAOM,OAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACjGN,EAAOG,cAAgB,CAAC,IAAK,IAAK,IAAK,KAIvC7b,EAAQkc,MAAQ,IAAIX,EAAU,wCAI9Bvb,EAAQic,GAAKA,EACb,MAAME,EAAe,kEACrB,SAASC,EAAOjb,GACZ,OAAOgb,EAAaE,KAAKlb,GAE7BnB,EAAQoc,OAASA,EAWjBpc,EAAQoY,MANR,SAAejX,GACX,IAAKib,EAAOjb,GACR,MAAM,IAAI6F,MAAM,gBAEpB,OAAO,IAAIuU,EAAUpa,IAMzBnB,EAAQsc,aAHR,WACI,OAAOL,IAAKR,U,8EC3FhB,cACA,OACA,QAcA,QACA,QAEA,IAAUc,GAAV,SAAUA,GACO,EAAAC,IAAM,gBADvB,CAAUD,MAAU,KAKpB,MAAM9N,EAAa,EAAAgO,mBAEnB,IAAIC,EACAC,EAgCJ,SAASC,EAASC,GACd,MAAMC,EAA4B,GAC5BC,EAQV,SAAkBF,GACd,MAAMG,EAASC,EAAKC,QAAQD,EAAKE,UAAU,EAAAC,IAAIhF,MAAMyE,EAAIQ,KAAKC,SACxDC,OAAgCvV,IAApB2U,EAAiCA,EAAkBK,EAC/DQ,EAAcX,EAAIY,UAClBC,EAAW,EAAAN,IAAIhF,MAAM,GAAGmF,oBAA2BD,OACnD5C,EAAW,EAAA0C,IAAIhF,MAAMyE,EAAIQ,KAAKC,OACpC,GAAI5C,EAASK,SAAS2C,IAAahD,EAASK,SAAS,QACjD,MAAO,GAGX,OAAO,EAAA4C,KAAKjD,EAAU8C,EAAaE,GAlBnBE,CAASf,GACzB,IAAK,IAAI3c,EAAI,EAAGA,EAAI6c,EAAQxO,OAAQrO,GAAK,EAAG,CACxC,MAAM4K,EAASiS,EAAQ7c,GACvB4c,EAAYtO,KAAKqP,EAAe/S,EAAQ5K,IAE5CuO,EAAWqP,gBAAgB,CAAET,IAAKR,EAAIQ,IAAKP,gBAgB/C,SAASe,EAAe/S,EAAkBiT,GACtC,MAAMC,EAAe,CAACC,MAAO,CAACC,KAAMpT,EAAOqT,SAASF,MAAMC,KAAO,EAAGE,UAAWtT,EAAOqT,SAASF,MAAMG,UAAY,GAC3F3M,IAAK,CAACyM,KAAMpT,EAAOqT,SAAS1M,IAAIyM,KAAO,EAAGE,UAAWtT,EAAOqT,SAAS1M,IAAI2M,UAAY,IACrGlX,EAAU,EAAAmX,YAAYvT,EAAOwT,SAC7BnD,EA4DV,SAAyBA,GACrB,OAAQA,GACJ,IAAK,IACD,OAAO,EAAAoD,mBAAmBvX,MAC9B,IAAK,IACD,OAAO,EAAAuX,mBAAmBC,QAC9B,IAAK,IACD,OAAO,EAAAD,mBAAmBE,YAC9B,IAAK,IACG,OAAO,EAAAF,mBAAmBG,KAClC,QACI,OAAO,EAAAH,mBAAmBC,SAvEjBG,CAAgB,EAAAC,aAAa9T,EAAOwT,QAAQnD,WAG7D,OAFmB,EAAA0D,WAAWrd,OAAOwc,EAAO9W,EAASiU,EAAU4C,EAAU,aA9D7EtP,EAAWwC,QAAQ7K,KAAK,oCAAoCqS,QAAQqG,WAIpErQ,EAAWsQ,aAAc5T,IACrB,MAAM6T,EAAmB7T,EAAO6T,iBAKhC,OAJArC,EAAuC,OAArBqC,EAA4BA,EAAiB,GAAG3B,SAAMrV,EACxE0U,EAAY,IAAI,EAAAuC,cAAc,EAAAC,cA6D9BxC,EAAU7L,OAAOpC,GAEjBiO,EAAUyC,UAAW7P,IACjBsN,EAAStN,EAAM8P,YAGnB1C,EAAU2C,mBAAoBC,IAC1B1C,EAAS0C,EAAOF,YAGpB1C,EAAU6C,WAAYC,IAClB/Q,EAAWqP,gBAAgB,CAAET,IAAKmC,EAAMJ,SAAS/B,IAAKP,YAAa,OAGvErO,EAAWgR,aAActU,IACrB,MAAM2R,EAAc3R,EAAOqI,QAAQsJ,YAAY4C,OAAQC,GAAyB,cAAhBA,EAAKhT,QACrE,GAA2B,IAAvBmQ,EAAYvO,OACZ,MAAO,GAEX,MAAMqR,EAAelD,EAAU3b,IAAIoK,EAAOyU,aAAavC,KACvD,QAAqBrV,IAAjB4X,EACA,MAAO,GAEX,MAAM5C,EAASC,EAAKC,QAAQD,EAAKE,UAAU,EAAAC,IAAIhF,MAAMwH,EAAavC,KAAKC,SACjEC,OAAgCvV,IAApB2U,EAAiCA,EAAkBK,EAC/DU,EAAW,EAAAN,IAAIhF,MAAM,GAAGmF,oBAA2BD,OACnDuC,EAA4B,GAC5B9C,EAAU,EAAAY,KAAKiC,EAAavC,IAAKuC,EAAanC,UAAWC,GAW/D,OAVAZ,EAAYlM,QAAS+O,IACjB,MAAMG,EAAa/C,EAAQ9J,OAAO0M,EAAK1Y,OAEjC8Y,EAAY,EAAAC,WAAWxe,OADf,mBAY1B,SAA6B4d,EAAwBpB,EAAcM,GAC/D,MAAM2B,EAAU,EAAAC,eAAed,EAAS3B,QAAQO,GAAQM,GACxD,QAAgBtW,IAAZiY,EAAuB,CACvB,MAAME,EAAQ,CAAC,EAAAC,SAASC,QAAQrC,EAAOiC,IAEvC,MAAO,CAAEK,gBAAiB,CAAC,EAAAC,iBAAiB/e,OAAO,CAAC6b,IAAK+B,EAAS/B,IAAKyB,QAASM,EAASN,SAAUqB,KAGvG,MAAO,CAAEG,gBAAiB,IAlBkBE,CAAoBZ,EAAcD,EAAK3B,MAAO8B,EAAWxB,SACzD,EAAAmC,eAAeC,UACnDX,EAAUjD,YAAc,CAAC6C,GACzBE,EAAYrR,KAAKuR,KAGdF,IAhGJ,CACHc,aAAc,CACVC,iBAAkB,CACdC,WAAW,EACXvB,OAAQ,EAAAwB,qBAAqBC,YAC7BC,mBAAmB,EACnBC,KAAM,CACFC,aAAa,IAGrBC,mBAAoB,CAChBC,gBAAiB,CAAC,EAAAX,eAAeC,WAErCW,uBAAwB,CACpBC,SAAU,CAAC/E,EAAWC,UAiHtC/N,EAAWoC,U,6BCnKXjQ,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,IAAIogB,EAAW,EAAQ,GACvBvhB,EAAQua,OAASgH,EAAShH,OAC1B,IAAIiH,EAAS,EAAQ,IACrBxhB,EAAQqe,YAAcmD,EAAOnD,YAC7Bre,EAAQyhB,YAAcD,EAAOC,YAC7BzhB,EAAQkgB,eAAiBsB,EAAOtB,eAChClgB,EAAQ2d,KAAO6D,EAAO7D,KACtB3d,EAAQ0hB,aAAeF,EAAOE,aAC9B1hB,EAAQ2hB,gBAAkBH,EAAOG,gBACjC3hB,EAAQ4e,aAAe4C,EAAO5C,c,cCX9B3e,EAAOD,QAAU,CACb,CACIgb,UAAW,CACP,sBACA,iBAEJC,WAAY,CACR,mCAEJC,YAAa,8GAEjB,CACIF,UAAW,CACP,kBAEJC,WAAY,CACR,mBAGR,CACID,UAAW,CACP,iBAEJC,WAAY,CACR,kBAGR,CACID,UAAW,CACP,cAEJC,WAAY,CACR,eAGR,CACID,UAAW,CACP,cAEJC,WAAY,CACR,eAGR,CACID,UAAW,CACP,WAEJC,WAAY,CACR,YAGR,CACID,UAAW,CACP,wBAEJC,WAAY,CACR,IAEJC,YAAa,yDAEjB,CACIF,UAAW,CACP,uBAEJC,WAAY,CACR,2BAEJC,YAAa,iCAEjB,CACIF,UAAW,CACP,oBAEJC,WAAY,CACR,iBACA,GACA,KAEJC,YAAa,6B,cC9ErBjb,EAAOD,QAAU,CACb,CACIgb,UAAW,CACP,6BAEJC,WAAY,CACR,iBAGR,CACID,UAAW,CACP,0BAEJC,WAAY,CACR,iBAGR,CACID,UAAW,CACP,sBAEJC,WAAY,CACR,aAGR,CACID,UAAW,CACP,yBAEJC,WAAY,CACR,gBAGR,CACID,UAAW,CACP,yBAEJC,WAAY,CACR,gBAGR,CACID,UAAW,CACP,0BAEJC,WAAY,CACR,yBAGR,CACID,UAAW,CACP,oBAEJC,WAAY,CACR,uBAGR,CACID,UAAW,CACP,sBAEJC,WAAY,CACR,oBAGR,CACID,UAAW,CACP,uBAEJC,WAAY,CACR,kBAGR,CACID,UAAW,CACP,uBAEJC,WAAY,CACR,cAGR,CACID,UAAW,CACP,YAEJC,WAAY,CACR,cAGR,CACID,UAAW,CACP,gBAEJC,WAAY,CACR,qBAGR,CACID,UAAW,CACP,4BAEJC,WAAY,CACR,gCAGR,CACID,UAAW,CACP,uBAEJC,WAAY,CACR,wBAGR,CACID,UAAW,CACP,iBAEJC,WAAY,CACR,uBAGR,CACID,UAAW,CACP,iBAEJC,WAAY,CACR,uBAGR,CACID,UAAW,CACP,iCAEJC,WAAY,CACR,mCAGR,CACID,UAAW,CACP,wDAEJC,WAAY,CACR,uCAGR,CACID,UAAW,CACP,4BACA,YACA,qDACA,OAEJC,WAAY,CACR,4BACA,YACA,gFACA,QAGR,CACID,UAAW,CACP,UAEJC,WAAY,CACR,cAGR,CACID,UAAW,CACP,eAEJC,WAAY,CACR,mBAGR,CACID,UAAW,CACP,iBAEJC,WAAY,CACR,yBAGR,CACID,UAAW,CACP,yBAEJC,WAAY,CACR,mC,cC5LZhb,EAAOD,QAAU,CACb,CACIgb,UAAW,CAAC,SACZC,WAAY,CAAC,aACbC,YAAa,sFACb0G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,6BACZC,WAAY,CAAC,mBACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,uBACZC,WAAY,CAAC,wCACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,sBACZC,WAAY,CAAC,oCACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,mBACZC,WAAY,CAAC,2BACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,gBACZC,WAAY,CAAC,oBACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,eACZC,WAAY,CAAC,2BACbC,YAAa,+HACb0G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,UACZC,WAAY,CAAC,aACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,YACZC,WAAY,CAAC,aACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,UACZC,WAAY,CAAC,aACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,iBACZC,WAAY,CAAC,mBACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,cACZC,WAAY,CAAC,kBACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,sBACZC,WAAY,CAAC,4BACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,8BACZC,WAAY,CAAC,2BACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,aACZC,WAAY,CAAC,iBACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,UACZC,WAAY,CAAC,cACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,gBACZC,WAAY,CAAC,oBACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,gBACZC,WAAY,CAAC,oBACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,sBACZC,WAAY,CAAC,UACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,IACZC,WAAY,CAAC,IACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,IACZC,WAAY,CAAC,IACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,IACZC,WAAY,CAAC,IACb2G,OAAQ,6BAEZ,CACI5G,UAAW,CAAC,IACZC,WAAY,CAAC,IACb2G,OAAQ,+B,gBCpHhB,IAAIrhB,EAAI,EAAQ,IAChBN,EAAOD,QAAU,CACb,CACI6hB,SAAU,CAAC,oBACX5G,WAAY,CAAC,0DACbC,YAAa,8DAEjB,CACI2G,SAAU,CAAC,aACX5G,WAAY,CAAC,wBAEnB9E,OAAO5V,I,cCXTN,EAAOD,QAAU,CACb,CACIgb,UAAW,CAAC,UACZC,WAAY,CAAC,QAEjB,CACID,UAAW,CAAC,UACZC,WAAY,CAAC,QAEjB,CACID,UAAW,CAAC,UACZC,WAAY,CAAC,MAEjB,CACID,UAAW,CAAC,UACZC,WAAY,CAAC,Q,cCfrBhb,EAAOD,QAAU,CACb,CACIgb,UAAW,CACP,WAEJC,WAAY,CACR,YAGR,CACID,UAAW,CACP,6BAEJC,WAAY,CACR,qBAGR,CACID,UAAW,CACP,UAEJC,WAAY,CACR,c,cCtBZhb,EAAOD,QAAU,CACb,CACIgb,UAAW,CAAC,8BACZC,WAAY,CAAC,+BACb2G,OAAQ,oBAEZ,CACI5G,UAAW,CAAC,kBACZC,WAAY,CAAC,kBACb2G,OAAQ,2BAEZ,CACI5G,UAAW,CAAC,iBACZC,WAAY,CAAC,iBACb2G,OAAQ,2BAEZ,CACI5G,UAAW,CAAC,kBACZC,WAAY,CAAC,kBACb2G,OAAQ,2BAEZ,CACI5G,UAAW,CAAC,qBACZC,WAAY,CAAC,qBACb2G,OAAQ,2BAEZ,CACI5G,UAAW,CAAC,gBACZC,WAAY,CACR,UACA,WAEJ2G,OAAQ,UAEZ,CACI5G,UAAW,CAAC,kCACZC,WAAY,CAAC,yCACb2G,OAAQ,UAEZ,CACI5G,UAAW,CAAC,6BACZC,WAAY,CACR,eACA,gBAEJ2G,OAAQ,UAEZ,CACI5G,UAAW,CAAC,wBACZC,WAAY,CAAC,4BACb2G,OAAQ,UAEZ,CACI5G,UAAW,CACP,gCACA,mBACA,WACA,oBACA,KAEJC,WAAY,CAAC,iCACb2G,OAAQ,UAEZ,CACI5G,UAAW,CACP,wBACA,qBACA,WACA,qBACA,KAEJC,WAAY,CAAC,6CACb2G,OAAQ,UAEZ,CACI5G,UAAW,CACP,wBACA,qBACA,IACA,kBAEJC,WAAY,CAAC,6CACb2G,OAAQ,UAEZ,CACI5G,UAAW,CAAC,SACZC,WAAY,CAAC,QACb2G,OAAQ,oBAEZ,CACI5G,UAAW,CAAC,uBACZC,WAAY,CAAC,+BACb2G,OAAQ,oBAEZ,CACI5G,UAAW,CAAC,8CACZC,WAAY,CACR,kCACA,mCAEJ2G,OAAQ,oBAEZ,CACI5G,UAAW,CAAC,0BACZC,WAAY,CAAC,0BACb2G,OAAQ,oBAEZ,CACI5G,UAAW,CAAC,qDACZC,WAAY,CAAC,+CACb2G,OAAQ,oBAEZ,CACI5G,UAAW,CAAC,iBACZC,WAAY,CAAC,OACb2G,OAAQ,oBAEZ,CACI5G,UAAW,CAAC,+CACZC,WAAY,CAAC,WACb2G,OAAQ,oBAEZ,CACI5G,UAAW,CACP,6BAEJC,WAAY,CACR,0BAEJC,YAAa,0CACbC,SAAU,KAEd,CACIH,UAAW,CACP,+BAEJC,WAAY,CACR,+BAGR,CACID,UAAW,CACP,wBAEJC,WAAY,CACR,8BAGR,CACID,UAAW,CACP,0BAEJC,WAAY,CACR,gCAGR,CACID,UAAW,CACP,yBAEJC,WAAY,CACR,+BAGR,CACID,UAAW,CACP,mCAEJC,WAAY,CACR,4BAGR,CACID,UAAW,CACP,iCAEJC,WAAY,CACR,0BAGR,CACID,UAAW,CACP,kCAEJC,WAAY,CACR,2BAGR,CACID,UAAW,CACP,8BAEJC,WAAY,CACR,uBAGR,CACID,UAAW,CACP,8BAEJC,WAAY,CACR,uBAGR,CACID,UAAW,CACP,kCAEJC,WAAY,CACR,2BAGR,CACID,UAAW,CACP,mCAEJC,WAAY,CACR,4BAGR,CACID,UAAW,CACP,mCAEJC,WAAY,CACR,4BAGR,CACID,UAAW,CACP,kCAEJC,WAAY,CACR,2BAGR,CACID,UAAW,CACP,mCAEJC,WAAY,CACR,4BAGR,CACID,UAAW,CACP,mCAEJC,WAAY,CACR,4BAGR,CACID,UAAW,CACP,8BAEJC,WAAY,CACR,uBAGR,CACID,UAAW,CACP,kCAEJC,WAAY,CACR,2BAGR,CACID,UAAW,CACP,8BAEJC,WAAY,CACR,yB,cCjRZhb,EAAOD,QAAU,CACb,CACIgb,UAAW,CAAC,UACZC,WAAY,CAAC,WACbC,YAAa,8CACb0G,OAAQ,mCAEZ,CACI5G,UAAW,CAAC,qBACZC,WAAY,CAAC,4BACbC,YAAa,wHAEjB,CACIF,UAAW,CAAC,cACZC,WAAY,CAAC,wBACbC,YAAa,kE,cCfrBjb,EAAOD,QAAU,CACb,CACIgb,UAAW,CACP,UACA,UACA,WAEJC,WAAY,CACR,mBAEJC,YAAa,oCAEjB,CACIF,UAAW,CACP,oCAEJC,WAAY,CACR,+BAEJC,YAAa,sCACbC,SAAU,IACVyG,OAAQ,oBAEZ,CACI5G,UAAW,CACP,oCAEJC,WAAY,CACR,oCAGR,CACID,UAAW,CACP,yCAEJC,WAAY,CACR,iCAEJ/T,QAAS,+BAEb,CACI8T,UAAW,CACP,0CAEJC,WAAY,CACR,sCAEJ/T,QAAS,+BAEb,CACI8T,UAAW,CACP,2BAEJC,WAAY,CACR,kBAGR,CACID,UAAW,CACP,0BAEJC,WAAY,CACR,kBAGR,CACID,UAAW,CACP,2BAEJC,WAAY,CACR,sBAGR,CACID,UAAW,CACP,0BAEJC,WAAY,CACR,sBAGR,CACID,UAAW,CACP,sBAEJC,WAAY,CACR,kBAGR,CACID,UAAW,CACP,0BAEJC,WAAY,CACR,2BAGR,CACID,UAAW,CACP,0BAEJC,WAAY,CACR,+BAGR,CACID,UAAW,CACP,8BAEJC,WAAY,CACR,+BAGR,CACID,UAAW,CACP,8BAEJC,WAAY,CACR,+BAGR,CACID,UAAW,CACP,GACA,+BAEJC,WAAY,CACR,GACA,mBACA,qBAGR,CACID,UAAW,CACP,8BAEJC,WAAY,CACR,6BAGR,CACID,UAAW,CACP,8BAEJC,WAAY,CACR,6BAGR,CACID,UAAW,CACP,4CAEJC,WAAY,CACR,gDAGR,CACID,UAAW,CACP,wBAEJC,WAAY,CACR,iBAGR,CACID,UAAW,CACP,wBAEJC,WAAY,CACR,iBAGR,CACID,UAAW,CACP,yBAEJC,WAAY,CACR,qBAGR,CACID,UAAW,CACP,yBAEJC,WAAY,CACR,qBAGR,CACID,UAAW,CACP,SAEJC,WAAY,CACR,SAGR,CACID,UAAW,CACP,oBAEJC,WAAY,CACR,yBAGR,CACID,UAAW,CACP,oBAEJC,WAAY,CACR,yBAGR,CACID,UAAW,CACP,oBAEJC,WAAY,CACR,uBAGR,CACID,UAAW,CACP,oBAEJC,WAAY,CACR,uBAGR,CACID,UAAW,CACP,uCAEJC,WAAY,CACR,qCAGR,CACID,UAAW,CACP,KAEJC,WAAY,CACR,GACA,KAGR,CACID,UAAW,CACP,4BAEJC,WAAY,CACR,gBACA,iBAEJC,YAAa,4DAEjB,CACIF,UAAW,CACP,mBAEJC,WAAY,CACR,6B,cCpQZhb,EAAOD,QAAU,CACb,CACIgb,UAAW,CACP,mCAEJC,WAAY,CACR,0BAGR,CACID,UAAW,CACP,gDAEJC,WAAY,CACR,sCAEJC,YAAa,0EACbC,SAAU,KAEd,CACIH,UAAW,CACP,yCAEJC,WAAY,CACR,8CAGR,CACID,UAAW,CACP,iCAEJC,WAAY,CACR,mBAGR,CACID,UAAW,CACP,gFAEJC,WAAY,CACR,8EAGR,CACID,UAAW,CACP,cAEJC,WAAY,CACR,oBAGR,CACID,UAAW,CACP,YAEJC,WAAY,CACR,kBAGR,CACID,UAAW,CACP,qCAEJC,WAAY,CACR,kCAGR,CACID,UAAW,CACP,WAEJC,WAAY,CACR,eAGR,CACID,UAAW,CACP,YAEJC,WAAY,CACR,UAGR,CACID,UAAW,CACP,QAEJC,WAAY,CACR,gB,cCxFZhb,EAAOD,QAAU,CACb,CACIgb,UAAW,CACP,uCAEJC,WAAY,CACR,2CAGR,CACID,UAAW,CACP,oCAEJC,WAAY,CACR,wCAGR,CACID,UAAW,CACP,6CAEJC,WAAY,CACR,iCACA,4CAGR,CACID,UAAW,CACP,wBAEJC,WAAY,CACR,gCAGR,CACID,UAAW,CACP,+BAEJC,WAAY,CACR,uCAGR,CACID,UAAW,CACP,yBAEJC,WAAY,CACR,iCAGR,CACID,UAAW,CACP,mCAEJC,WAAY,CACR,+BACA,sBACA,OAEJC,YAAa,8CAEjB,CACIF,UAAW,CACP,kCAEJC,WAAY,CACR,8BACA,sBACA,OAEJC,YAAa,8CAEjB,CACIF,UAAW,CACP,qBACA,kCACA,MAEJC,WAAY,CACR,sCACA,qBACA,kCACA,S,cClFZhb,EAAOD,QAAU,CACb,CACIgb,UAAW,CACP,SAEJC,WAAY,CACR,UAEJC,YAAa,+GACbC,SAAU,KAEd,CACIH,UAAW,CACP,mCAEJC,WAAY,CACR,uBAGR,CACID,UAAW,CACP,uBACA,wBACA,OAEJC,WAAY,CACR,uBACA,sBACA,QAGR,CACID,UAAW,CACP,KAEJC,WAAY,CACR,IAEJC,YAAa,wDAEjB,CACIF,UAAW,CACP,QAEJC,WAAY,CACR,OAGR,CACID,UAAW,CACP,OAEJC,WAAY,CACR,KAEJC,YAAa,8BAEjB,CACIF,UAAW,CACP,QAEJC,WAAY,CACR,MAEJC,YAAa,4BAEjB,CACIF,UAAW,CACP,yBAEJC,WAAY,CACR,wBAGR,CACID,UAAW,CACP,MAEJC,WAAY,CACR,KAEJC,YAAa,oBAEjB,CACIF,UAAW,CACP,QAEJC,WAAY,CACR,MAEJC,YAAa,mCAEjB,CACIF,UAAW,CACP,0BAEJC,WAAY,CACR,yBAGR,CACID,UAAW,CACP,gCAEJC,WAAY,CACR,gCAGR,CACID,UAAW,CACP,QACA,IAEJC,WAAY,CACR,GACA,KAGR,CACID,UAAW,CACP,QAEJC,WAAY,CACR,MAGR,CACID,UAAW,CACP,MAEJC,WAAY,CACR,KAGR,CACID,UAAW,CACP,OAEJC,WAAY,CACR,OAGR,CACID,UAAW,CACP,MAEJC,WAAY,CACR,OAGR,C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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolRequestType0 = ProtocolRequestType0;\r\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolRequestType = ProtocolRequestType;\r\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolNotificationType = ProtocolNotificationType;\r\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\r\n    constructor(method) {\r\n        super(method);\r\n    }\r\n}\r\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../typings/thenable.d.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nvar ProgressNotification;\r\n(function (ProgressNotification) {\r\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\r\n})(ProgressNotification || (ProgressNotification = {}));\r\nclass ProgressType {\r\n    constructor() {\r\n    }\r\n}\r\nexports.ProgressType = ProgressType;\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        if (!Is.string(value)) {\r\n            return Trace.Off;\r\n        }\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let progressHandlers = new Map();\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let unhandledProgressEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        onProgress: (_type, token, handler) => {\r\n            if (progressHandlers.has(token)) {\r\n                throw new Error(`Progress handler for token ${token} already registered`);\r\n            }\r\n            progressHandlers.set(token, handler);\r\n            return {\r\n                dispose: () => {\r\n                    progressHandlers.delete(token);\r\n                }\r\n            };\r\n        },\r\n        sendProgress: (_type, token, value) => {\r\n            connection.sendNotification(ProgressNotification.type, { token, value });\r\n        },\r\n        onUnhandledProgress: unhandledProgressEmitter.event,\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            // eslint-disable-next-line no-console\r\n            console.log('inspect');\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    connection.onNotification(ProgressNotification.type, (params) => {\r\n        const handler = progressHandlers.get(params.token);\r\n        if (handler) {\r\n            handler(params.value);\r\n        }\r\n        else {\r\n            unhandledProgressEmitter.fire(params);\r\n        }\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nexports.ErrorCodes = vscode_jsonrpc_1.ErrorCodes;\r\nexports.ResponseError = vscode_jsonrpc_1.ResponseError;\r\nexports.CancellationToken = vscode_jsonrpc_1.CancellationToken;\r\nexports.CancellationTokenSource = vscode_jsonrpc_1.CancellationTokenSource;\r\nexports.Disposable = vscode_jsonrpc_1.Disposable;\r\nexports.Event = vscode_jsonrpc_1.Event;\r\nexports.Emitter = vscode_jsonrpc_1.Emitter;\r\nexports.Trace = vscode_jsonrpc_1.Trace;\r\nexports.TraceFormat = vscode_jsonrpc_1.TraceFormat;\r\nexports.SetTraceNotification = vscode_jsonrpc_1.SetTraceNotification;\r\nexports.LogTraceNotification = vscode_jsonrpc_1.LogTraceNotification;\r\nexports.RequestType = vscode_jsonrpc_1.RequestType;\r\nexports.RequestType0 = vscode_jsonrpc_1.RequestType0;\r\nexports.NotificationType = vscode_jsonrpc_1.NotificationType;\r\nexports.NotificationType0 = vscode_jsonrpc_1.NotificationType0;\r\nexports.MessageReader = vscode_jsonrpc_1.MessageReader;\r\nexports.MessageWriter = vscode_jsonrpc_1.MessageWriter;\r\nexports.ConnectionStrategy = vscode_jsonrpc_1.ConnectionStrategy;\r\nexports.StreamMessageReader = vscode_jsonrpc_1.StreamMessageReader;\r\nexports.StreamMessageWriter = vscode_jsonrpc_1.StreamMessageWriter;\r\nexports.IPCMessageReader = vscode_jsonrpc_1.IPCMessageReader;\r\nexports.IPCMessageWriter = vscode_jsonrpc_1.IPCMessageWriter;\r\nexports.createClientPipeTransport = vscode_jsonrpc_1.createClientPipeTransport;\r\nexports.createServerPipeTransport = vscode_jsonrpc_1.createServerPipeTransport;\r\nexports.generateRandomPipeName = vscode_jsonrpc_1.generateRandomPipeName;\r\nexports.createClientSocketTransport = vscode_jsonrpc_1.createClientSocketTransport;\r\nexports.createServerSocketTransport = vscode_jsonrpc_1.createServerSocketTransport;\r\nexports.ProgressType = vscode_jsonrpc_1.ProgressType;\r\n__export(require(\"vscode-languageserver-types\"));\r\n__export(require(\"./protocol\"));\r\nconst callHierarchy = require(\"./protocol.callHierarchy.proposed\");\r\nconst st = require(\"./protocol.sematicTokens.proposed\");\r\nvar Proposed;\r\n(function (Proposed) {\r\n    let CallHierarchyPrepareRequest;\r\n    (function (CallHierarchyPrepareRequest) {\r\n        CallHierarchyPrepareRequest.method = callHierarchy.CallHierarchyPrepareRequest.method;\r\n        CallHierarchyPrepareRequest.type = callHierarchy.CallHierarchyPrepareRequest.type;\r\n    })(CallHierarchyPrepareRequest = Proposed.CallHierarchyPrepareRequest || (Proposed.CallHierarchyPrepareRequest = {}));\r\n    let CallHierarchyIncomingCallsRequest;\r\n    (function (CallHierarchyIncomingCallsRequest) {\r\n        CallHierarchyIncomingCallsRequest.method = callHierarchy.CallHierarchyIncomingCallsRequest.method;\r\n        CallHierarchyIncomingCallsRequest.type = callHierarchy.CallHierarchyIncomingCallsRequest.type;\r\n    })(CallHierarchyIncomingCallsRequest = Proposed.CallHierarchyIncomingCallsRequest || (Proposed.CallHierarchyIncomingCallsRequest = {}));\r\n    let CallHierarchyOutgoingCallsRequest;\r\n    (function (CallHierarchyOutgoingCallsRequest) {\r\n        CallHierarchyOutgoingCallsRequest.method = callHierarchy.CallHierarchyOutgoingCallsRequest.method;\r\n        CallHierarchyOutgoingCallsRequest.type = callHierarchy.CallHierarchyOutgoingCallsRequest.type;\r\n    })(CallHierarchyOutgoingCallsRequest = Proposed.CallHierarchyOutgoingCallsRequest || (Proposed.CallHierarchyOutgoingCallsRequest = {}));\r\n    Proposed.SemanticTokenTypes = st.SemanticTokenTypes;\r\n    Proposed.SemanticTokenModifiers = st.SemanticTokenModifiers;\r\n    Proposed.SemanticTokens = st.SemanticTokens;\r\n    let SemanticTokensRequest;\r\n    (function (SemanticTokensRequest) {\r\n        SemanticTokensRequest.method = st.SemanticTokensRequest.method;\r\n        SemanticTokensRequest.type = st.SemanticTokensRequest.type;\r\n    })(SemanticTokensRequest = Proposed.SemanticTokensRequest || (Proposed.SemanticTokensRequest = {}));\r\n    let SemanticTokensEditsRequest;\r\n    (function (SemanticTokensEditsRequest) {\r\n        SemanticTokensEditsRequest.method = st.SemanticTokensEditsRequest.method;\r\n        SemanticTokensEditsRequest.type = st.SemanticTokensEditsRequest.type;\r\n    })(SemanticTokensEditsRequest = Proposed.SemanticTokensEditsRequest || (Proposed.SemanticTokensEditsRequest = {}));\r\n    let SemanticTokensRangeRequest;\r\n    (function (SemanticTokensRangeRequest) {\r\n        SemanticTokensRangeRequest.method = st.SemanticTokensRangeRequest.method;\r\n        SemanticTokensRangeRequest.type = st.SemanticTokensRangeRequest.type;\r\n    })(SemanticTokensRangeRequest = Proposed.SemanticTokensRangeRequest || (Proposed.SemanticTokensRangeRequest = {}));\r\n})(Proposed = exports.Proposed || (exports.Proposed = {}));\r\nfunction createProtocolConnection(reader, writer, logger, strategy) {\r\n    return vscode_jsonrpc_1.createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createProtocolConnection = createProtocolConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-console\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Emitter = Emitter;\r\nEmitter._noop = function () { };\r\n","module.exports = require(\"fs\");","module.exports = require(\"path\");","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't received the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.socket.destroy();\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar android = require(\"./rules/android\");\nvar angular = require(\"./rules/angular\");\nvar c = require(\"./rules/c\");\nvar chainer2pytouch = require(\"./rules/chainer2pytouch\");\nvar cpp = require(\"./rules/cpp\");\nvar cobol = require(\"./rules/cobol\");\nvar dart = require(\"./rules/dart\");\nvar java = require(\"./rules/java\");\nvar javascript = require(\"./rules/javascript\");\nvar php = require(\"./rules/php\");\nvar python = require(\"./rules/python\");\nvar rails = require(\"./rules/rails\");\nvar react = require(\"./rules/react\");\nvar ruby = require(\"./rules/ruby\");\nvar typescript = require(\"./rules/typescript\");\nvar tensorflow = require(\"./rules/tensorflow\");\nvar vscode = require(\"./rules/vscode\");\nvar vue = require(\"./rules/vue\");\nexports.extend = {\n    android: android,\n    angular: angular,\n    c: c,\n    chainer2pytouch: chainer2pytouch,\n    cobol: cobol,\n    cpp: cpp,\n    dart: dart,\n    java: java,\n    javascript: javascript,\n    php: php,\n    python: python,\n    rails: rails,\n    react: react,\n    ruby: ruby,\n    tensorflow: tensorflow,\n    typescript: typescript,\n    vscode: vscode,\n    vue: vue,\n};\nexports.sources = {\n    c: [\".c\"],\n    cobol: [\".cbl\", \".cblsrce\", \".ocb\", \".ocb\"],\n    cpp: [\".cpp\"],\n    dart: [\".dart\"],\n    vue: [\".vue\"],\n    java: [\".java\", \".jav\"],\n    javascript: [\".js\", \".es6\", \".mjs\", \".pac\"],\n    php: [\".php\"],\n    python: [\".py\", \".rpy\", \".pyw\", \".cpy\", \".gyp\", \".gypi\", \".snakefile\", \".smk\"],\n    ruby: [\".rb\", \".rbx\", \".rjs\", \".gemspec\", \".rake\", \".ru\", \".erb\"],\n    typescript: [\".ts\"],\n};\nfunction getInitPattern(fileName) {\n    for (var _i = 0, _a = Object.keys(exports.sources); _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (exports.sources[key].some(function (x) { return fileName.endsWith(x); })) {\n            return exports.extend[key];\n        }\n    }\n    return [];\n}\nexports.getInitPattern = getInitPattern;\n","module.exports = [\n    {\n        condition: ['asctime'],\n        consequent: ['asctime_s']\n    },\n    {\n        condition: ['atof'],\n        consequent: ['strtod']\n    },\n    {\n        condition: ['atoi'],\n        consequent: ['strtol']\n    },\n    {\n        condition: ['atol'],\n        consequent: ['strtol']\n    },\n    {\n        condition: ['atoll'],\n        consequent: ['strtoll']\n    },\n    {\n        condition: ['ctime'],\n        consequent: ['ctime_s']\n    },\n    {\n        condition: ['fopen'],\n        consequent: ['fopen_s']\n    },\n    {\n        condition: ['freopen'],\n        consequent: ['freopen_s']\n    },\n    {\n        condition: ['rewind'],\n        consequent: ['fseek']\n    },\n    {\n        condition: ['setbuf'],\n        consequent: ['setvbuf']\n    },\n    {\n        condition: ['for ($1 = $2; $1 != $3; $1 += $4)'],\n        consequent: ['for ($1 = $2; $1 <= $3; $1 += $4)']\n    },\n    {\n        condition: ['for ($1 = $2; $1 != $3; $1++)'],\n        consequent: ['for ($1 = $2; $1 <= $3; $1++)']\n    },\n    {\n        condition: ['for ($1 = $2; $1 != $3; ++$1)'],\n        consequent: ['for ($1 = $2; $1 < $3; ++$1)']\n    },\n    {\n        condition: ['<= SIZE_MAX; $2 += $1)'],\n        consequent: ['<= INT_MAX - $1; $2 += $1)']\n    },\n    {\n        condition: ['<= SIZE_MAX; $1++)'],\n        consequent: ['<= INT_MAX - 1; $1++)']\n    },\n    {\n        condition: ['int $1 = open($2, O_RDWR);'],\n        consequent: ['int $1 = open($2, O_RDWR | O_NOFOLLOW);']\n    },\n    {\n        condition: ['assert(NULL != dup);'],\n        consequent: [\n            'if (NULL == dup) {',\n            '    return NULLl',\n            '}'\n        ]\n    }\n];\n","module.exports = [\n    {\n        condition: [\n            'OutgoingMessage.prototype.flush'\n        ],\n        consequent: [\n            'OutgoingMessage.prototype.flushHeaders'\n        ],\n        description: 'Prefer self[:attribute] = value over write_attribute(:attribute, value)',\n        severity: 'I'\n    },\n    {\n        condition: [\n            '_writableState.buffer'\n        ],\n        consequent: [\n            '_writableState.getBuffer()'\n        ]\n    },\n    {\n        condition: [\n            'require(\\'constants\\')'\n        ],\n        consequent: [\n            'require(\\'fs\\').constants'\n        ]\n    },\n    {\n        condition: [\n            'crypto.createCredentials'\n        ],\n        consequent: [\n            'tls.createSecureContext'\n        ]\n    },\n    {\n        condition: [\n            'Server.connections'\n        ],\n        consequent: [\n            'Server.getConnections()'\n        ]\n    },\n    {\n        condition: [\n            'Server.listenFD()'\n        ],\n        consequent: [\n            'Server.listen({fd: <number>})'\n        ]\n    },\n    {\n        condition: [\n            'tmpDir()'\n        ],\n        consequent: [\n            'tmpdir()'\n        ]\n    },\n    {\n        condition: [\n            'getNetworkInterfaces()'\n        ],\n        consequent: [\n            'networkInterfaces()'\n        ]\n    },\n    {\n        condition: [\n            'SlowBuffer'\n        ],\n        consequent: [\n            'Buffer.allocUnsafeSlow(size)'\n        ]\n    },\n    {\n        condition: [\n            'EventEmitter.listenerCount(emitter, ${1:eventName})'\n        ],\n        consequent: [\n            'emitter.listenerCount(${1:eventName})'\n        ]\n    },\n    {\n        condition: [\n            'export default'\n        ],\n        consequent: [\n            'export'\n        ]\n    },\n    {\n        condition: [\n            'for (let $3 = 0;i < $1.length;i++) $2($1[$3])'\n        ],\n        consequent: [\n            'for (let $3 = 0;i < $1.length;i++) {',\n            '    $2($1[$3])',\n            '}'\n        ]\n    },\n    {\n        condition: [\n            'const $1 = new Array()'\n        ],\n        consequent: [\n            'const $1 = []'\n        ]\n    },\n    {\n        condition: [\n            '$1.hasOwnProperty(\\'$2\\')'\n        ],\n        consequent: [\n            '$1.$2 != null'\n        ]\n    },\n    {\n        condition: [\n            'new Boolean($1)'\n        ],\n        consequent: [\n            '$1'\n        ],\n        severity: \"Information\"\n    },\n    {\n        condition: [\n            'new Number($1)'\n        ],\n        consequent: [\n            '$1'\n        ],\n        severity: \"Information\"\n    },\n    {\n        condition: [\n            'new String($1)'\n        ],\n        consequent: [\n            '$1'\n        ],\n        severity: \"Information\"\n    },\n    {\n        condition: [\n            'new Symbol($1)'\n        ],\n        consequent: [\n            '$1'\n        ],\n        severity: \"Information\"\n    },\n    {\n        condition: [\n            'new $1;'\n        ],\n        consequent: [\n            'new $1();'\n        ],\n        description: 'Never invoke a constructor in a new statement without using parentheses'\n    },\n    {\n        condition: [\n            '@code'\n        ],\n        consequent: [\n            ''\n        ]\n    },\n    {\n        condition: [\n            '@expose'\n        ],\n        consequent: [\n            '@export'\n        ]\n    },\n    {\n        condition: [\n            '@inheritDoc'\n        ],\n        consequent: [\n            '@override'\n        ]\n    }\n];\n","module.exports = require(\"net\");","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction thenable(value) {\r\n    return value && func(value.then);\r\n}\r\nexports.thenable = thenable;\r\n//# sourceMappingURL=is.js.map","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass ValueUUID {\r\n    constructor(_value) {\r\n        this._value = _value;\r\n        // empty\r\n    }\r\n    asHex() {\r\n        return this._value;\r\n    }\r\n    equals(other) {\r\n        return this.asHex() === other.asHex();\r\n    }\r\n}\r\nclass V4UUID extends ValueUUID {\r\n    constructor() {\r\n        super([\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            '4',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._oneOf(V4UUID._timeHighBits),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            '-',\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n            V4UUID._randomHex(),\r\n        ].join(''));\r\n    }\r\n    static _oneOf(array) {\r\n        return array[Math.floor(array.length * Math.random())];\r\n    }\r\n    static _randomHex() {\r\n        return V4UUID._oneOf(V4UUID._chars);\r\n    }\r\n}\r\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\r\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\r\n/**\r\n * An empty UUID that contains only zeros.\r\n */\r\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\r\nfunction v4() {\r\n    return new V4UUID();\r\n}\r\nexports.v4 = v4;\r\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\nfunction isUUID(value) {\r\n    return _UUIDPattern.test(value);\r\n}\r\nexports.isUUID = isUUID;\r\n/**\r\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\r\n * @param value A uuid string.\r\n */\r\nfunction parse(value) {\r\n    if (!isUUID(value)) {\r\n        throw new Error('invalid uuid');\r\n    }\r\n    return new ValueUUID(value);\r\n}\r\nexports.parse = parse;\r\nfunction generateUuid() {\r\n    return v4().asHex();\r\n}\r\nexports.generateUuid = generateUuid;\r\n//# sourceMappingURL=uuid.js.map","\"use strict\";\n\nimport { code2String, fixWithPattern, ILintOut, IPattern, lint, makeSeverity } from \"devreplay\";\nimport * as path from \"path\";\nimport {\n    CodeAction,\n    CodeActionKind,\n    createConnection,\n    Diagnostic,\n    DiagnosticSeverity,\n    InitializeParams,\n    Range,\n    TextDocumentEdit,\n    TextDocuments,\n    TextDocumentSyncKind,\n    TextEdit,\n    WorkspaceEdit,\n} from \"vscode-languageserver\";\nimport { TextDocument } from \"vscode-languageserver-textdocument\";\nimport { URI } from \"vscode-uri\";\n\nnamespace CommandIDs {\n    export const fix = \"devreplay.fix\";\n}\n// Create a connection for the server. The connection uses Node's IPC as a transport.\n// Also include all preview / proposed LSP features.\nconst connection = createConnection();\nconnection.console.info(`DevReplay server running in node ${process.version}`);\nlet documents!: TextDocuments<TextDocument>;\nlet workspaceFolder: string | undefined;\n\nconnection.onInitialize((params: InitializeParams) => {\n    const workspaceFolders = params.workspaceFolders;\n    workspaceFolder = workspaceFolders !== null ? workspaceFolders[0].uri : undefined;\n    documents = new TextDocuments(TextDocument);\n    setupDocumentsListeners();\n\n    return {\n        capabilities: {\n            textDocumentSync: {\n                openClose: true,\n                change: TextDocumentSyncKind.Incremental,\n                willSaveWaitUntil: false,\n                save: {\n                    includeText: false,\n                },\n            },\n            codeActionProvider: {\n                codeActionKinds: [CodeActionKind.QuickFix],\n            },\n            executeCommandProvider: {\n                commands: [CommandIDs.fix],\n            },\n        },\n    };\n});\n\n/**\n * Analyzes the text document for problems.\n * @param doc text document to analyze\n */\nfunction validate(doc: TextDocument) {\n    const diagnostics: Diagnostic[] = [];\n    const results = lintFile(doc);\n    for (let i = 0; i < results.length; i += 1) {\n        const result = results[i];\n        diagnostics.push(makeDiagnostic(result, i));\n    }\n    connection.sendDiagnostics({ uri: doc.uri, diagnostics });\n}\n\nfunction lintFile(doc: TextDocument) {\n    const docDir = path.dirname(path.normalize(URI.parse(doc.uri).fsPath));\n    const rootPath = (workspaceFolder !== undefined) ? workspaceFolder : docDir;\n    const fileContent = doc.getText();\n    const ruleFile = URI.parse(`${rootPath}/devreplay.json`).fsPath;\n    const fileName = URI.parse(doc.uri).fsPath;\n    if (fileName.endsWith(ruleFile) || fileName.endsWith(\".git\")) {\n        return [];\n    }\n\n    return lint(fileName, fileContent, ruleFile);\n}\n\nfunction makeDiagnostic(result: ILintOut, ruleCode: number): Diagnostic {\n    const range: Range = {start: {line: result.position.start.line - 1, character: result.position.start.character - 1},\n                          end: {line: result.position.end.line - 1, character: result.position.end.character - 1}};\n    const message = code2String(result.pattern);\n    const severity = convertSeverity(makeSeverity(result.pattern.severity));\n    const diagnostic = Diagnostic.create(range, message, severity, ruleCode, \"devreplay\");\n\n    return diagnostic;\n}\n\nfunction setupDocumentsListeners() {\n    documents.listen(connection);\n\n    documents.onDidOpen((event) => {\n        validate(event.document);\n    });\n\n    documents.onDidChangeContent((change) => {\n        validate(change.document);\n    });\n\n    documents.onDidClose((close) => {\n        connection.sendDiagnostics({ uri: close.document.uri, diagnostics: []});\n    });\n\n    connection.onCodeAction((params) => {\n        const diagnostics = params.context.diagnostics.filter((diag) => diag.source === \"devreplay\");\n        if (diagnostics.length === 0) {\n            return [];\n        }\n        const textDocument = documents.get(params.textDocument.uri);\n        if (textDocument === undefined) {\n            return [];\n        }\n        const docDir = path.dirname(path.normalize(URI.parse(textDocument.uri).fsPath));\n        const rootPath = (workspaceFolder !== undefined) ? workspaceFolder : docDir;\n        const ruleFile = URI.parse(`${rootPath}/devreplay.json`).fsPath;\n        const codeActions: CodeAction[] = [];\n        const results = lint(textDocument.uri, textDocument.getText(), ruleFile);\n        diagnostics.forEach((diag) => {\n            const targetRule = results[Number(diag.code)];\n            const title = \"Fix by DevReplay\";\n            const fixAction = CodeAction.create(title,\n                                                createEditByPattern(textDocument, diag.range, targetRule.pattern),\n                                                CodeActionKind.QuickFix);\n            fixAction.diagnostics = [diag];\n            codeActions.push(fixAction);\n        });\n\n        return codeActions;\n    });\n}\n\nfunction createEditByPattern(document: TextDocument, range: Range, pattern: IPattern): WorkspaceEdit {\n    const newText = fixWithPattern(document.getText(range), pattern);\n    if (newText !== undefined) {\n        const edits = [TextEdit.replace(range, newText)];\n\n        return { documentChanges: [TextDocumentEdit.create({uri: document.uri, version: document.version}, edits)] };\n    }\n\n    return { documentChanges: [] };\n}\n\nfunction convertSeverity(severity: string) {\n    switch (severity) {\n        case \"E\":\n            return DiagnosticSeverity.Error;\n        case \"W\":\n            return DiagnosticSeverity.Warning;\n        case \"I\":\n            return DiagnosticSeverity.Information;\n        case \"H\":\n                return DiagnosticSeverity.Hint;\n        default:\n            return DiagnosticSeverity.Warning;\n    }\n}\n\n// Listen on the connection\nconnection.listen();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar extend_1 = require(\"./extend\");\nexports.extend = extend_1.extend;\nvar lint_1 = require(\"./lint\");\nexports.code2String = lint_1.code2String;\nexports.fixFromFile = lint_1.fixFromFile;\nexports.fixWithPattern = lint_1.fixWithPattern;\nexports.lint = lint_1.lint;\nexports.lintFromFile = lint_1.lintFromFile;\nexports.lintWithPattern = lint_1.lintWithPattern;\nexports.makeSeverity = lint_1.makeSeverity;\n","module.exports = [\n    {\n        condition: [\n            'if (${1:condition})',\n            '  ${1:func}()'\n        ],\n        consequent: [\n            'if (${1:condition}) ${1:func}()'\n        ],\n        description: 'Use standard brace style (https://source.android.com/setup/contribute/code-style#use-standard-brace-style)'\n    },\n    {\n        condition: [\n            'XMLHTTPRequest'\n        ],\n        consequent: [\n            'XmlHttpRequest'\n        ]\n    },\n    {\n        condition: [\n            'getCustomerID'\n        ],\n        consequent: [\n            'getCustomerId'\n        ]\n    },\n    {\n        condition: [\n            'class HTML'\n        ],\n        consequent: [\n            'class Html'\n        ]\n    },\n    {\n        condition: [\n            'String URL'\n        ],\n        consequent: [\n            'String url'\n        ]\n    },\n    {\n        condition: [\n            'long ID'\n        ],\n        consequent: [\n            'long id'\n        ]\n    },\n    {\n        condition: [\n            'System.out.println()'\n        ],\n        consequent: [\n            ''\n        ],\n        description: 'System.out and System.err get redirected to /dev/null'\n    },\n    {\n        condition: [\n            'catch (Exception e)'\n        ],\n        consequent: [\n            'catch (XXXXException e)'\n        ],\n        description: 'Don\\'t catch generic exception'\n    },\n    {\n        condition: [\n            'Exception e) { }'\n        ],\n        consequent: [\n            'Exception e) {',\n            '',\n            '}'\n        ],\n        description: 'Don\\'t ignore exceptions'\n    }\n];\n","module.exports = [\n    {\n        condition: [\n            'DeprecatedI18NPipesModule'\n        ],\n        consequent: [\n            'CommonModule'\n        ]\n    },\n    {\n        condition: [\n            'DeprecatedCurrencyPipe'\n        ],\n        consequent: [\n            'CurrencyPipe'\n        ]\n    },\n    {\n        condition: [\n            'DeprecatedDatePipe'\n        ],\n        consequent: [\n            'DatePipe'\n        ]\n    },\n    {\n        condition: [\n            'DeprecatedDecimalPipe'\n        ],\n        consequent: [\n            'DecimalPipe'\n        ]\n    },\n    {\n        condition: [\n            'DeprecatedPercentPipe'\n        ],\n        consequent: [\n            'PercentPipe'\n        ]\n    },\n    {\n        condition: [\n            'CollectionChangeRecord'\n        ],\n        consequent: [\n            'IterableChangeRecord'\n        ]\n    },\n    {\n        condition: [\n            'defineInjectable'\n        ],\n        consequent: [\n            'ɵɵdefineInjectable'\n        ]\n    },\n    {\n        condition: [\n            'ReflectiveInjector'\n        ],\n        consequent: [\n            'Injector.create'\n        ]\n    },\n    {\n        condition: [\n            'RenderComponentType'\n        ],\n        consequent: [\n            'RendererType2'\n        ]\n    },\n    {\n        condition: [\n            'RenderComponentType'\n        ],\n        consequent: [\n            'Renderer2'\n        ]\n    },\n    {\n        condition: [\n            'Renderer'\n        ],\n        consequent: [\n            'Renderer2'\n        ]\n    },\n    {\n        condition: [\n            'RootRenderer'\n        ],\n        consequent: [\n            'RendererFactory2'\n        ]\n    },\n    {\n        condition: [\n            'ViewEncapsulation.Native'\n        ],\n        consequent: [\n            'ViewEncapsulation.ShadowDom'\n        ]\n    },\n    {\n        condition: [\n            'preserveQueryParams'\n        ],\n        consequent: [\n            'queryParamsHandling'\n        ]\n    },\n    {\n        condition: [\n            'getAngularLib'\n        ],\n        consequent: [\n            'getAngularJSGlobal'\n        ]\n    },\n    {\n        condition: [\n            'setAngularLib'\n        ],\n        consequent: [\n            'setAngularJSGlobal'\n        ]\n    },\n    {\n        condition: [\n            '<ngForm #${1:value}=${1:str}>'\n        ],\n        consequent: [\n            '<ng-Form #${1:value}=${1:str}>'\n        ]\n    },\n    {\n        condition: [\n            'ReflectiveInjector.resolveAndCreate(${1:providers});'\n        ],\n        consequent: [\n            'Injector.create({${1:providers}});'\n        ]\n    },\n    {\n        condition: [\n            'const routes: Routes = [{',\n            '${1:path}',\n            '    ${2:loadChildren}: ${3:pathstring}#${4:Module}',\n            '}];'\n        ],\n        consequent: [\n            'const routes: Routes = [{',\n            '${1:path}',\n            '    ${2:loadChildren}: () => import(${3:pathstring}).then(m => m.${4:Module})',\n            '}];'\n        ]\n    },\n    {\n        condition: [\n            'params'\n        ],\n        consequent: [\n            'paramsMap'\n        ]\n    },\n    {\n        condition: [\n            'queryParams'\n        ],\n        consequent: [\n            'queryParamsMap'\n        ]\n    },\n    {\n        condition: [\n            '@angular/http'\n        ],\n        consequent: [\n            '@angular/common/http'\n        ]\n    },\n    {\n        condition: [\n            '@angular/http/testing'\n        ],\n        consequent: [\n            '@angular/common/http/testing'\n        ]\n    }\n];\n","module.exports = [\n    {\n        condition: ['F.add'],\n        consequent: ['torch.add'],\n        description: \"Batched addition (accumulating multiple tensors in a single call) is not supported.\",\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.clipped_relu($1, $2=$2)'],\n        consequent: ['$1.clamp(0, $2)'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.crelu($1, axis=1)'],\n        consequent: ['torch.cat((F.relu($1), F.relu(-$1)))'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.hard_sigmoid($1)'],\n        consequent: ['torch.clamp(x * 0.2 + 0.5, 0, 1)'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.swish($1, $2)'],\n        consequent: ['$1 * F.sigmoid($2 * $1)'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.as_strided'],\n        consequent: ['torch.as_strided'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.broadcast'],\n        consequent: ['torch.broadcast_tensors'],\n        description: \"PyTorch operations perform broadcast automatically like as in NumPy: https://pytorch.org/docs/stable/notes/broadcasting.html\",\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.cast'],\n        consequent: ['Tensor.to'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.concat'],\n        consequent: ['torch.cat'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.copy'],\n        consequent: ['Tensor.to'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.depth2space'],\n        consequent: ['F.pixel_shuffle'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.diagonal'],\n        consequent: ['torch.diagonal'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.dstack([$1, $2])'],\n        consequent: ['torch.cat([$1,$2],dim=2)'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.expand_dims($1, axis=$2)'],\n        consequent: ['torch.unsqueeze($1, $2)'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.flatten'],\n        consequent: ['torch.flatten'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.flip'],\n        consequent: ['torch.flip'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.fliplr($1)'],\n        consequent: ['torch.flip(x, 1)'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.flipud($1)'],\n        consequent: ['torch.flip(x, 0)'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: ['F.get_item($1, $2)'],\n        consequent: ['$1[$2]'],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: [''],\n        consequent: [''],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: [''],\n        consequent: [''],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: [''],\n        consequent: [''],\n        author: \"Framework Migration Guide\"\n    },\n    {\n        condition: [''],\n        consequent: [''],\n        author: \"Framework Migration Guide\"\n    }\n];\n","var c = require(\"./c\");\nmodule.exports = [\n    {\n        conditon: ['std::rand() % $1'],\n        consequent: ['std::uniform_int_distribution<int> distribution(0, $1)'],\n        description: \"Do not use std::rand() for generating pseudorandom numbers\"\n    },\n    {\n        conditon: ['std::time'],\n        consequent: ['std::random_device']\n    }\n].concat(c);\n","module.exports = [\n    {\n        condition: ['NOT < '],\n        consequent: ['>= ']\n    },\n    {\n        condition: ['NOT > '],\n        consequent: ['<= ']\n    },\n    {\n        condition: ['NOT <='],\n        consequent: ['>']\n    },\n    {\n        condition: ['NOT >='],\n        consequent: ['<']\n    }\n];\n","module.exports = [\n    {\n        condition: [\n            'expires'\n        ],\n        consequent: [\n            'message'\n        ]\n    },\n    {\n        condition: [\n            'isInstanceOf<${1:MyType}>'\n        ],\n        consequent: [\n            'isA<${1:MyType}>'\n        ]\n    },\n    {\n        condition: [\n            'throws'\n        ],\n        consequent: [\n            'throwsA'\n        ]\n    }\n];\n","module.exports = [\n    {\n        condition: ['if (${1:val1} = ${2:val2})'],\n        consequent: ['if (${1:val1} == ${2:val2})'],\n        author: \"future-architect\"\n    },\n    {\n        condition: ['XMLHTTPRequest'],\n        consequent: ['XmlHttpRequest'],\n        author: \"Google Java Style Guide\"\n    },\n    {\n        condition: ['newCustomerID'],\n        consequent: ['newCustomerId'],\n        author: \"Google Java Style Guide\"\n    },\n    {\n        condition: ['innerStopWatch'],\n        consequent: ['innerStopwatch'],\n        author: \"Google Java Style Guide\"\n    },\n    {\n        condition: ['supportsIPv6OnIOS'],\n        consequent: ['supportsIpv6OnIos'],\n        author: \"Google Java Style Guide\"\n    },\n    {\n        condition: ['$1 = $2 = $3'],\n        consequent: [\n            '$1 = $3',\n            '$2 = $3'\n        ],\n        author: \"Oracle\"\n    },\n    {\n        condition: ['if (${1:val1}++ = ${2:val2}++)'],\n        consequent: ['if ((${1:val1}++ = ${2:val2}++) != 0)'],\n        author: \"Oracle\"\n    },\n    {\n        condition: ['$4 = ($1 = $2 + $3) + $5;'],\n        consequent: [\n            '$1 = $2 + $3',\n            '$4 = $1 + $5'\n        ],\n        author: \"Oracle\"\n    },\n    {\n        condition: ['$1 == $2 && $3 == $4'],\n        consequent: ['($1 == $2) && ($3 == $4)'],\n        author: \"Oracle\"\n    },\n    {\n        condition: [\n            'if (${1:booleanExpression}) {',\n            '    return true;',\n            '} else {',\n            '    return false;',\n            '}'\n        ],\n        consequent: ['return ${1:booleanExpression}'],\n        author: \"Oracle\"\n    },\n    {\n        condition: [\n            'if (${1:condition}) {',\n            '    return ${2:x};',\n            '} else {',\n            '    return ${3:y};',\n            '}'\n        ],\n        consequent: ['return (${1:condition} ? ${2:x} : ${3:y})'],\n        author: \"Oracle\"\n    },\n    {\n        condition: [\n            'if (${1:condition}) {',\n            '    return ${2:x};',\n            '}',\n            'return ${3:y};'\n        ],\n        consequent: ['return (${1:condition} ? ${2:x} : ${3:y})'],\n        author: \"Oracle\"\n    },\n    {\n        condition: ['$1 ++'],\n        consequent: ['$1++'],\n        author: \"future-architect\"\n    },\n    {\n        condition: ['if (${1:condition})'],\n        consequent: ['if (${1:condition} == true)'],\n        author: \"future-architect\"\n    },\n    {\n        condition: ['${1:scope} ${2:type} ${3:val1}, ${4:val2};'],\n        consequent: [\n            '${1:scope} ${2:type} ${3:val1};',\n            '${1:scope} ${2:type} ${3:val2};'\n        ],\n        author: \"future-architect\"\n    },\n    {\n        condition: ['${1:type} ${2:val}[] ='],\n        consequent: ['${1:type}[] ${2:val} ='],\n        author: \"future-architect\"\n    },\n    {\n        condition: ['final List<${1:type}> ${2:values} = Arrays.asList'],\n        consequent: ['final List<${1:type}> ${2:values} = List.of'],\n        author: \"future-architect\"\n    },\n    {\n        condition: ['new String();'],\n        consequent: ['\"\";'],\n        author: \"future-architect\"\n    },\n    {\n        condition: ['new StringBuilder($1).append($2).toString()'],\n        consequent: ['$1 + $2'],\n        author: \"future-architect\"\n    },\n    {\n        condition: [\n            'org.xml.sax.AttributeList'\n        ],\n        consequent: [\n            'org.xml.sax.Attributes'\n        ],\n        description: 'org.xml.sax.AttributeList is deprecated',\n        severity: 'E'\n    },\n    {\n        condition: [\n            'org.xml.sax.DocumentHandler'\n        ],\n        consequent: [\n            'org.xml.sax.ContentHandler'\n        ]\n    },\n    {\n        condition: [\n            'org.omg.CORBA.DynAny'\n        ],\n        consequent: [\n            'org.omg.DynamicAny.DynAny'\n        ]\n    },\n    {\n        condition: [\n            'org.omg.CORBA.DynArray'\n        ],\n        consequent: [\n            'org.omg.DynamicAny.DynArray'\n        ]\n    },\n    {\n        condition: [\n            'org.omg.CORBA.DynEnum'\n        ],\n        consequent: [\n            'org.omg.DynamicAny.DynEnum'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.CROSSHAIR_CURSOR'\n        ],\n        consequent: [\n            'Cursor.CROSSHAIR_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.DEFAULT_CURSOR'\n        ],\n        consequent: [\n            'Cursor.DEFAULT_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.E_RESIZE_CURSOR'\n        ],\n        consequent: [\n            'Cursor.E_RESIZE_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.HAND_CURSOR'\n        ],\n        consequent: [\n            'Cursor.HAND_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.MOVE_CURSOR'\n        ],\n        consequent: [\n            'Cursor.MOVE_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.N_RESIZE_CURSOR'\n        ],\n        consequent: [\n            'Cursor.N_RESIZE_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.NE_RESIZE_CURSOR'\n        ],\n        consequent: [\n            'Cursor.NE_RESIZE_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.NW_RESIZE_CURSOR'\n        ],\n        consequent: [\n            'Cursor.NW_RESIZE_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.S_RESIZE_CURSOR'\n        ],\n        consequent: [\n            'Cursor.S_RESIZE_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.SE_RESIZE_CURSOR'\n        ],\n        consequent: [\n            'Cursor.SE_RESIZE_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.SW_RESIZE_CURSOR'\n        ],\n        consequent: [\n            'Cursor.SW_RESIZE_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.TEXT_CURSOR'\n        ],\n        consequent: [\n            'Cursor.TEXT_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.W_RESIZE_CURSOR'\n        ],\n        consequent: [\n            'Cursor.W_RESIZE_CURSOR'\n        ]\n    },\n    {\n        condition: [\n            'java.awt.Frame.WAIT_CURSOR'\n        ],\n        consequent: [\n            'Cursor.WAIT_CURSOR'\n        ]\n    }\n];\n","module.exports = [\n    {\n        condition: ['elseif'],\n        consequent: ['else if'],\n        description: \"All control keywords look like single words\",\n        author: \"WordPress Coding Standards Docs\"\n    },\n    {\n        condition: ['preg_replace($1/e'],\n        consequent: ['preg_replace_callback($1'],\n        description: 'Perl compatible regular expressions (PCRE, preg_ functions) should be used in preference to their POSIX counterparts',\n    },\n    {\n        condition: ['<?= \\$$1 ?>'],\n        consequent: ['<?php echo \"\\$$1\"; ?>'],\n        description: 'Never use shorthand PHP start tags. Always use full PHP tags',\n    }\n];\n","module.exports = [\n    {\n        condition: [\n            \"$3 = $1\",\n            \"$1 = $2\",\n            \"$2 = $3\",\n        ],\n        consequent: [\n            \"$2, $1 = $1, $2\",\n        ],\n        description: \"Value exchanging can be one line\",\n    },\n    {\n        condition: [\n            \"if ${1:value} % ${2:value} != 0:\",\n        ],\n        consequent: [\n            \"if ${1:value} % ${2:value}:\",\n        ],\n        description: \"It can not cover when value is null\",\n        severity: \"I\",\n        author: \"Google Guideline\",\n    },\n    {\n        condition: [\n            \"if ${1:value} % ${2:value} == 0:\",\n        ],\n        consequent: [\n            \"if not ${1:value} % ${2:value}:\",\n        ],\n    },\n    {\n        condition: [\n            \"string.split(${1:value}, ${2:string})\",\n        ],\n        consequent: [\n            \"${1:value}.split(${2:string})\",\n        ],\n        message: \"Deprecated language feature\",\n    },\n    {\n        condition: [\n            \"apply(${1:fn}, ${2:args}, ${3:kwargs})\",\n        ],\n        consequent: [\n            \"${1:fn}(*${2:args}, **${3:kwargs})\",\n        ],\n        message: \"Deprecated language feature\",\n    },\n    {\n        condition: [\n            \"if len(${1:list}) != 0:\",\n        ],\n        consequent: [\n            \"if ${1:list}:\",\n        ],\n    },\n    {\n        condition: [\n            \"if len(${1:list}) > 0:\",\n        ],\n        consequent: [\n            \"if ${1:list}:\",\n        ],\n    },\n    {\n        condition: [\n            \"if len(${1:list}) == 0:\",\n        ],\n        consequent: [\n            \"if not ${1:list}:\",\n        ],\n    },\n    {\n        condition: [\n            \"if not len(${1:list}):\",\n        ],\n        consequent: [\n            \"if not ${1:list}:\",\n        ],\n    },\n    {\n        condition: [\n            \"if len(${1:list}):\",\n        ],\n        consequent: [\n            \"if ${1:list}:\",\n        ],\n    },\n    {\n        condition: [\n            \"if ${1:value} == None:\",\n        ],\n        consequent: [\n            \"if ${1:value} is None:\",\n        ],\n    },\n    {\n        condition: [\n            \"if ${1:value} != None:\",\n        ],\n        consequent: [\n            \"if ${1:value} is not None:\",\n        ],\n    },\n    {\n        condition: [\n            \"if not ${1:value} == None:\",\n        ],\n        consequent: [\n            \"if ${1:value} is not None:\",\n        ],\n    },\n    {\n        condition: [\n            \"if not ${1:value} is None:\",\n        ],\n        consequent: [\n            \"if ${1:value} is not None:\",\n        ],\n    },\n    {\n        condition: [\n            \"\",\n            \"import ${1:lib1}, ${2:lib2}\",\n        ],\n        consequent: [\n            \"\",\n            \"import ${1:lib1}\",\n            \"import ${2:lib2}\",\n        ],\n    },\n    {\n        condition: [\n            \"${1:value} * ${2:value2} -\",\n        ],\n        consequent: [\n            \"${1:value}*${2:value2} -\",\n        ],\n    },\n    {\n        condition: [\n            \"${1:value} * ${2:value2} +\",\n        ],\n        consequent: [\n            \"${1:value}*${2:value2} +\",\n        ],\n    },\n    {\n        condition: [\n            \"${1:func} = lambda ${2:value}: ${3:code}\",\n        ],\n        consequent: [\n            \"def ${1:func}(${2:value}): return ${3:code}\",\n        ],\n    },\n    {\n        condition: [\n            \"if ${1:exp} == True:\",\n        ],\n        consequent: [\n            \"if ${1:exp}:\",\n        ],\n    },\n    {\n        condition: [\n            \"if ${1:exp} is True:\",\n        ],\n        consequent: [\n            \"if ${1:exp}:\",\n        ],\n    },\n    {\n        condition: [\n            \"if ${1:exp} == False:\",\n        ],\n        consequent: [\n            \"if not ${1:exp}:\",\n        ],\n    },\n    {\n        condition: [\n            \"if ${1:exp} is False:\",\n        ],\n        consequent: [\n            \"if not ${1:exp}:\",\n        ],\n    },\n    {\n        condition: [\n            \"$1 ()\",\n        ],\n        consequent: [\n            \"$1()\",\n        ],\n    },\n    {\n        condition: [\n            \"$1[:$3] == '$2':\",\n        ],\n        consequent: [\n            \"$1.startswith('$2'):\",\n        ],\n    },\n    {\n        condition: [\n            '$1[:$3] == \\\"$2\\\":',\n        ],\n        consequent: [\n            '$1.startswith(\\\"$2\\\"):',\n        ],\n    },\n    {\n        condition: [\n            \"$1[$3:] == '$2':\",\n        ],\n        consequent: [\n            \"$1.endswith('$2'):\",\n        ],\n    },\n    {\n        condition: [\n            '$1[$3:] == \\\"$2\\\":',\n        ],\n        consequent: [\n            '$1.endswith(\\\"$2\\\"):',\n        ],\n    },\n    {\n        condition: [\n            \"type(${1:obj})) is type(${2:type}):\",\n        ],\n        consequent: [\n            \"isinstance(${1:obj}, ${2:type}):\",\n        ],\n    },\n    {\n        condition: [\n            \";\",\n        ],\n        consequent: [\n            \"\",\n            \"\",\n        ],\n    },\n    {\n        condition: [\n            \"[print($1) for $1 in $2]\",\n        ],\n        consequent: [\n            \"for $1 in $2:\",\n            \"    print($1)\",\n        ],\n        description: \"Never use a list comprehension just for its side effects\",\n    },\n    {\n        condition: [\n            \"$1 = open('$2')\",\n        ],\n        consequent: [\n            \"with open('$2') as $1:\",\n        ],\n    },\n];\n","module.exports = [\n    {\n        condition: [\n            'read_attribute(:${1:attribute})'\n        ],\n        consequent: [\n            'self[:${1:attribute}]'\n        ]\n    },\n    {\n        condition: [\n            'write_attribute(:${1:attribute}, ${2:value})'\n        ],\n        consequent: [\n            'self[:${1:attribute}] = ${2:value}'\n        ],\n        description: 'Prefer self[:attribute] = value over write_attribute(:attribute, value)',\n        severity: 'W'\n    },\n    {\n        condition: [\n            'validates_presence_of :${1:attribute}'\n        ],\n        consequent: [\n            'validates :${1:attribute}, presence: true'\n        ]\n    },\n    {\n        condition: [\n            '.where(${1:id}: ${1:id}).take'\n        ],\n        consequent: [\n            '.find(${1:id})'\n        ]\n    },\n    {\n        condition: [\n            '.where(${1:firstname}: ${2:firstvalue}, ${3:lastname}: ${4:lastvalue}).first'\n        ],\n        consequent: [\n            '.find_by(${1:firstname}: ${2:firstvalue}, ${3:lastname}: ${4:lastvalue}))'\n        ]\n    },\n    {\n        condition: [\n            'Time.parse'\n        ],\n        consequent: [\n            'Time.zone.parse'\n        ]\n    },\n    {\n        condition: [\n            'Time.now'\n        ],\n        consequent: [\n            'Time.zone.now'\n        ]\n    },\n    {\n        condition: [\n            '.where(\"${1:id}: != ?\", ${1:id}:)'\n        ],\n        consequent: [\n            '.where.not(${1:id}: ${1:id}:)'\n        ]\n    },\n    {\n        condition: [\n            'rmagick'\n        ],\n        consequent: [\n            'minimagick'\n        ]\n    },\n    {\n        condition: [\n            'autotest'\n        ],\n        consequent: [\n            'guard'\n        ]\n    },\n    {\n        condition: [\n            'rcov'\n        ],\n        consequent: [\n            'SimpleCov'\n        ]\n    }\n];\n","module.exports = [\n    {\n        condition: [\n            'React.render(<MyComponent />, root)'\n        ],\n        consequent: [\n            'ReactDOM.render(<MyComponent />, root)'\n        ]\n    },\n    {\n        condition: [\n            'React.findDOMNode(this.refs.foo)'\n        ],\n        consequent: [\n            'ReactDOM.findDOMNode(this.refs.foo)'\n        ]\n    },\n    {\n        condition: [\n            'import React, { PropTypes } from \\'react\\';'\n        ],\n        consequent: [\n            'import { React } from \\'react\\';',\n            'import { PropTypes } from \\'prop-types\\';'\n        ]\n    },\n    {\n        condition: [\n            'componentWillMount()'\n        ],\n        consequent: [\n            'UNSAFE_componentWillMount()'\n        ]\n    },\n    {\n        condition: [\n            'componentWillReceiveProps()'\n        ],\n        consequent: [\n            'UNSAFE_componentWillReceiveProps()'\n        ]\n    },\n    {\n        condition: [\n            'componentWillUpdate()'\n        ],\n        consequent: [\n            'UNSAFE_componentWillUpdate()'\n        ]\n    },\n    {\n        condition: [\n            \"var $1 = React.createClass({});\"\n        ],\n        consequent: [\n            \"var $1 = React.createClass({\",\n            \"  displayName: \\\"$1\\\"\",\n            \"});\"\n        ],\n        description: \"@babel/plugin-transform-react-display-name\",\n    },\n    {\n        condition: [\n            \"var $1 = createReactClass({});\"\n        ],\n        consequent: [\n            \"var $1 = createReactClass({\",\n            \"  displayName: \\\"$1\\\"\",\n            \"});\"\n        ],\n        description: \"@babel/plugin-transform-react-display-name\"\n    },\n    {\n        condition: [\n            \"const Hr = () => {\",\n            \"  return <hr className=\\\"hr\\\" />;\",\n            \"};\"\n        ],\n        consequent: [\n            \"const _ref = <hr className=\\\"hr\\\" />;\",\n            \"const Hr = () => {\",\n            \"  return <hr className=\\\"hr\\\" />;\",\n            \"};\"\n        ]\n    }\n];\n","module.exports = [\n    {\n        condition: [\n            'fail '\n        ],\n        consequent: [\n            'raise '\n        ],\n        description: 'Prefer raise over fail for exceptions. https://github.com/rubocop-hq/ruby-style-guide#prefer-raise-over-fail',\n        severity: 'W'\n    },\n    {\n        condition: [\n            'raise RuntimeError,${1:message}'\n        ],\n        consequent: [\n            'raise ${1:message}'\n        ]\n    },\n    {\n        condition: [\n            'def ${1:some_method}',\n            '    ${2:do_something}',\n            'end'\n        ],\n        consequent: [\n            'def ${1:some_method}',\n            '  ${2:do_something}',\n            'end'\n        ]\n    },\n    {\n        condition: [\n            ';'\n        ],\n        consequent: [\n            ''\n        ],\n        description: \"Don’t use ; to terminate statements and expressions.\"\n    },\n    {\n        condition: [\n            ' ** '\n        ],\n        consequent: [\n            '**'\n        ]\n    },\n    {\n        condition: [\n            ' / '\n        ],\n        consequent: [\n            '/'\n        ],\n        description: \"Slash in rational literals\"\n    },\n    {\n        condition: [\n            ' &. '\n        ],\n        consequent: [\n            '&.'\n        ],\n        description: \"Safe navigation operator\"\n    },\n    {\n        condition: [\n            '${1:some}( ${2:arg} )'\n        ],\n        consequent: [\n            '${1:some}(${2:arg})'\n        ]\n    },\n    {\n        condition: [\n            '! '\n        ],\n        consequent: [\n            '!'\n        ],\n        description: \"No space after !\"\n    },\n    {\n        condition: [\n            ' .. '\n        ],\n        consequent: [\n            '..'\n        ],\n        description: \"No space inside range literals.\"\n    },\n    {\n        condition: [\n            'def ${1:some_method}()'\n        ],\n        consequent: [\n            'def ${1:some_method}'\n        ]\n    },\n    {\n        condition: [\n            'for ${1:elem} in ${2:arr} do'\n        ],\n        consequent: [\n            '${2:arr}.each { |${1:elem}|'\n        ]\n    },\n    {\n        condition: [\n            ' then',\n            ''\n        ],\n        consequent: [\n            '',\n            ''\n        ]\n    },\n    {\n        condition: [\n            'not '\n        ],\n        consequent: [\n            '!'\n        ]\n    },\n    {\n        condition: [\n            '!!'\n        ],\n        consequent: [\n            ''\n        ]\n    },\n    {\n        condition: [\n            'and'\n        ],\n        consequent: [\n            '&&'\n        ]\n    },\n    {\n        condition: [\n            'or'\n        ],\n        consequent: [\n            '||'\n        ]\n    },\n    {\n        condition: [\n            'if !$1'\n        ],\n        consequent: [\n            'unless $1'\n        ]\n    },\n    {\n        condition: [\n            'raise RuntimeError, \\'$1\\''\n        ],\n        consequent: [\n            'raise \\'$1\\''\n        ]\n    },\n    {\n        condition: [\n            'raise ${1:SomeException}.new(\\'$2\\')'\n        ],\n        consequent: [\n            'raise ${1:SomeException}, \\'$2\\''\n        ]\n    },\n    {\n        condition: [\n            '= ->() {'\n        ],\n        consequent: [\n            '= -> {'\n        ],\n        description: \"Omit the parameter parentheses when defining a stabby lambda with no parameters\"\n    },\n    {\n        condition: [\n            'Proc.new'\n        ],\n        consequent: [\n            'proc'\n        ]\n    },\n    {\n        condition: [\n            'super $1'\n        ],\n        consequent: [\n            'super($1)'\n        ]\n    },\n    {\n        condition: [\n            'count'\n        ],\n        consequent: [\n            'size'\n        ]\n    },\n    {\n        condition: [\n            'Array'\n        ],\n        consequent: [\n            'Set'\n        ]\n    },\n    {\n        condition: [\n            'while !'\n        ],\n        consequent: [\n            'until'\n        ]\n    }\n];\n","var javascript = require(\"./javascript\");\nmodule.exports = [\n    {\n        condition: [\n            'const $1: $3 = $2;'\n        ],\n        consequent: [\n            'const $1 = $2;'\n        ]\n    },\n    {\n        condition: [\n            'isInstanceOf<${1:MyType}>'\n        ],\n        consequent: [\n            'isA<${1:MyType}>'\n        ]\n    },\n    {\n        condition: [\n            'throws'\n        ],\n        consequent: [\n            'throwsA'\n        ]\n    },\n    {\n        condition: [\n            'null'\n        ],\n        consequent: [\n            'undefined'\n        ]\n    },\n    {\n        condition: [\n            '$1.forEach($2 => {'\n        ],\n        consequent: [\n            'for (const $2 in $1) {'\n        ]\n    }\n].concat(javascript);\n","module.exports = [\n    {\n        condition: [\n            'v1.get_variable'\n        ],\n        consequent: [\n            'tf.Variable'\n        ]\n    },\n    {\n        condition: [\n            'v1.variable_scope'\n        ],\n        consequent: [\n            'tf.keras.layers.Layer'\n        ]\n    },\n    {\n        condition: [\n            'v1.variable_scope'\n        ],\n        consequent: [\n            'tf.keras.Model'\n        ]\n    },\n    {\n        condition: [\n            'v1.variable_scope'\n        ],\n        consequent: [\n            'tf.Module'\n        ]\n    },\n    {\n        condition: [\n            '1e-8'\n        ],\n        consequent: [\n            '1e-7'\n        ]\n    },\n    {\n        condition: [\n            'Model.losses,'\n        ],\n        consequent: [\n            'Model.get_losses_for'\n        ]\n    },\n    {\n        condition: [\n            'v1.train.Optimizer'\n        ],\n        consequent: [\n            'tf.keras.optimizers'\n        ]\n    },\n    {\n        condition: [\n            'tf.compat.v1.metrics'\n        ],\n        consequent: [\n            'tf.keras.metrics'\n        ]\n    },\n    {\n        condition: [\n            'tf.compat.v1.losses.Reduction'\n        ],\n        consequent: [\n            'tf.keras.losses.Reduction'\n        ]\n    },\n    {\n        condition: [\n            'tf.compat.v1.train.Optimizer'\n        ],\n        consequent: [\n            'tf.keras.optimizers'\n        ]\n    }\n];\n","module.exports = [\n    {\n        condition: [\n            'show(${1:column}, ${2:preservalFocus})'\n        ],\n        consequent: [\n            'show(${2:preservalFocus})'\n        ]\n    },\n    {\n        condition: [\n            'editor.hide()'\n        ],\n        consequent: [\n            'workbench.action.closeActiveEditor()'\n        ]\n    },\n    {\n        condition: [\n            'editor.show(${1:column})'\n        ],\n        consequent: [\n            'window.showTextDocument()'\n        ]\n    },\n    {\n        condition: [\n            'MarkedString'\n        ],\n        consequent: [\n            'MarkdownString'\n        ]\n    },\n    {\n        condition: [\n            'withScmProgress'\n        ],\n        consequent: [\n            'withProgress'\n        ]\n    },\n    {\n        condition: [\n            'workspace.rootPath'\n        ],\n        consequent: [\n            'workspace.workspaceFolders![0].uri.path'\n        ]\n    },\n    {\n        condition: [\n            'scm.inputBox'\n        ],\n        consequent: [\n            'SourceControl.inputBox'\n        ]\n    }\n];\n","module.exports = [\n    {\n        condition: [\n            '<template slot'\n        ],\n        consequent: [\n            '<template v-slot'\n        ]\n    },\n    {\n        condition: [\n            '<template slot-scope'\n        ],\n        consequent: [\n            '<template v-slot:item=\"slotProps\"'\n        ]\n    },\n    {\n        condition: [\n            '<template slot=\"${1:item}\" slot-scope=\"{${2:item2}}\">'\n        ],\n        consequent: [\n            '<template v-slot:${1:item}=\"{${2:item2}}\">'\n        ]\n    }\n];\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar file_1 = require(\"./file\");\nvar rulemanage_1 = require(\"./rulemanage\");\nfunction lint(fileName, fileContents, ruleFileName) {\n    var patterns = rulemanage_1.readPatternFile(fileName, ruleFileName);\n    var adoptablePatterns = lintWithPattern(fileName, fileContents, patterns);\n    return adoptablePatterns;\n}\nexports.lint = lint;\nfunction lintWithPattern(fileName, contents, patterns) {\n    var matched = [];\n    for (var _i = 0, patterns_1 = patterns; _i < patterns_1.length; _i++) {\n        var pattern = patterns_1[_i];\n        if (!verifyPattern(pattern)) {\n            continue;\n        }\n        var result = makeSnippetRegex(pattern.condition, contents);\n        if (result !== undefined) {\n            matched.push({ pattern: pattern,\n                snippet: result[0],\n                fileName: fileName,\n                position: makePatternPosition(result) });\n        }\n    }\n    return matched;\n}\nexports.lintWithPattern = lintWithPattern;\nfunction fixWithPattern(fileContents, pattern) {\n    if (pattern.consequent.length === 0 || pattern.condition.length === 0) {\n        return \"\";\n    }\n    var dollar = /\\${?(\\d+)(:[a-zA-Z0-9_]+})?/gm;\n    var consequent = pattern.consequent.join(\"\\n\").replace(dollar, function (_, y) { return (\"$<token\" + (parseInt(y, 10) + 1) + \">\"); });\n    var reCondition = conditon2regex2(pattern.condition);\n    if (reCondition !== undefined) {\n        var matchedStr = reCondition.exec(fileContents);\n        if (matchedStr !== null) {\n            return fileContents.replace(reCondition, consequent);\n        }\n        return undefined;\n    }\n    return undefined;\n}\nexports.fixWithPattern = fixWithPattern;\nfunction lintFromFile(fileName, ruleFileName) {\n    var fileContents = file_1.tryReadFile(fileName);\n    if (fileContents !== undefined) {\n        return lint(fileName, fileContents, ruleFileName);\n    }\n    return [];\n}\nexports.lintFromFile = lintFromFile;\nfunction fixFromFile(fileName, ruleFileName) {\n    var fileContents = file_1.tryReadFile(fileName);\n    if (fileContents !== undefined) {\n        var problems = lint(fileName, fileContents, ruleFileName);\n        if (problems.length !== 0) {\n            return fixWithPattern(fileContents, problems[0].pattern);\n        }\n    }\n    return \"\";\n}\nexports.fixFromFile = fixFromFile;\nfunction conditon2regex2(condition) {\n    var dollar = /\\${?(\\d+)(:[a-zA-Z0-9_]+})?/gm;\n    var joinedCondition = condition.length < 2 ? condition[0] : condition.join(\"\\n\");\n    joinedCondition = joinedCondition.replace(dollar, function (_, y) { return (\"$\" + (parseInt(y, 10) + 1)); });\n    joinedCondition = joinedCondition.replace(/[<>*()?.\\[\\]]/g, \"\\\\$&\");\n    var tokenIndex = [];\n    joinedCondition = joinedCondition.replace(dollar, function (x) {\n        var index = parseInt(x[1], 10);\n        if (tokenIndex.includes(index)) {\n            return \"(\\\\k<token\" + index + \">)\";\n        }\n        tokenIndex.push(index);\n        return \"(?<token\" + index + \">[\\\\w.]+)\";\n    });\n    try {\n        return new RegExp(joinedCondition, \"gm\");\n    }\n    catch (error) {\n        return undefined;\n    }\n}\nfunction conditon2regex(condition) {\n    var dollar = /\\${?(\\d+)(:[a-zA-Z0-9_]+})?/gm;\n    var joinedCondition = condition.length < 2 ? condition[0] : condition.join(\"\\n\");\n    joinedCondition = joinedCondition.replace(dollar, function (_, y) { return (\"$\" + (parseInt(y, 10) + 1)); });\n    joinedCondition = joinedCondition.replace(/[<>*()?.\\[\\]]/g, \"\\\\$&\");\n    var tokenIndex = [];\n    joinedCondition = joinedCondition.replace(dollar, function (x) {\n        var index = parseInt(x[1], 10);\n        if (tokenIndex.includes(index)) {\n            return \"(\\\\k<token\" + (tokenIndex.indexOf(index) + 1) + \">)\";\n        }\n        tokenIndex.push(index);\n        return \"(?<token\" + (tokenIndex.indexOf(index) + 1) + \">[\\\\w.]+)\";\n    });\n    try {\n        return new RegExp(joinedCondition, \"gm\");\n    }\n    catch (error) {\n        return undefined;\n    }\n}\nfunction makeSnippetRegex(condition, contents) {\n    var reCondition = conditon2regex(condition);\n    if (reCondition !== undefined) {\n        var matchedStr = reCondition.exec(contents);\n        if (matchedStr !== null) {\n            return matchedStr;\n        }\n        return undefined;\n    }\n    return undefined;\n}\nfunction verifyPattern(pattern) {\n    return Array.isArray(pattern.condition) && Array.isArray(pattern.consequent);\n}\nfunction makePatternPosition(result) {\n    var startIndex = result.index;\n    var headSlice = result.input.slice(undefined, startIndex).split(/\\r\\n|\\r|\\n/);\n    var startLine = headSlice.length;\n    var startChar = startIndex - headSlice.slice(undefined, -1).join(\"\\n\").length;\n    var matchedSlice = result[0].split(/\\r\\n|\\r|\\n/);\n    var endLine = startLine + matchedSlice.length - 1;\n    var endChar = startLine == endLine ?\n        startChar + matchedSlice[matchedSlice.length - 1].length :\n        1 + matchedSlice[matchedSlice.length - 1].length;\n    return {\n        start: {\n            line: startLine,\n            character: startChar\n        },\n        end: {\n            line: endLine,\n            character: endChar\n        }\n    };\n}\nfunction formatILintOut(matched) {\n    return makeSeverity(matched.pattern.severity) + \":\" + matched.fileName + \":\" + matched.position.start.line + \",\" + matched.position.start.character + \": \" + code2String(matched.pattern);\n}\nexports.formatILintOut = formatILintOut;\nfunction makeSeverity(severity) {\n    if (severity === undefined) {\n        return \"W\";\n    }\n    var outSeverity;\n    if (severity.toUpperCase().startsWith(\"E\")) {\n        outSeverity = \"E\";\n    }\n    else if (severity.toUpperCase().startsWith(\"W\")) {\n        outSeverity = \"W\";\n    }\n    else if (severity.toUpperCase().startsWith(\"I\")) {\n        outSeverity = \"I\";\n    }\n    else if (severity.toUpperCase().startsWith(\"H\")) {\n        outSeverity = \"H\";\n    }\n    else {\n        outSeverity = \"W\";\n    }\n    return outSeverity;\n}\nexports.makeSeverity = makeSeverity;\nfunction code2String(pattern) {\n    if (pattern.description !== undefined) {\n        if (pattern.author !== undefined) {\n            return pattern.description + \" by \" + pattern.author;\n        }\n        return pattern.description;\n    }\n    var description = pattern.condition.join(\"\") + \" should be \" + pattern.consequent.join(\"\");\n    if (pattern.author !== undefined) {\n        return description + \" by \" + pattern.author;\n    }\n    return description;\n}\nexports.code2String = code2String;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fs = require(\"fs\");\nfunction tryReadFile(filename) {\n    if (!fs.existsSync(filename)) {\n        throw new Error(\"Unable to open file: \" + filename);\n    }\n    var buffer = Buffer.allocUnsafe(256);\n    var fd = fs.openSync(filename, \"r\");\n    try {\n        fs.readSync(fd, buffer, 0, 256, 0);\n        if (buffer.readInt8(0) === 0x47 && buffer.readInt8(188) === 0x47) {\n            console.log(filename + \": ignoring MPEG transport stream\\n\");\n            return undefined;\n        }\n    }\n    finally {\n        fs.closeSync(fd);\n    }\n    return fs.readFileSync(filename, \"utf8\");\n}\nexports.tryReadFile = tryReadFile;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fs_1 = require(\"fs\");\nvar extend_1 = require(\"./extend\");\nfunction readPatternFile(fileName, ruleFileName) {\n    var location;\n    if (ruleFileName !== undefined && fs_1.existsSync(ruleFileName)) {\n        location = ruleFileName;\n    }\n    else if ((fs_1.existsSync(\"./devreplay.json\"))) {\n        location = \"devreplay.json\";\n    }\n    else {\n        return extend_1.getInitPattern(fileName);\n    }\n    var patternContent = fs_1.readFileSync(location).toString();\n    try {\n        var patternJson = JSON.parse(patternContent);\n        var patterns = [];\n        for (var _i = 0, patternJson_1 = patternJson; _i < patternJson_1.length; _i++) {\n            var pattern = patternJson_1[_i];\n            if (pattern.extends === undefined) {\n                patterns.push(pattern);\n            }\n            else {\n                for (var _a = 0, _b = pattern.extends; _a < _b.length; _a++) {\n                    var extend = _b[_a];\n                    patterns.push.apply(patterns, readExtends(extend));\n                }\n            }\n        }\n        return patterns;\n    }\n    catch (error) {\n        console.log(error);\n        console.log(\"usage: devreplay [target_file] [adopt_rule.json]\");\n        return [];\n    }\n}\nexports.readPatternFile = readPatternFile;\nfunction readExtends(extend) {\n    var location;\n    if (extend_1.extend[extend] !== undefined) {\n        return extend_1.extend[extend];\n    }\n    if (fs_1.existsSync(extend)) {\n        location = extend;\n    }\n    else {\n        return [];\n    }\n    var patternContent = fs_1.readFileSync(location).toString();\n    try {\n        var patternJson = JSON.parse(patternContent);\n        var patterns = [];\n        for (var _i = 0, patternJson_2 = patternJson; _i < patternJson_2.length; _i++) {\n            var pattern = patternJson_2[_i];\n            if (pattern.extends === undefined) {\n                patterns.push(pattern);\n            }\n        }\n        return patterns;\n    }\n    catch (error) {\n        console.log(error);\n        console.log(\"usage: devreplay [target_file] [adopt_rule.json]\");\n        return [];\n    }\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../typings/thenable.d.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nexports.Event = vscode_languageserver_protocol_1.Event;\r\nconst configuration_1 = require(\"./configuration\");\r\nconst workspaceFolders_1 = require(\"./workspaceFolders\");\r\nconst progress_1 = require(\"./progress\");\r\nconst Is = require(\"./utils/is\");\r\nconst UUID = require(\"./utils/uuid\");\r\n// ------------- Reexport the API surface of the language worker API ----------------------\r\n__export(require(\"vscode-languageserver-protocol\"));\r\nconst fm = require(\"./files\");\r\nvar Files;\r\n(function (Files) {\r\n    Files.uriToFilePath = fm.uriToFilePath;\r\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\r\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\r\n    Files.resolve = fm.resolve;\r\n    Files.resolveModulePath = fm.resolveModulePath;\r\n})(Files = exports.Files || (exports.Files = {}));\r\nlet shutdownReceived = false;\r\nlet exitTimer = undefined;\r\nfunction setupExitTimer() {\r\n    const argName = '--clientProcessId';\r\n    function runTimer(value) {\r\n        try {\r\n            let processId = parseInt(value);\r\n            if (!isNaN(processId)) {\r\n                exitTimer = setInterval(() => {\r\n                    try {\r\n                        process.kill(processId, 0);\r\n                    }\r\n                    catch (ex) {\r\n                        // Parent process doesn't exist anymore. Exit the server.\r\n                        process.exit(shutdownReceived ? 0 : 1);\r\n                    }\r\n                }, 3000);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Ignore errors;\r\n        }\r\n    }\r\n    for (let i = 2; i < process.argv.length; i++) {\r\n        let arg = process.argv[i];\r\n        if (arg === argName && i + 1 < process.argv.length) {\r\n            runTimer(process.argv[i + 1]);\r\n            return;\r\n        }\r\n        else {\r\n            let args = arg.split('=');\r\n            if (args[0] === argName) {\r\n                runTimer(args[1]);\r\n            }\r\n        }\r\n    }\r\n}\r\nsetupExitTimer();\r\nfunction null2Undefined(value) {\r\n    if (value === null) {\r\n        return void 0;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * A manager for simple text documents\r\n */\r\nclass TextDocuments {\r\n    /**\r\n     * Create a new text document manager.\r\n     */\r\n    constructor(configuration) {\r\n        this._documents = Object.create(null);\r\n        this._configuration = configuration;\r\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\r\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been opened or the content changes.\r\n     */\r\n    get onDidChangeContent() {\r\n        return this._onDidChangeContent.event;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been opened.\r\n     */\r\n    get onDidOpen() {\r\n        return this._onDidOpen.event;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * will be saved.\r\n     */\r\n    get onWillSave() {\r\n        return this._onWillSave.event;\r\n    }\r\n    /**\r\n     * Sets a handler that will be called if a participant wants to provide\r\n     * edits during a text document save.\r\n     */\r\n    onWillSaveWaitUntil(handler) {\r\n        this._willSaveWaitUntil = handler;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been saved.\r\n     */\r\n    get onDidSave() {\r\n        return this._onDidSave.event;\r\n    }\r\n    /**\r\n     * An event that fires when a text document managed by this manager\r\n     * has been closed.\r\n     */\r\n    get onDidClose() {\r\n        return this._onDidClose.event;\r\n    }\r\n    /**\r\n     * Returns the document for the given URI. Returns undefined if\r\n     * the document is not mananged by this instance.\r\n     *\r\n     * @param uri The text document's URI to retrieve.\r\n     * @return the text document or `undefined`.\r\n     */\r\n    get(uri) {\r\n        return this._documents[uri];\r\n    }\r\n    /**\r\n     * Returns all text documents managed by this instance.\r\n     *\r\n     * @return all text documents.\r\n     */\r\n    all() {\r\n        return Object.keys(this._documents).map(key => this._documents[key]);\r\n    }\r\n    /**\r\n     * Returns the URIs of all text documents managed by this instance.\r\n     *\r\n     * @return the URI's of all text documents.\r\n     */\r\n    keys() {\r\n        return Object.keys(this._documents);\r\n    }\r\n    /**\r\n     * Listens for `low level` notification on the given connection to\r\n     * update the text documents managed by this instance.\r\n     *\r\n     * @param connection The connection to listen on.\r\n     */\r\n    listen(connection) {\r\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Full;\r\n        connection.onDidOpenTextDocument((event) => {\r\n            let td = event.textDocument;\r\n            let document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\r\n            this._documents[td.uri] = document;\r\n            let toFire = Object.freeze({ document });\r\n            this._onDidOpen.fire(toFire);\r\n            this._onDidChangeContent.fire(toFire);\r\n        });\r\n        connection.onDidChangeTextDocument((event) => {\r\n            let td = event.textDocument;\r\n            let changes = event.contentChanges;\r\n            if (changes.length === 0) {\r\n                return;\r\n            }\r\n            let document = this._documents[td.uri];\r\n            const { version } = td;\r\n            if (version === null || version === void 0) {\r\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\r\n            }\r\n            document = this._configuration.update(document, changes, version);\r\n            this._documents[td.uri] = document;\r\n            this._onDidChangeContent.fire(Object.freeze({ document }));\r\n        });\r\n        connection.onDidCloseTextDocument((event) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document) {\r\n                delete this._documents[event.textDocument.uri];\r\n                this._onDidClose.fire(Object.freeze({ document }));\r\n            }\r\n        });\r\n        connection.onWillSaveTextDocument((event) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document) {\r\n                this._onWillSave.fire(Object.freeze({ document, reason: event.reason }));\r\n            }\r\n        });\r\n        connection.onWillSaveTextDocumentWaitUntil((event, token) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document && this._willSaveWaitUntil) {\r\n                return this._willSaveWaitUntil(Object.freeze({ document, reason: event.reason }), token);\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        });\r\n        connection.onDidSaveTextDocument((event) => {\r\n            let document = this._documents[event.textDocument.uri];\r\n            if (document) {\r\n                this._onDidSave.fire(Object.freeze({ document }));\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.TextDocuments = TextDocuments;\r\n/**\r\n * Helps tracking error message. Equal occurences of the same\r\n * message are only stored once. This class is for example\r\n * useful if text documents are validated in a loop and equal\r\n * error message should be folded into one.\r\n */\r\nclass ErrorMessageTracker {\r\n    constructor() {\r\n        this._messages = Object.create(null);\r\n    }\r\n    /**\r\n     * Add a message to the tracker.\r\n     *\r\n     * @param message The message to add.\r\n     */\r\n    add(message) {\r\n        let count = this._messages[message];\r\n        if (!count) {\r\n            count = 0;\r\n        }\r\n        count++;\r\n        this._messages[message] = count;\r\n    }\r\n    /**\r\n     * Send all tracked messages to the connection's window.\r\n     *\r\n     * @param connection The connection established between client and server.\r\n     */\r\n    sendErrors(connection) {\r\n        Object.keys(this._messages).forEach(message => {\r\n            connection.window.showErrorMessage(message);\r\n        });\r\n    }\r\n}\r\nexports.ErrorMessageTracker = ErrorMessageTracker;\r\nclass RemoteConsoleImpl {\r\n    constructor() {\r\n    }\r\n    rawAttach(connection) {\r\n        this._rawConnection = connection;\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    error(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\r\n    }\r\n    warn(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\r\n    }\r\n    info(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\r\n    }\r\n    log(message) {\r\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\r\n    }\r\n    send(type, message) {\r\n        if (this._rawConnection) {\r\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message });\r\n        }\r\n    }\r\n}\r\nclass _RemoteWindowImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    showErrorMessage(message, ...actions) {\r\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\r\n    }\r\n    showWarningMessage(message, ...actions) {\r\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\r\n    }\r\n    showInformationMessage(message, ...actions) {\r\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\r\n    }\r\n}\r\nconst RemoteWindowImpl = progress_1.ProgressFeature(_RemoteWindowImpl);\r\nvar BulkRegistration;\r\n(function (BulkRegistration) {\r\n    /**\r\n     * Creates a new bulk registration.\r\n     * @return an empty bulk registration.\r\n     */\r\n    function create() {\r\n        return new BulkRegistrationImpl();\r\n    }\r\n    BulkRegistration.create = create;\r\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\r\nclass BulkRegistrationImpl {\r\n    constructor() {\r\n        this._registrations = [];\r\n        this._registered = new Set();\r\n    }\r\n    add(type, registerOptions) {\r\n        const method = Is.string(type) ? type : type.method;\r\n        if (this._registered.has(method)) {\r\n            throw new Error(`${method} is already added to this registration`);\r\n        }\r\n        const id = UUID.generateUuid();\r\n        this._registrations.push({\r\n            id: id,\r\n            method: method,\r\n            registerOptions: registerOptions || {}\r\n        });\r\n        this._registered.add(method);\r\n    }\r\n    asRegistrationParams() {\r\n        return {\r\n            registrations: this._registrations\r\n        };\r\n    }\r\n}\r\nvar BulkUnregistration;\r\n(function (BulkUnregistration) {\r\n    function create() {\r\n        return new BulkUnregistrationImpl(undefined, []);\r\n    }\r\n    BulkUnregistration.create = create;\r\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\r\nclass BulkUnregistrationImpl {\r\n    constructor(_connection, unregistrations) {\r\n        this._connection = _connection;\r\n        this._unregistrations = new Map();\r\n        unregistrations.forEach(unregistration => {\r\n            this._unregistrations.set(unregistration.method, unregistration);\r\n        });\r\n    }\r\n    get isAttached() {\r\n        return !!this._connection;\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    add(unregistration) {\r\n        this._unregistrations.set(unregistration.method, unregistration);\r\n    }\r\n    dispose() {\r\n        let unregistrations = [];\r\n        for (let unregistration of this._unregistrations.values()) {\r\n            unregistrations.push(unregistration);\r\n        }\r\n        let params = {\r\n            unregisterations: unregistrations\r\n        };\r\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\r\n            this._connection.console.info(`Bulk unregistration failed.`);\r\n        });\r\n    }\r\n    disposeSingle(arg) {\r\n        const method = Is.string(arg) ? arg : arg.method;\r\n        const unregistration = this._unregistrations.get(method);\r\n        if (!unregistration) {\r\n            return false;\r\n        }\r\n        let params = {\r\n            unregisterations: [unregistration]\r\n        };\r\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\r\n            this._unregistrations.delete(method);\r\n        }, (_error) => {\r\n            this._connection.console.info(`Unregistering request handler for ${unregistration.id} failed.`);\r\n        });\r\n        return true;\r\n    }\r\n}\r\nclass RemoteClientImpl {\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\r\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\r\n            return this.registerMany(typeOrRegistrations);\r\n        }\r\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\r\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\r\n        }\r\n        else {\r\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\r\n        }\r\n    }\r\n    registerSingle1(unregistration, type, registerOptions) {\r\n        const method = Is.string(type) ? type : type.method;\r\n        const id = UUID.generateUuid();\r\n        let params = {\r\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\r\n        };\r\n        if (!unregistration.isAttached) {\r\n            unregistration.attach(this._connection);\r\n        }\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\r\n            unregistration.add({ id: id, method: method });\r\n            return unregistration;\r\n        }, (_error) => {\r\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\r\n            return Promise.reject(_error);\r\n        });\r\n    }\r\n    registerSingle2(type, registerOptions) {\r\n        const method = Is.string(type) ? type : type.method;\r\n        const id = UUID.generateUuid();\r\n        let params = {\r\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\r\n        };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\r\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\r\n                this.unregisterSingle(id, method);\r\n            });\r\n        }, (_error) => {\r\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\r\n            return Promise.reject(_error);\r\n        });\r\n    }\r\n    unregisterSingle(id, method) {\r\n        let params = {\r\n            unregisterations: [{ id, method }]\r\n        };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(undefined, (_error) => {\r\n            this.connection.console.info(`Unregistering request handler for ${id} failed.`);\r\n        });\r\n    }\r\n    registerMany(registrations) {\r\n        let params = registrations.asRegistrationParams();\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\r\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\r\n        }, (_error) => {\r\n            this.connection.console.info(`Bulk registration failed.`);\r\n            return Promise.reject(_error);\r\n        });\r\n    }\r\n}\r\nclass _RemoteWorkspaceImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    applyEdit(paramOrEdit) {\r\n        function isApplyWorkspaceEditParams(value) {\r\n            return value && !!value.edit;\r\n        }\r\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\r\n        return this._connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\r\n    }\r\n}\r\nconst RemoteWorkspaceImpl = workspaceFolders_1.WorkspaceFoldersFeature(configuration_1.ConfigurationFeature(_RemoteWorkspaceImpl));\r\nclass TelemetryImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    logEvent(data) {\r\n        this._connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data);\r\n    }\r\n}\r\nclass TracerImpl {\r\n    constructor() {\r\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    set trace(value) {\r\n        this._trace = value;\r\n    }\r\n    log(message, verbose) {\r\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\r\n            return;\r\n        }\r\n        this._connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\r\n            message: message,\r\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\r\n        });\r\n    }\r\n}\r\nclass LanguagesImpl {\r\n    constructor() {\r\n    }\r\n    attach(connection) {\r\n        this._connection = connection;\r\n    }\r\n    get connection() {\r\n        if (!this._connection) {\r\n            throw new Error('Remote is not attached to a connection yet.');\r\n        }\r\n        return this._connection;\r\n    }\r\n    initialize(_capabilities) {\r\n    }\r\n    fillServerCapabilities(_capabilities) {\r\n    }\r\n    attachWorkDoneProgress(params) {\r\n        return progress_1.attachWorkDone(this.connection, params);\r\n    }\r\n    attachPartialResultProgress(_type, params) {\r\n        return progress_1.attachPartialResult(this.connection, params);\r\n    }\r\n}\r\nexports.LanguagesImpl = LanguagesImpl;\r\nfunction combineConsoleFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineConsoleFeatures = combineConsoleFeatures;\r\nfunction combineTelemetryFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\r\nfunction combineTracerFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineTracerFeatures = combineTracerFeatures;\r\nfunction combineClientFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineClientFeatures = combineClientFeatures;\r\nfunction combineWindowFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineWindowFeatures = combineWindowFeatures;\r\nfunction combineWorkspaceFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\r\nfunction combineLanguagesFeatures(one, two) {\r\n    return function (Base) {\r\n        return two(one(Base));\r\n    };\r\n}\r\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\r\nfunction combineFeatures(one, two) {\r\n    function combine(one, two, func) {\r\n        if (one && two) {\r\n            return func(one, two);\r\n        }\r\n        else if (one) {\r\n            return one;\r\n        }\r\n        else {\r\n            return two;\r\n        }\r\n    }\r\n    let result = {\r\n        __brand: 'features',\r\n        console: combine(one.console, two.console, combineConsoleFeatures),\r\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\r\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\r\n        client: combine(one.client, two.client, combineClientFeatures),\r\n        window: combine(one.window, two.window, combineWindowFeatures),\r\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures)\r\n    };\r\n    return result;\r\n}\r\nexports.combineFeatures = combineFeatures;\r\nfunction createConnection(arg1, arg2, arg3, arg4) {\r\n    let factories;\r\n    let input;\r\n    let output;\r\n    let strategy;\r\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\r\n        factories = arg1;\r\n        arg1 = arg2;\r\n        arg2 = arg3;\r\n        arg3 = arg4;\r\n    }\r\n    if (vscode_languageserver_protocol_1.ConnectionStrategy.is(arg1)) {\r\n        strategy = arg1;\r\n    }\r\n    else {\r\n        input = arg1;\r\n        output = arg2;\r\n        strategy = arg3;\r\n    }\r\n    return _createConnection(input, output, strategy, factories);\r\n}\r\nexports.createConnection = createConnection;\r\nfunction _createConnection(input, output, strategy, factories) {\r\n    if (!input && !output && process.argv.length > 2) {\r\n        let port = void 0;\r\n        let pipeName = void 0;\r\n        let argv = process.argv.slice(2);\r\n        for (let i = 0; i < argv.length; i++) {\r\n            let arg = argv[i];\r\n            if (arg === '--node-ipc') {\r\n                input = new vscode_languageserver_protocol_1.IPCMessageReader(process);\r\n                output = new vscode_languageserver_protocol_1.IPCMessageWriter(process);\r\n                break;\r\n            }\r\n            else if (arg === '--stdio') {\r\n                input = process.stdin;\r\n                output = process.stdout;\r\n                break;\r\n            }\r\n            else if (arg === '--socket') {\r\n                port = parseInt(argv[i + 1]);\r\n                break;\r\n            }\r\n            else if (arg === '--pipe') {\r\n                pipeName = argv[i + 1];\r\n                break;\r\n            }\r\n            else {\r\n                var args = arg.split('=');\r\n                if (args[0] === '--socket') {\r\n                    port = parseInt(args[1]);\r\n                    break;\r\n                }\r\n                else if (args[0] === '--pipe') {\r\n                    pipeName = args[1];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (port) {\r\n            let transport = vscode_languageserver_protocol_1.createServerSocketTransport(port);\r\n            input = transport[0];\r\n            output = transport[1];\r\n        }\r\n        else if (pipeName) {\r\n            let transport = vscode_languageserver_protocol_1.createServerPipeTransport(pipeName);\r\n            input = transport[0];\r\n            output = transport[1];\r\n        }\r\n    }\r\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\r\n    if (!input) {\r\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\r\n    }\r\n    if (!output) {\r\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\r\n    }\r\n    // Backwards compatibility\r\n    if (Is.func(input.read) && Is.func(input.on)) {\r\n        let inputStream = input;\r\n        inputStream.on('end', () => {\r\n            process.exit(shutdownReceived ? 0 : 1);\r\n        });\r\n        inputStream.on('close', () => {\r\n            process.exit(shutdownReceived ? 0 : 1);\r\n        });\r\n    }\r\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\r\n    const connection = vscode_languageserver_protocol_1.createProtocolConnection(input, output, logger, strategy);\r\n    logger.rawAttach(connection);\r\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\r\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\r\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\r\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\r\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\r\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\r\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages];\r\n    function asPromise(value) {\r\n        if (value instanceof Promise) {\r\n            return value;\r\n        }\r\n        else if (Is.thenable(value)) {\r\n            return new Promise((resolve, reject) => {\r\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\r\n            });\r\n        }\r\n        else {\r\n            return Promise.resolve(value);\r\n        }\r\n    }\r\n    let shutdownHandler = undefined;\r\n    let initializeHandler = undefined;\r\n    let exitHandler = undefined;\r\n    let protocolConnection = {\r\n        listen: () => connection.listen(),\r\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\r\n        onRequest: (type, handler) => connection.onRequest(type, handler),\r\n        sendNotification: (type, param) => {\r\n            const method = Is.string(type) ? type : type.method;\r\n            if (arguments.length === 1) {\r\n                connection.sendNotification(method);\r\n            }\r\n            else {\r\n                connection.sendNotification(method, param);\r\n            }\r\n        },\r\n        onNotification: (type, handler) => connection.onNotification(type, handler),\r\n        onProgress: connection.onProgress,\r\n        sendProgress: connection.sendProgress,\r\n        onInitialize: (handler) => initializeHandler = handler,\r\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\r\n        onShutdown: (handler) => shutdownHandler = handler,\r\n        onExit: (handler) => exitHandler = handler,\r\n        get console() { return logger; },\r\n        get telemetry() { return telemetry; },\r\n        get tracer() { return tracer; },\r\n        get client() { return client; },\r\n        get window() { return remoteWindow; },\r\n        get workspace() { return workspace; },\r\n        get languages() { return languages; },\r\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\r\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\r\n        __textDocumentSync: undefined,\r\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\r\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\r\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\r\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\r\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\r\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\r\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\r\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\r\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\r\n            return handler(params, cancel);\r\n        }),\r\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), progress_1.attachPartialResult(connection, params));\r\n        }),\r\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\r\n            return handler(params, cancel, progress_1.attachWorkDone(connection, params), undefined);\r\n        }),\r\n        dispose: () => connection.dispose()\r\n    };\r\n    for (let remote of allRemotes) {\r\n        remote.attach(protocolConnection);\r\n    }\r\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\r\n        const processId = params.processId;\r\n        if (Is.number(processId) && exitTimer === void 0) {\r\n            // We received a parent process id. Set up a timer to periodically check\r\n            // if the parent is still alive.\r\n            setInterval(() => {\r\n                try {\r\n                    process.kill(processId, 0);\r\n                }\r\n                catch (ex) {\r\n                    // Parent process doesn't exist anymore. Exit the server.\r\n                    process.exit(shutdownReceived ? 0 : 1);\r\n                }\r\n            }, 3000);\r\n        }\r\n        if (Is.string(params.trace)) {\r\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\r\n        }\r\n        for (let remote of allRemotes) {\r\n            remote.initialize(params.capabilities);\r\n        }\r\n        if (initializeHandler) {\r\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, progress_1.attachWorkDone(connection, params), undefined);\r\n            return asPromise(result).then((value) => {\r\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\r\n                    return value;\r\n                }\r\n                let result = value;\r\n                if (!result) {\r\n                    result = { capabilities: {} };\r\n                }\r\n                let capabilities = result.capabilities;\r\n                if (!capabilities) {\r\n                    capabilities = {};\r\n                    result.capabilities = capabilities;\r\n                }\r\n                if (capabilities.textDocumentSync === void 0 || capabilities.textDocumentSync === null) {\r\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\r\n                }\r\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\r\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\r\n                }\r\n                for (let remote of allRemotes) {\r\n                    remote.fillServerCapabilities(capabilities);\r\n                }\r\n                return result;\r\n            });\r\n        }\r\n        else {\r\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\r\n            for (let remote of allRemotes) {\r\n                remote.fillServerCapabilities(result.capabilities);\r\n            }\r\n            return result;\r\n        }\r\n    });\r\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\r\n        shutdownReceived = true;\r\n        if (shutdownHandler) {\r\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    });\r\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\r\n        try {\r\n            if (exitHandler) {\r\n                exitHandler();\r\n            }\r\n        }\r\n        finally {\r\n            if (shutdownReceived) {\r\n                process.exit(0);\r\n            }\r\n            else {\r\n                process.exit(1);\r\n            }\r\n        }\r\n    });\r\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\r\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\r\n    });\r\n    return protocolConnection;\r\n}\r\n// Export the protocol currently in proposed state.\r\nconst callHierarchy_proposed_1 = require(\"./callHierarchy.proposed\");\r\nconst st = require(\"./sematicTokens.proposed\");\r\nvar ProposedFeatures;\r\n(function (ProposedFeatures) {\r\n    ProposedFeatures.all = {\r\n        __brand: 'features',\r\n        languages: combineLanguagesFeatures(callHierarchy_proposed_1.CallHierarchyFeature, st.SemanticTokensFeature)\r\n    };\r\n    ProposedFeatures.SemanticTokensBuilder = st.SemanticTokensBuilder;\r\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\r\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    ErrorCodes.ContentModified = -32801;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n *\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\n/**\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this.dispose();\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n    dispose() {\r\n        if (this._emitter) {\r\n            this._emitter.dispose();\r\n            this._emitter = undefined;\r\n        }\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this._token) {\r\n            // ensure to initialize with an empty token if we had none\r\n            this._token = CancellationToken.None;\r\n        }\r\n        else if (this._token instanceof MutableToken) {\r\n            // actually dispose\r\n            this._token.dispose();\r\n        }\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","module.exports = require(\"os\");","module.exports = require(\"crypto\");","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\n/**\r\n * The Position namespace provides helper functions to work with\r\n * [Position](#Position) literals.\r\n */\r\nexport var Position;\r\n(function (Position) {\r\n    /**\r\n     * Creates a new Position literal from the given line and character.\r\n     * @param line The position's line.\r\n     * @param character The position's character.\r\n     */\r\n    function create(line, character) {\r\n        return { line: line, character: character };\r\n    }\r\n    Position.create = create;\r\n    /**\r\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\r\n    }\r\n    Position.is = is;\r\n})(Position || (Position = {}));\r\n/**\r\n * The Range namespace provides helper functions to work with\r\n * [Range](#Range) literals.\r\n */\r\nexport var Range;\r\n(function (Range) {\r\n    function create(one, two, three, four) {\r\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\r\n            return { start: Position.create(one, two), end: Position.create(three, four) };\r\n        }\r\n        else if (Position.is(one) && Position.is(two)) {\r\n            return { start: one, end: two };\r\n        }\r\n        else {\r\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n        }\r\n    }\r\n    Range.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n    }\r\n    Range.is = is;\r\n})(Range || (Range = {}));\r\n/**\r\n * The Location namespace provides helper functions to work with\r\n * [Location](#Location) literals.\r\n */\r\nexport var Location;\r\n(function (Location) {\r\n    /**\r\n     * Creates a Location literal.\r\n     * @param uri The location's uri.\r\n     * @param range The location's range.\r\n     */\r\n    function create(uri, range) {\r\n        return { uri: uri, range: range };\r\n    }\r\n    Location.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n    }\r\n    Location.is = is;\r\n})(Location || (Location = {}));\r\n/**\r\n * The LocationLink namespace provides helper functions to work with\r\n * [LocationLink](#LocationLink) literals.\r\n */\r\nexport var LocationLink;\r\n(function (LocationLink) {\r\n    /**\r\n     * Creates a LocationLink literal.\r\n     * @param targetUri The definition's uri.\r\n     * @param targetRange The full range of the definition.\r\n     * @param targetSelectionRange The span of the symbol definition at the target.\r\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n     */\r\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n    }\r\n    LocationLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n    }\r\n    LocationLink.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [Color](#Color) literals.\r\n */\r\nexport var Color;\r\n(function (Color) {\r\n    /**\r\n     * Creates a new Color literal.\r\n     */\r\n    function create(red, green, blue, alpha) {\r\n        return {\r\n            red: red,\r\n            green: green,\r\n            blue: blue,\r\n            alpha: alpha,\r\n        };\r\n    }\r\n    Color.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.red)\r\n            && Is.number(candidate.green)\r\n            && Is.number(candidate.blue)\r\n            && Is.number(candidate.alpha);\r\n    }\r\n    Color.is = is;\r\n})(Color || (Color = {}));\r\n/**\r\n * The ColorInformation namespace provides helper functions to work with\r\n * [ColorInformation](#ColorInformation) literals.\r\n */\r\nexport var ColorInformation;\r\n(function (ColorInformation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(range, color) {\r\n        return {\r\n            range: range,\r\n            color: color,\r\n        };\r\n    }\r\n    ColorInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Range.is(candidate.range) && Color.is(candidate.color);\r\n    }\r\n    ColorInformation.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [ColorPresentation](#ColorPresentation) literals.\r\n */\r\nexport var ColorPresentation;\r\n(function (ColorPresentation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(label, textEdit, additionalTextEdits) {\r\n        return {\r\n            label: label,\r\n            textEdit: textEdit,\r\n            additionalTextEdits: additionalTextEdits,\r\n        };\r\n    }\r\n    ColorPresentation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate.label)\r\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n    }\r\n    ColorPresentation.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\n/**\r\n * Enum of known range kinds\r\n */\r\nexport var FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\n/**\r\n * The folding range namespace provides helper functions to work with\r\n * [FoldingRange](#FoldingRange) literals.\r\n */\r\nexport var FoldingRange;\r\n(function (FoldingRange) {\r\n    /**\r\n     * Creates a new FoldingRange literal.\r\n     */\r\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n        var result = {\r\n            startLine: startLine,\r\n            endLine: endLine\r\n        };\r\n        if (Is.defined(startCharacter)) {\r\n            result.startCharacter = startCharacter;\r\n        }\r\n        if (Is.defined(endCharacter)) {\r\n            result.endCharacter = endCharacter;\r\n        }\r\n        if (Is.defined(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    FoldingRange.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\r\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\r\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\r\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n    }\r\n    FoldingRange.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\n/**\r\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n */\r\nexport var DiagnosticRelatedInformation;\r\n(function (DiagnosticRelatedInformation) {\r\n    /**\r\n     * Creates a new DiagnosticRelatedInformation literal.\r\n     */\r\n    function create(location, message) {\r\n        return {\r\n            location: location,\r\n            message: message\r\n        };\r\n    }\r\n    DiagnosticRelatedInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n    }\r\n    DiagnosticRelatedInformation.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\n/**\r\n * The diagnostic's severity.\r\n */\r\nexport var DiagnosticSeverity;\r\n(function (DiagnosticSeverity) {\r\n    /**\r\n     * Reports an error.\r\n     */\r\n    DiagnosticSeverity.Error = 1;\r\n    /**\r\n     * Reports a warning.\r\n     */\r\n    DiagnosticSeverity.Warning = 2;\r\n    /**\r\n     * Reports an information.\r\n     */\r\n    DiagnosticSeverity.Information = 3;\r\n    /**\r\n     * Reports a hint.\r\n     */\r\n    DiagnosticSeverity.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\n/**\r\n * The diagnostic tags.\r\n *\r\n * @since 3.15.0\r\n */\r\nexport var DiagnosticTag;\r\n(function (DiagnosticTag) {\r\n    /**\r\n     * Unused or unnecessary code.\r\n     *\r\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\r\n     * an error squiggle.\r\n     */\r\n    DiagnosticTag.Unnecessary = 1;\r\n    /**\r\n     * Deprecated or obsolete code.\r\n     *\r\n     * Clients are allowed to rendered diagnostics with this tag strike through.\r\n     */\r\n    DiagnosticTag.Deprecated = 2;\r\n})(DiagnosticTag || (DiagnosticTag = {}));\r\n/**\r\n * The Diagnostic namespace provides helper functions to work with\r\n * [Diagnostic](#Diagnostic) literals.\r\n */\r\nexport var Diagnostic;\r\n(function (Diagnostic) {\r\n    /**\r\n     * Creates a new Diagnostic literal.\r\n     */\r\n    function create(range, message, severity, code, source, relatedInformation) {\r\n        var result = { range: range, message: message };\r\n        if (Is.defined(severity)) {\r\n            result.severity = severity;\r\n        }\r\n        if (Is.defined(code)) {\r\n            result.code = code;\r\n        }\r\n        if (Is.defined(source)) {\r\n            result.source = source;\r\n        }\r\n        if (Is.defined(relatedInformation)) {\r\n            result.relatedInformation = relatedInformation;\r\n        }\r\n        return result;\r\n    }\r\n    Diagnostic.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && Range.is(candidate.range)\r\n            && Is.string(candidate.message)\r\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n    }\r\n    Diagnostic.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\n/**\r\n * The Command namespace provides helper functions to work with\r\n * [Command](#Command) literals.\r\n */\r\nexport var Command;\r\n(function (Command) {\r\n    /**\r\n     * Creates a new Command literal.\r\n     */\r\n    function create(title, command) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { title: title, command: command };\r\n        if (Is.defined(args) && args.length > 0) {\r\n            result.arguments = args;\r\n        }\r\n        return result;\r\n    }\r\n    Command.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n    }\r\n    Command.is = is;\r\n})(Command || (Command = {}));\r\n/**\r\n * The TextEdit namespace provides helper function to create replace,\r\n * insert and delete edits more easily.\r\n */\r\nexport var TextEdit;\r\n(function (TextEdit) {\r\n    /**\r\n     * Creates a replace text edit.\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     */\r\n    function replace(range, newText) {\r\n        return { range: range, newText: newText };\r\n    }\r\n    TextEdit.replace = replace;\r\n    /**\r\n     * Creates a insert text edit.\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     */\r\n    function insert(position, newText) {\r\n        return { range: { start: position, end: position }, newText: newText };\r\n    }\r\n    TextEdit.insert = insert;\r\n    /**\r\n     * Creates a delete text edit.\r\n     * @param range The range of text to be deleted.\r\n     */\r\n    function del(range) {\r\n        return { range: range, newText: '' };\r\n    }\r\n    TextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate)\r\n            && Is.string(candidate.newText)\r\n            && Range.is(candidate.range);\r\n    }\r\n    TextEdit.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\n/**\r\n * The TextDocumentEdit namespace provides helper function to create\r\n * an edit that manipulates a text document.\r\n */\r\nexport var TextDocumentEdit;\r\n(function (TextDocumentEdit) {\r\n    /**\r\n     * Creates a new `TextDocumentEdit`\r\n     */\r\n    function create(textDocument, edits) {\r\n        return { textDocument: textDocument, edits: edits };\r\n    }\r\n    TextDocumentEdit.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n            && Array.isArray(candidate.edits);\r\n    }\r\n    TextDocumentEdit.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nexport var CreateFile;\r\n(function (CreateFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'create',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    CreateFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    CreateFile.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nexport var RenameFile;\r\n(function (RenameFile) {\r\n    function create(oldUri, newUri, options) {\r\n        var result = {\r\n            kind: 'rename',\r\n            oldUri: oldUri,\r\n            newUri: newUri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    RenameFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    RenameFile.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nexport var DeleteFile;\r\n(function (DeleteFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'delete',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    DeleteFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\r\n    }\r\n    DeleteFile.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nexport var WorkspaceEdit;\r\n(function (WorkspaceEdit) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\r\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\r\n                if (Is.string(change.kind)) {\r\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                }\r\n                else {\r\n                    return TextDocumentEdit.is(change);\r\n                }\r\n            }));\r\n    }\r\n    WorkspaceEdit.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextEditChangeImpl = /** @class */ (function () {\r\n    function TextEditChangeImpl(edits) {\r\n        this.edits = edits;\r\n    }\r\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\r\n        this.edits.push(TextEdit.insert(position, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\r\n        this.edits.push(TextEdit.replace(range, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.delete = function (range) {\r\n        this.edits.push(TextEdit.del(range));\r\n    };\r\n    TextEditChangeImpl.prototype.add = function (edit) {\r\n        this.edits.push(edit);\r\n    };\r\n    TextEditChangeImpl.prototype.all = function () {\r\n        return this.edits;\r\n    };\r\n    TextEditChangeImpl.prototype.clear = function () {\r\n        this.edits.splice(0, this.edits.length);\r\n    };\r\n    return TextEditChangeImpl;\r\n}());\r\n/**\r\n * A workspace change helps constructing changes to a workspace.\r\n */\r\nvar WorkspaceChange = /** @class */ (function () {\r\n    function WorkspaceChange(workspaceEdit) {\r\n        var _this = this;\r\n        this._textEditChanges = Object.create(null);\r\n        if (workspaceEdit) {\r\n            this._workspaceEdit = workspaceEdit;\r\n            if (workspaceEdit.documentChanges) {\r\n                workspaceEdit.documentChanges.forEach(function (change) {\r\n                    if (TextDocumentEdit.is(change)) {\r\n                        var textEditChange = new TextEditChangeImpl(change.edits);\r\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                    }\r\n                });\r\n            }\r\n            else if (workspaceEdit.changes) {\r\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                    _this._textEditChanges[key] = textEditChange;\r\n                });\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n        /**\r\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n         * use to be returned from a workspace edit operation like rename.\r\n         */\r\n        get: function () {\r\n            return this._workspaceEdit;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n        if (VersionedTextDocumentIdentifier.is(key)) {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    documentChanges: []\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.documentChanges) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n            var textDocument = key;\r\n            var result = this._textEditChanges[textDocument.uri];\r\n            if (!result) {\r\n                var edits = [];\r\n                var textDocumentEdit = {\r\n                    textDocument: textDocument,\r\n                    edits: edits\r\n                };\r\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[textDocument.uri] = result;\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    changes: Object.create(null)\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.changes) {\r\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n            }\r\n            var result = this._textEditChanges[key];\r\n            if (!result) {\r\n                var edits = [];\r\n                this._workspaceEdit.changes[key] = edits;\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[key] = result;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.createFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\r\n    };\r\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\r\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n    };\r\n    return WorkspaceChange;\r\n}());\r\nexport { WorkspaceChange };\r\n/**\r\n * The TextDocumentIdentifier namespace provides helper functions to work with\r\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n */\r\nexport var TextDocumentIdentifier;\r\n(function (TextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new TextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     */\r\n    function create(uri) {\r\n        return { uri: uri };\r\n    }\r\n    TextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri);\r\n    }\r\n    TextDocumentIdentifier.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\n/**\r\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n */\r\nexport var VersionedTextDocumentIdentifier;\r\n(function (VersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new VersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    VersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\r\n    }\r\n    VersionedTextDocumentIdentifier.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The TextDocumentItem namespace provides helper functions to work with\r\n * [TextDocumentItem](#TextDocumentItem) literals.\r\n */\r\nexport var TextDocumentItem;\r\n(function (TextDocumentItem) {\r\n    /**\r\n     * Creates a new TextDocumentItem literal.\r\n     * @param uri The document's uri.\r\n     * @param languageId The document's language identifier.\r\n     * @param version The document's version number.\r\n     * @param text The document's text.\r\n     */\r\n    function create(uri, languageId, version, text) {\r\n        return { uri: uri, languageId: languageId, version: version, text: text };\r\n    }\r\n    TextDocumentItem.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\r\n    }\r\n    TextDocumentItem.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\n/**\r\n * Describes the content type that a client supports in various\r\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n *\r\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n * are reserved for internal usage.\r\n */\r\nexport var MarkupKind;\r\n(function (MarkupKind) {\r\n    /**\r\n     * Plain text is supported as a content format\r\n     */\r\n    MarkupKind.PlainText = 'plaintext';\r\n    /**\r\n     * Markdown is supported as a content format\r\n     */\r\n    MarkupKind.Markdown = 'markdown';\r\n})(MarkupKind || (MarkupKind = {}));\r\n(function (MarkupKind) {\r\n    /**\r\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n    }\r\n    MarkupKind.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nexport var MarkupContent;\r\n(function (MarkupContent) {\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n    }\r\n    MarkupContent.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\n/**\r\n * The kind of a completion entry.\r\n */\r\nexport var CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind.Text = 1;\r\n    CompletionItemKind.Method = 2;\r\n    CompletionItemKind.Function = 3;\r\n    CompletionItemKind.Constructor = 4;\r\n    CompletionItemKind.Field = 5;\r\n    CompletionItemKind.Variable = 6;\r\n    CompletionItemKind.Class = 7;\r\n    CompletionItemKind.Interface = 8;\r\n    CompletionItemKind.Module = 9;\r\n    CompletionItemKind.Property = 10;\r\n    CompletionItemKind.Unit = 11;\r\n    CompletionItemKind.Value = 12;\r\n    CompletionItemKind.Enum = 13;\r\n    CompletionItemKind.Keyword = 14;\r\n    CompletionItemKind.Snippet = 15;\r\n    CompletionItemKind.Color = 16;\r\n    CompletionItemKind.File = 17;\r\n    CompletionItemKind.Reference = 18;\r\n    CompletionItemKind.Folder = 19;\r\n    CompletionItemKind.EnumMember = 20;\r\n    CompletionItemKind.Constant = 21;\r\n    CompletionItemKind.Struct = 22;\r\n    CompletionItemKind.Event = 23;\r\n    CompletionItemKind.Operator = 24;\r\n    CompletionItemKind.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\n/**\r\n * Defines whether the insert text in a completion item should be interpreted as\r\n * plain text or a snippet.\r\n */\r\nexport var InsertTextFormat;\r\n(function (InsertTextFormat) {\r\n    /**\r\n     * The primary text to be inserted is treated as a plain string.\r\n     */\r\n    InsertTextFormat.PlainText = 1;\r\n    /**\r\n     * The primary text to be inserted is treated as a snippet.\r\n     *\r\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n     * the end of the snippet. Placeholders with equal identifiers are linked,\r\n     * that is typing in one will update others too.\r\n     *\r\n     * See also: https://github.com/Microsoft/vscode/blob/master/src/vs/editor/contrib/snippet/common/snippet.md\r\n     */\r\n    InsertTextFormat.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\n/**\r\n * Completion item tags are extra annotations that tweak the rendering of a completion\r\n * item.\r\n *\r\n * @since 3.15.0\r\n */\r\nexport var CompletionItemTag;\r\n(function (CompletionItemTag) {\r\n    /**\r\n     * Render a completion as obsolete, usually using a strike-out.\r\n     */\r\n    CompletionItemTag.Deprecated = 1;\r\n})(CompletionItemTag || (CompletionItemTag = {}));\r\n/**\r\n * The CompletionItem namespace provides functions to deal with\r\n * completion items.\r\n */\r\nexport var CompletionItem;\r\n(function (CompletionItem) {\r\n    /**\r\n     * Create a completion item and seed it with a label.\r\n     * @param label The completion item's label\r\n     */\r\n    function create(label) {\r\n        return { label: label };\r\n    }\r\n    CompletionItem.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\n/**\r\n * The CompletionList namespace provides functions to deal with\r\n * completion lists.\r\n */\r\nexport var CompletionList;\r\n(function (CompletionList) {\r\n    /**\r\n     * Creates a new completion list.\r\n     *\r\n     * @param items The completion items.\r\n     * @param isIncomplete The list is not complete.\r\n     */\r\n    function create(items, isIncomplete) {\r\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n    }\r\n    CompletionList.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nexport var MarkedString;\r\n(function (MarkedString) {\r\n    /**\r\n     * Creates a marked string from plain text.\r\n     *\r\n     * @param plainText The plain text.\r\n     */\r\n    function fromPlainText(plainText) {\r\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n    }\r\n    MarkedString.fromPlainText = fromPlainText;\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n    }\r\n    MarkedString.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nexport var Hover;\r\n(function (Hover) {\r\n    /**\r\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n            MarkedString.is(candidate.contents) ||\r\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\r\n    }\r\n    Hover.is = is;\r\n})(Hover || (Hover = {}));\r\n/**\r\n * The ParameterInformation namespace provides helper functions to work with\r\n * [ParameterInformation](#ParameterInformation) literals.\r\n */\r\nexport var ParameterInformation;\r\n(function (ParameterInformation) {\r\n    /**\r\n     * Creates a new parameter information literal.\r\n     *\r\n     * @param label A label string.\r\n     * @param documentation A doc string.\r\n     */\r\n    function create(label, documentation) {\r\n        return documentation ? { label: label, documentation: documentation } : { label: label };\r\n    }\r\n    ParameterInformation.create = create;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\n/**\r\n * The SignatureInformation namespace provides helper functions to work with\r\n * [SignatureInformation](#SignatureInformation) literals.\r\n */\r\nexport var SignatureInformation;\r\n(function (SignatureInformation) {\r\n    function create(label, documentation) {\r\n        var parameters = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            parameters[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { label: label };\r\n        if (Is.defined(documentation)) {\r\n            result.documentation = documentation;\r\n        }\r\n        if (Is.defined(parameters)) {\r\n            result.parameters = parameters;\r\n        }\r\n        else {\r\n            result.parameters = [];\r\n        }\r\n        return result;\r\n    }\r\n    SignatureInformation.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nexport var DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind.Text = 1;\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind.Read = 2;\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * DocumentHighlight namespace to provide helper functions to work with\r\n * [DocumentHighlight](#DocumentHighlight) literals.\r\n */\r\nexport var DocumentHighlight;\r\n(function (DocumentHighlight) {\r\n    /**\r\n     * Create a DocumentHighlight object.\r\n     * @param range The range the highlight applies to.\r\n     */\r\n    function create(range, kind) {\r\n        var result = { range: range };\r\n        if (Is.number(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentHighlight.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nexport var SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind.File = 1;\r\n    SymbolKind.Module = 2;\r\n    SymbolKind.Namespace = 3;\r\n    SymbolKind.Package = 4;\r\n    SymbolKind.Class = 5;\r\n    SymbolKind.Method = 6;\r\n    SymbolKind.Property = 7;\r\n    SymbolKind.Field = 8;\r\n    SymbolKind.Constructor = 9;\r\n    SymbolKind.Enum = 10;\r\n    SymbolKind.Interface = 11;\r\n    SymbolKind.Function = 12;\r\n    SymbolKind.Variable = 13;\r\n    SymbolKind.Constant = 14;\r\n    SymbolKind.String = 15;\r\n    SymbolKind.Number = 16;\r\n    SymbolKind.Boolean = 17;\r\n    SymbolKind.Array = 18;\r\n    SymbolKind.Object = 19;\r\n    SymbolKind.Key = 20;\r\n    SymbolKind.Null = 21;\r\n    SymbolKind.EnumMember = 22;\r\n    SymbolKind.Struct = 23;\r\n    SymbolKind.Event = 24;\r\n    SymbolKind.Operator = 25;\r\n    SymbolKind.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\n/**\r\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\r\n * @since 3.15\r\n */\r\nexport var SymbolTag;\r\n(function (SymbolTag) {\r\n    /**\r\n     * Render a symbol as obsolete, usually using a strike-out.\r\n     */\r\n    SymbolTag.Deprecated = 1;\r\n})(SymbolTag || (SymbolTag = {}));\r\nexport var SymbolInformation;\r\n(function (SymbolInformation) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the location of the symbol.\r\n     * @param uri The resource of the location of symbol, defaults to the current document.\r\n     * @param containerName The name of the symbol containing the symbol.\r\n     */\r\n    function create(name, kind, range, uri, containerName) {\r\n        var result = {\r\n            name: name,\r\n            kind: kind,\r\n            location: { uri: uri, range: range }\r\n        };\r\n        if (containerName) {\r\n            result.containerName = containerName;\r\n        }\r\n        return result;\r\n    }\r\n    SymbolInformation.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\nexport var DocumentSymbol;\r\n(function (DocumentSymbol) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param detail The detail of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the symbol.\r\n     * @param selectionRange The selectionRange of the symbol.\r\n     * @param children Children of the symbol.\r\n     */\r\n    function create(name, detail, kind, range, selectionRange, children) {\r\n        var result = {\r\n            name: name,\r\n            detail: detail,\r\n            kind: kind,\r\n            range: range,\r\n            selectionRange: selectionRange\r\n        };\r\n        if (children !== void 0) {\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentSymbol.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\r\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\r\n            (candidate.children === void 0 || Array.isArray(candidate.children));\r\n    }\r\n    DocumentSymbol.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\n/**\r\n * A set of predefined code action kinds\r\n */\r\nexport var CodeActionKind;\r\n(function (CodeActionKind) {\r\n    /**\r\n     * Empty kind.\r\n     */\r\n    CodeActionKind.Empty = '';\r\n    /**\r\n     * Base kind for quickfix actions: 'quickfix'\r\n     */\r\n    CodeActionKind.QuickFix = 'quickfix';\r\n    /**\r\n     * Base kind for refactoring actions: 'refactor'\r\n     */\r\n    CodeActionKind.Refactor = 'refactor';\r\n    /**\r\n     * Base kind for refactoring extraction actions: 'refactor.extract'\r\n     *\r\n     * Example extract actions:\r\n     *\r\n     * - Extract method\r\n     * - Extract function\r\n     * - Extract variable\r\n     * - Extract interface from class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorExtract = 'refactor.extract';\r\n    /**\r\n     * Base kind for refactoring inline actions: 'refactor.inline'\r\n     *\r\n     * Example inline actions:\r\n     *\r\n     * - Inline function\r\n     * - Inline variable\r\n     * - Inline constant\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorInline = 'refactor.inline';\r\n    /**\r\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n     *\r\n     * Example rewrite actions:\r\n     *\r\n     * - Convert JavaScript function to class\r\n     * - Add or remove parameter\r\n     * - Encapsulate field\r\n     * - Make method static\r\n     * - Move method to base class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n    /**\r\n     * Base kind for source actions: `source`\r\n     *\r\n     * Source code actions apply to the entire file.\r\n     */\r\n    CodeActionKind.Source = 'source';\r\n    /**\r\n     * Base kind for an organize imports source action: `source.organizeImports`\r\n     */\r\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n    /**\r\n     * Base kind for auto-fix source actions: `source.fixAll`.\r\n     *\r\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\r\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\r\n     *\r\n     * @since 3.15.0\r\n     */\r\n    CodeActionKind.SourceFixAll = 'source.fixAll';\r\n})(CodeActionKind || (CodeActionKind = {}));\r\n/**\r\n * The CodeActionContext namespace provides helper functions to work with\r\n * [CodeActionContext](#CodeActionContext) literals.\r\n */\r\nexport var CodeActionContext;\r\n(function (CodeActionContext) {\r\n    /**\r\n     * Creates a new CodeActionContext literal.\r\n     */\r\n    function create(diagnostics, only) {\r\n        var result = { diagnostics: diagnostics };\r\n        if (only !== void 0 && only !== null) {\r\n            result.only = only;\r\n        }\r\n        return result;\r\n    }\r\n    CodeActionContext.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\r\n    }\r\n    CodeActionContext.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nexport var CodeAction;\r\n(function (CodeAction) {\r\n    function create(title, commandOrEdit, kind) {\r\n        var result = { title: title };\r\n        if (Command.is(commandOrEdit)) {\r\n            result.command = commandOrEdit;\r\n        }\r\n        else {\r\n            result.edit = commandOrEdit;\r\n        }\r\n        if (kind !== void 0) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    CodeAction.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.title) &&\r\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\r\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\r\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\r\n            (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) &&\r\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\r\n    }\r\n    CodeAction.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\n/**\r\n * The CodeLens namespace provides helper functions to work with\r\n * [CodeLens](#CodeLens) literals.\r\n */\r\nexport var CodeLens;\r\n(function (CodeLens) {\r\n    /**\r\n     * Creates a new CodeLens literal.\r\n     */\r\n    function create(range, data) {\r\n        var result = { range: range };\r\n        if (Is.defined(data)) {\r\n            result.data = data;\r\n        }\r\n        return result;\r\n    }\r\n    CodeLens.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n    }\r\n    CodeLens.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\n/**\r\n * The FormattingOptions namespace provides helper functions to work with\r\n * [FormattingOptions](#FormattingOptions) literals.\r\n */\r\nexport var FormattingOptions;\r\n(function (FormattingOptions) {\r\n    /**\r\n     * Creates a new FormattingOptions literal.\r\n     */\r\n    function create(tabSize, insertSpaces) {\r\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n    }\r\n    FormattingOptions.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n    }\r\n    FormattingOptions.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\n/**\r\n * The DocumentLink namespace provides helper functions to work with\r\n * [DocumentLink](#DocumentLink) literals.\r\n */\r\nexport var DocumentLink;\r\n(function (DocumentLink) {\r\n    /**\r\n     * Creates a new DocumentLink literal.\r\n     */\r\n    function create(range, target, data) {\r\n        return { range: range, target: target, data: data };\r\n    }\r\n    DocumentLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n    }\r\n    DocumentLink.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\n/**\r\n * The SelectionRange namespace provides helper function to work with\r\n * SelectionRange literals.\r\n */\r\nexport var SelectionRange;\r\n(function (SelectionRange) {\r\n    /**\r\n     * Creates a new SelectionRange\r\n     * @param range the range.\r\n     * @param parent an optional parent.\r\n     */\r\n    function create(range, parent) {\r\n        return { range: range, parent: parent };\r\n    }\r\n    SelectionRange.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\r\n    }\r\n    SelectionRange.is = is;\r\n})(SelectionRange || (SelectionRange = {}));\r\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\r\n/**\r\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\r\n */\r\nexport var TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new ITextDocument literal from the given uri and content.\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\r\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n    }\r\n    TextDocument.is = is;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits, function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n    function mergeSort(data, compare) {\r\n        if (data.length <= 1) {\r\n            // sorted\r\n            return data;\r\n        }\r\n        var p = (data.length / 2) | 0;\r\n        var left = data.slice(0, p);\r\n        var right = data.slice(p);\r\n        mergeSort(left, compare);\r\n        mergeSort(right, compare);\r\n        var leftIdx = 0;\r\n        var rightIdx = 0;\r\n        var i = 0;\r\n        while (leftIdx < left.length && rightIdx < right.length) {\r\n            var ret = compare(left[leftIdx], right[rightIdx]);\r\n            if (ret <= 0) {\r\n                // smaller_equal -> take left to preserve order\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            else {\r\n                // greater -> take right\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n        }\r\n        while (leftIdx < left.length) {\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        while (rightIdx < right.length) {\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n        return data;\r\n    }\r\n})(TextDocument || (TextDocument = {}));\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = undefined;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (event, version) {\r\n        this._content = event.text;\r\n        this._version = version;\r\n        this._lineOffsets = undefined;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === undefined) {\r\n            var lineOffsets = [];\r\n            var text = this._content;\r\n            var isLineStart = true;\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (isLineStart) {\r\n                    lineOffsets.push(i);\r\n                    isLineStart = false;\r\n                }\r\n                var ch = text.charAt(i);\r\n                isLineStart = (ch === '\\r' || ch === '\\n');\r\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                    i++;\r\n                }\r\n            }\r\n            if (isLineStart && text.length > 0) {\r\n                lineOffsets.push(text.length);\r\n            }\r\n            this._lineOffsets = lineOffsets;\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return Position.create(0, offset);\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return Position.create(line, offset - lineOffsets[line]);\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FullTextDocument;\r\n}());\r\nvar Is;\r\n(function (Is) {\r\n    var toString = Object.prototype.toString;\r\n    function defined(value) {\r\n        return typeof value !== 'undefined';\r\n    }\r\n    Is.defined = defined;\r\n    function undefined(value) {\r\n        return typeof value === 'undefined';\r\n    }\r\n    Is.undefined = undefined;\r\n    function boolean(value) {\r\n        return value === true || value === false;\r\n    }\r\n    Is.boolean = boolean;\r\n    function string(value) {\r\n        return toString.call(value) === '[object String]';\r\n    }\r\n    Is.string = string;\r\n    function number(value) {\r\n        return toString.call(value) === '[object Number]';\r\n    }\r\n    Is.number = number;\r\n    function func(value) {\r\n        return toString.call(value) === '[object Function]';\r\n    }\r\n    Is.func = func;\r\n    function objectLiteral(value) {\r\n        // Strictly speaking class instances pass this check as well. Since the LSP\r\n        // doesn't use classes we ignore this for now. If we do we need to add something\r\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n        return value !== null && typeof value === 'object';\r\n    }\r\n    Is.objectLiteral = objectLiteral;\r\n    function typedArray(value, check) {\r\n        return Array.isArray(value) && value.every(check);\r\n    }\r\n    Is.typedArray = typedArray;\r\n})(Is || (Is = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./utils/is\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\r\nexports.ImplementationRequest = protocol_implementation_1.ImplementationRequest;\r\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\r\nexports.TypeDefinitionRequest = protocol_typeDefinition_1.TypeDefinitionRequest;\r\nconst protocol_workspaceFolders_1 = require(\"./protocol.workspaceFolders\");\r\nexports.WorkspaceFoldersRequest = protocol_workspaceFolders_1.WorkspaceFoldersRequest;\r\nexports.DidChangeWorkspaceFoldersNotification = protocol_workspaceFolders_1.DidChangeWorkspaceFoldersNotification;\r\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\r\nexports.ConfigurationRequest = protocol_configuration_1.ConfigurationRequest;\r\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\r\nexports.DocumentColorRequest = protocol_colorProvider_1.DocumentColorRequest;\r\nexports.ColorPresentationRequest = protocol_colorProvider_1.ColorPresentationRequest;\r\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\r\nexports.FoldingRangeRequest = protocol_foldingRange_1.FoldingRangeRequest;\r\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\r\nexports.DeclarationRequest = protocol_declaration_1.DeclarationRequest;\r\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\r\nexports.SelectionRangeRequest = protocol_selectionRange_1.SelectionRangeRequest;\r\nconst protocol_progress_1 = require(\"./protocol.progress\");\r\nexports.WorkDoneProgress = protocol_progress_1.WorkDoneProgress;\r\nexports.WorkDoneProgressCreateRequest = protocol_progress_1.WorkDoneProgressCreateRequest;\r\nexports.WorkDoneProgressCancelNotification = protocol_progress_1.WorkDoneProgressCancelNotification;\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * The DocumentFilter namespace provides helper functions to work with\r\n * [DocumentFilter](#DocumentFilter) literals.\r\n */\r\nvar DocumentFilter;\r\n(function (DocumentFilter) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\r\n    }\r\n    DocumentFilter.is = is;\r\n})(DocumentFilter = exports.DocumentFilter || (exports.DocumentFilter = {}));\r\n/**\r\n * The DocumentSelector namespace provides helper functions to work with\r\n * [DocumentSelector](#DocumentSelector)s.\r\n */\r\nvar DocumentSelector;\r\n(function (DocumentSelector) {\r\n    function is(value) {\r\n        if (!Array.isArray(value)) {\r\n            return false;\r\n        }\r\n        for (let elem of value) {\r\n            if (!Is.string(elem) && !DocumentFilter.is(elem)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    DocumentSelector.is = is;\r\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\r\n/**\r\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\r\n * handler on the client side.\r\n */\r\nvar RegistrationRequest;\r\n(function (RegistrationRequest) {\r\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\r\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\r\n/**\r\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\r\n * handler on the client side.\r\n */\r\nvar UnregistrationRequest;\r\n(function (UnregistrationRequest) {\r\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\r\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\r\nvar ResourceOperationKind;\r\n(function (ResourceOperationKind) {\r\n    /**\r\n     * Supports creating new files and folders.\r\n     */\r\n    ResourceOperationKind.Create = 'create';\r\n    /**\r\n     * Supports renaming existing files and folders.\r\n     */\r\n    ResourceOperationKind.Rename = 'rename';\r\n    /**\r\n     * Supports deleting existing files and folders.\r\n     */\r\n    ResourceOperationKind.Delete = 'delete';\r\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\r\nvar FailureHandlingKind;\r\n(function (FailureHandlingKind) {\r\n    /**\r\n     * Applying the workspace change is simply aborted if one of the changes provided\r\n     * fails. All operations executed before the failing operation stay executed.\r\n     */\r\n    FailureHandlingKind.Abort = 'abort';\r\n    /**\r\n     * All operations are executed transactional. That means they either all\r\n     * succeed or no changes at all are applied to the workspace.\r\n     */\r\n    FailureHandlingKind.Transactional = 'transactional';\r\n    /**\r\n     * If the workspace edit contains only textual file changes they are executed transactional.\r\n     * If resource changes (create, rename or delete file) are part of the change the failure\r\n     * handling startegy is abort.\r\n     */\r\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\r\n    /**\r\n     * The client tries to undo the operations already executed. But there is no\r\n     * guarantee that this is succeeding.\r\n     */\r\n    FailureHandlingKind.Undo = 'undo';\r\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\r\n/**\r\n * The StaticRegistrationOptions namespace provides helper functions to work with\r\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\r\n */\r\nvar StaticRegistrationOptions;\r\n(function (StaticRegistrationOptions) {\r\n    function hasId(value) {\r\n        const candidate = value;\r\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\r\n    }\r\n    StaticRegistrationOptions.hasId = hasId;\r\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\r\n/**\r\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\r\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\r\n */\r\nvar TextDocumentRegistrationOptions;\r\n(function (TextDocumentRegistrationOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\r\n    }\r\n    TextDocumentRegistrationOptions.is = is;\r\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\r\n/**\r\n * The WorkDoneProgressOptions namespace provides helper functions to work with\r\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\r\n */\r\nvar WorkDoneProgressOptions;\r\n(function (WorkDoneProgressOptions) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\r\n    }\r\n    WorkDoneProgressOptions.is = is;\r\n    function hasWorkDoneProgress(value) {\r\n        const candidate = value;\r\n        return candidate && Is.boolean(candidate.workDoneProgress);\r\n    }\r\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\r\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\r\n/**\r\n * The initialize request is sent from the client to the server.\r\n * It is sent once as the request after starting up the server.\r\n * The requests parameter is of type [InitializeParams](#InitializeParams)\r\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\r\n * resolves to such.\r\n */\r\nvar InitializeRequest;\r\n(function (InitializeRequest) {\r\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\r\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\r\n/**\r\n * Known error codes for an `InitializeError`;\r\n */\r\nvar InitializeError;\r\n(function (InitializeError) {\r\n    /**\r\n     * If the protocol version provided by the client can't be handled by the server.\r\n     * @deprecated This initialize error got replaced by client capabilities. There is\r\n     * no version handshake in version 3.0x\r\n     */\r\n    InitializeError.unknownProtocolVersion = 1;\r\n})(InitializeError = exports.InitializeError || (exports.InitializeError = {}));\r\n/**\r\n * The intialized notification is sent from the client to the\r\n * server after the client is fully initialized and the server\r\n * is allowed to send requests from the server to the client.\r\n */\r\nvar InitializedNotification;\r\n(function (InitializedNotification) {\r\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\r\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\r\n//---- Shutdown Method ----\r\n/**\r\n * A shutdown request is sent from the client to the server.\r\n * It is sent once when the client decides to shutdown the\r\n * server. The only notification that is sent after a shutdown request\r\n * is the exit event.\r\n */\r\nvar ShutdownRequest;\r\n(function (ShutdownRequest) {\r\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\r\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\r\n//---- Exit Notification ----\r\n/**\r\n * The exit event is sent from the client to the server to\r\n * ask the server to exit its process.\r\n */\r\nvar ExitNotification;\r\n(function (ExitNotification) {\r\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\r\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\r\n/**\r\n * The configuration change notification is sent from the client to the server\r\n * when the client's configuration has changed. The notification contains\r\n * the changed configuration as defined by the language client.\r\n */\r\nvar DidChangeConfigurationNotification;\r\n(function (DidChangeConfigurationNotification) {\r\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\r\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\r\n//---- Message show and log notifications ----\r\n/**\r\n * The message type\r\n */\r\nvar MessageType;\r\n(function (MessageType) {\r\n    /**\r\n     * An error message.\r\n     */\r\n    MessageType.Error = 1;\r\n    /**\r\n     * A warning message.\r\n     */\r\n    MessageType.Warning = 2;\r\n    /**\r\n     * An information message.\r\n     */\r\n    MessageType.Info = 3;\r\n    /**\r\n     * A log message.\r\n     */\r\n    MessageType.Log = 4;\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n/**\r\n * The show message notification is sent from a server to a client to ask\r\n * the client to display a particular message in the user interface.\r\n */\r\nvar ShowMessageNotification;\r\n(function (ShowMessageNotification) {\r\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\r\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\r\n/**\r\n * The show message request is sent from the server to the client to show a message\r\n * and a set of options actions to the user.\r\n */\r\nvar ShowMessageRequest;\r\n(function (ShowMessageRequest) {\r\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\r\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\r\n/**\r\n * The log message notification is sent from the server to the client to ask\r\n * the client to log a particular message.\r\n */\r\nvar LogMessageNotification;\r\n(function (LogMessageNotification) {\r\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\r\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\r\n//---- Telemetry notification\r\n/**\r\n * The telemetry event notification is sent from the server to the client to ask\r\n * the client to log telemetry data.\r\n */\r\nvar TelemetryEventNotification;\r\n(function (TelemetryEventNotification) {\r\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\r\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\r\n/**\r\n * Defines how the host (editor) should sync\r\n * document changes to the language server.\r\n */\r\nvar TextDocumentSyncKind;\r\n(function (TextDocumentSyncKind) {\r\n    /**\r\n     * Documents should not be synced at all.\r\n     */\r\n    TextDocumentSyncKind.None = 0;\r\n    /**\r\n     * Documents are synced by always sending the full content\r\n     * of the document.\r\n     */\r\n    TextDocumentSyncKind.Full = 1;\r\n    /**\r\n     * Documents are synced by sending the full content on open.\r\n     * After that only incremental updates to the document are\r\n     * send.\r\n     */\r\n    TextDocumentSyncKind.Incremental = 2;\r\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\r\n/**\r\n * The document open notification is sent from the client to the server to signal\r\n * newly opened text documents. The document's truth is now managed by the client\r\n * and the server must not try to read the document's truth using the document's\r\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\r\n * mean that its content is presented in an editor. An open notification must not\r\n * be sent more than once without a corresponding close notification send before.\r\n * This means open and close notification must be balanced and the max open count\r\n * is one.\r\n */\r\nvar DidOpenTextDocumentNotification;\r\n(function (DidOpenTextDocumentNotification) {\r\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\r\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\r\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\r\n/**\r\n * The document change notification is sent from the client to the server to signal\r\n * changes to a text document.\r\n */\r\nvar DidChangeTextDocumentNotification;\r\n(function (DidChangeTextDocumentNotification) {\r\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\r\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\r\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\r\n/**\r\n * The document close notification is sent from the client to the server when\r\n * the document got closed in the client. The document's truth now exists where\r\n * the document's uri points to (e.g. if the document's uri is a file uri the\r\n * truth now exists on disk). As with the open notification the close notification\r\n * is about managing the document's content. Receiving a close notification\r\n * doesn't mean that the document was open in an editor before. A close\r\n * notification requires a previous open notification to be sent.\r\n */\r\nvar DidCloseTextDocumentNotification;\r\n(function (DidCloseTextDocumentNotification) {\r\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\r\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\r\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\r\n/**\r\n * The document save notification is sent from the client to the server when\r\n * the document got saved in the client.\r\n */\r\nvar DidSaveTextDocumentNotification;\r\n(function (DidSaveTextDocumentNotification) {\r\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\r\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\r\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\r\n/**\r\n * Represents reasons why a text document is saved.\r\n */\r\nvar TextDocumentSaveReason;\r\n(function (TextDocumentSaveReason) {\r\n    /**\r\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\r\n     * or by an API call.\r\n     */\r\n    TextDocumentSaveReason.Manual = 1;\r\n    /**\r\n     * Automatic after a delay.\r\n     */\r\n    TextDocumentSaveReason.AfterDelay = 2;\r\n    /**\r\n     * When the editor lost focus.\r\n     */\r\n    TextDocumentSaveReason.FocusOut = 3;\r\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\r\n/**\r\n * A document will save notification is sent from the client to the server before\r\n * the document is actually saved.\r\n */\r\nvar WillSaveTextDocumentNotification;\r\n(function (WillSaveTextDocumentNotification) {\r\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\r\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\r\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\r\n/**\r\n * A document will save request is sent from the client to the server before\r\n * the document is actually saved. The request can return an array of TextEdits\r\n * which will be applied to the text document before it is saved. Please note that\r\n * clients might drop results if computing the text edits took too long or if a\r\n * server constantly fails on this request. This is done to keep the save fast and\r\n * reliable.\r\n */\r\nvar WillSaveTextDocumentWaitUntilRequest;\r\n(function (WillSaveTextDocumentWaitUntilRequest) {\r\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\r\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\r\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\r\n/**\r\n * The watched files notification is sent from the client to the server when\r\n * the client detects changes to file watched by the language client.\r\n */\r\nvar DidChangeWatchedFilesNotification;\r\n(function (DidChangeWatchedFilesNotification) {\r\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\r\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\r\n/**\r\n * The file event type\r\n */\r\nvar FileChangeType;\r\n(function (FileChangeType) {\r\n    /**\r\n     * The file got created.\r\n     */\r\n    FileChangeType.Created = 1;\r\n    /**\r\n     * The file got changed.\r\n     */\r\n    FileChangeType.Changed = 2;\r\n    /**\r\n     * The file got deleted.\r\n     */\r\n    FileChangeType.Deleted = 3;\r\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\r\nvar WatchKind;\r\n(function (WatchKind) {\r\n    /**\r\n     * Interested in create events.\r\n     */\r\n    WatchKind.Create = 1;\r\n    /**\r\n     * Interested in change events\r\n     */\r\n    WatchKind.Change = 2;\r\n    /**\r\n     * Interested in delete events\r\n     */\r\n    WatchKind.Delete = 4;\r\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\r\n/**\r\n * Diagnostics notification are sent from the server to the client to signal\r\n * results of validation runs.\r\n */\r\nvar PublishDiagnosticsNotification;\r\n(function (PublishDiagnosticsNotification) {\r\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\r\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\r\n/**\r\n * How a completion was triggered\r\n */\r\nvar CompletionTriggerKind;\r\n(function (CompletionTriggerKind) {\r\n    /**\r\n     * Completion was triggered by typing an identifier (24x7 code\r\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\r\n     */\r\n    CompletionTriggerKind.Invoked = 1;\r\n    /**\r\n     * Completion was triggered by a trigger character specified by\r\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\r\n     */\r\n    CompletionTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Completion was re-triggered as current completion list is incomplete\r\n     */\r\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\r\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\r\n/**\r\n * Request to request completion at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\r\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\r\n * or a Thenable that resolves to such.\r\n *\r\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\r\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\r\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\r\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\r\n */\r\nvar CompletionRequest;\r\n(function (CompletionRequest) {\r\n    CompletionRequest.method = 'textDocument/completion';\r\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\r\n    /** @deprecated Use CompletionRequest.type */\r\n    CompletionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given completion item.The request's\r\n * parameter is of type [CompletionItem](#CompletionItem) the response\r\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\r\n */\r\nvar CompletionResolveRequest;\r\n(function (CompletionResolveRequest) {\r\n    CompletionResolveRequest.method = 'completionItem/resolve';\r\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\r\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\r\n/**\r\n * Request to request hover information at a given text document position. The request's\r\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\r\n * type [Hover](#Hover) or a Thenable that resolves to such.\r\n */\r\nvar HoverRequest;\r\n(function (HoverRequest) {\r\n    HoverRequest.method = 'textDocument/hover';\r\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\r\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\r\n/**\r\n * How a signature help was triggered.\r\n *\r\n * @since 3.15.0\r\n */\r\nvar SignatureHelpTriggerKind;\r\n(function (SignatureHelpTriggerKind) {\r\n    /**\r\n     * Signature help was invoked manually by the user or by a command.\r\n     */\r\n    SignatureHelpTriggerKind.Invoked = 1;\r\n    /**\r\n     * Signature help was triggered by a trigger character.\r\n     */\r\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\r\n    /**\r\n     * Signature help was triggered by the cursor moving or by the document content changing.\r\n     */\r\n    SignatureHelpTriggerKind.ContentChange = 3;\r\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\r\nvar SignatureHelpRequest;\r\n(function (SignatureHelpRequest) {\r\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\r\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\r\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\r\n/**\r\n * A request to resolve the definition location of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\r\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DefinitionRequest;\r\n(function (DefinitionRequest) {\r\n    DefinitionRequest.method = 'textDocument/definition';\r\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\r\n    /** @deprecated Use DefinitionRequest.type */\r\n    DefinitionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\r\n/**\r\n * A request to resolve project-wide references for the symbol denoted\r\n * by the given text document position. The request's parameter is of\r\n * type [ReferenceParams](#ReferenceParams) the response is of type\r\n * [Location[]](#Location) or a Thenable that resolves to such.\r\n */\r\nvar ReferencesRequest;\r\n(function (ReferencesRequest) {\r\n    ReferencesRequest.method = 'textDocument/references';\r\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\r\n    /** @deprecated Use ReferencesRequest.type */\r\n    ReferencesRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\r\n/**\r\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\r\n * text document position. The request's parameter is of type [TextDocumentPosition]\r\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\r\n * (#DocumentHighlight) or a Thenable that resolves to such.\r\n */\r\nvar DocumentHighlightRequest;\r\n(function (DocumentHighlightRequest) {\r\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\r\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\r\n    /** @deprecated Use DocumentHighlightRequest.type */\r\n    DocumentHighlightRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\r\n/**\r\n * A request to list all symbols found in a given text document. The request's\r\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\r\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentSymbolRequest;\r\n(function (DocumentSymbolRequest) {\r\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\r\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\r\n    /** @deprecated Use DocumentSymbolRequest.type */\r\n    DocumentSymbolRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\r\n/**\r\n * A request to provide commands for the given text document and range.\r\n */\r\nvar CodeActionRequest;\r\n(function (CodeActionRequest) {\r\n    CodeActionRequest.method = 'textDocument/codeAction';\r\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\r\n    /** @deprecated Use CodeActionRequest.type */\r\n    CodeActionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\r\n/**\r\n * A request to list project-wide symbols matching the query string given\r\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\r\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\r\n * resolves to such.\r\n */\r\nvar WorkspaceSymbolRequest;\r\n(function (WorkspaceSymbolRequest) {\r\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\r\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\r\n    /** @deprecated Use WorkspaceSymbolRequest.type */\r\n    WorkspaceSymbolRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\r\n/**\r\n * A request to provide code lens for the given text document.\r\n */\r\nvar CodeLensRequest;\r\n(function (CodeLensRequest) {\r\n    CodeLensRequest.type = new messages_1.ProtocolRequestType('textDocument/codeLens');\r\n    /** @deprecated Use CodeLensRequest.type */\r\n    CodeLensRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\r\n/**\r\n * A request to resolve a command for a given code lens.\r\n */\r\nvar CodeLensResolveRequest;\r\n(function (CodeLensResolveRequest) {\r\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType('codeLens/resolve');\r\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\r\n/**\r\n * A request to provide document links\r\n */\r\nvar DocumentLinkRequest;\r\n(function (DocumentLinkRequest) {\r\n    DocumentLinkRequest.method = 'textDocument/documentLink';\r\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\r\n    /** @deprecated Use DocumentLinkRequest.type */\r\n    DocumentLinkRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\r\n/**\r\n * Request to resolve additional information for a given document link. The request's\r\n * parameter is of type [DocumentLink](#DocumentLink) the response\r\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\r\n */\r\nvar DocumentLinkResolveRequest;\r\n(function (DocumentLinkResolveRequest) {\r\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType('documentLink/resolve');\r\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\r\n/**\r\n * A request to to format a whole document.\r\n */\r\nvar DocumentFormattingRequest;\r\n(function (DocumentFormattingRequest) {\r\n    DocumentFormattingRequest.method = 'textDocument/formatting';\r\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\r\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\r\n/**\r\n * A request to to format a range in a document.\r\n */\r\nvar DocumentRangeFormattingRequest;\r\n(function (DocumentRangeFormattingRequest) {\r\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\r\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\r\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\r\n/**\r\n * A request to format a document on type.\r\n */\r\nvar DocumentOnTypeFormattingRequest;\r\n(function (DocumentOnTypeFormattingRequest) {\r\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\r\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\r\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\r\n/**\r\n * A request to rename a symbol.\r\n */\r\nvar RenameRequest;\r\n(function (RenameRequest) {\r\n    RenameRequest.method = 'textDocument/rename';\r\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\r\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\r\n/**\r\n * A request to test and perform the setup necessary for a rename.\r\n */\r\nvar PrepareRenameRequest;\r\n(function (PrepareRenameRequest) {\r\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\r\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\r\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\r\n/**\r\n * A request send from the client to the server to execute a command. The request might return\r\n * a workspace edit which the client will apply to the workspace.\r\n */\r\nvar ExecuteCommandRequest;\r\n(function (ExecuteCommandRequest) {\r\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\r\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\r\n/**\r\n * A request sent from the server to the client to modified certain resources.\r\n */\r\nvar ApplyWorkspaceEditRequest;\r\n(function (ApplyWorkspaceEditRequest) {\r\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\r\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\nfunction typedArray(value, check) {\r\n    return Array.isArray(value) && value.every(check);\r\n}\r\nexports.typedArray = typedArray;\r\nfunction objectLiteral(value) {\r\n    // Strictly speaking class instances pass this check as well. Since the LSP\r\n    // doesn't use classes we ignore this for now. If we do we need to add something\r\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n    return value !== null && typeof value === 'object';\r\n}\r\nexports.objectLiteral = objectLiteral;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the implementation locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar ImplementationRequest;\r\n(function (ImplementationRequest) {\r\n    ImplementationRequest.method = 'textDocument/implementation';\r\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\r\n    /** @deprecated Use ImplementationRequest.type */\r\n    ImplementationRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\r\n * Thenable that resolves to such.\r\n */\r\nvar TypeDefinitionRequest;\r\n(function (TypeDefinitionRequest) {\r\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\r\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\r\n    /** @deprecated Use TypeDefinitionRequest.type */\r\n    TypeDefinitionRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\r\n */\r\nvar WorkspaceFoldersRequest;\r\n(function (WorkspaceFoldersRequest) {\r\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\r\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\r\n/**\r\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\r\n * folder configuration changes.\r\n */\r\nvar DidChangeWorkspaceFoldersNotification;\r\n(function (DidChangeWorkspaceFoldersNotification) {\r\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\r\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\r\n * configuration setting.\r\n *\r\n * This pull model replaces the old push model were the client signaled configuration change via an\r\n * event. If the server still needs to react to configuration changes (since the server caches the\r\n * result of `workspace/configuration` requests) the server should register for an empty configuration\r\n * change event and empty the cache if such an event is received.\r\n */\r\nvar ConfigurationRequest;\r\n(function (ConfigurationRequest) {\r\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\r\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to list all color symbols found in a given text document. The request's\r\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar DocumentColorRequest;\r\n(function (DocumentColorRequest) {\r\n    DocumentColorRequest.method = 'textDocument/documentColor';\r\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\r\n    /** @deprecated Use DocumentColorRequest.type */\r\n    DocumentColorRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\r\n/**\r\n * A request to list all presentation for a color. The request's\r\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\r\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar ColorPresentationRequest;\r\n(function (ColorPresentationRequest) {\r\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\r\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind = exports.FoldingRangeKind || (exports.FoldingRangeKind = {}));\r\n/**\r\n * A request to provide folding ranges in a document. The request's\r\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\r\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar FoldingRangeRequest;\r\n(function (FoldingRangeRequest) {\r\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\r\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\r\n    /** @deprecated Use FoldingRangeRequest.type */\r\n    FoldingRangeRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\r\nlet __noDynamicImport;\r\n/**\r\n * A request to resolve the type definition locations of a symbol at a given text\r\n * document position. The request's parameter is of type [TextDocumentPositioParams]\r\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\r\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\r\n * to such.\r\n */\r\nvar DeclarationRequest;\r\n(function (DeclarationRequest) {\r\n    DeclarationRequest.method = 'textDocument/declaration';\r\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\r\n    /** @deprecated Use DeclarationRequest.type */\r\n    DeclarationRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to provide selection ranges in a document. The request's\r\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\r\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\r\n * that resolves to such.\r\n */\r\nvar SelectionRangeRequest;\r\n(function (SelectionRangeRequest) {\r\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\r\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\r\n    /** @deprecated  Use SelectionRangeRequest.type */\r\n    SelectionRangeRequest.resultType = new vscode_jsonrpc_1.ProgressType();\r\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst messages_1 = require(\"./messages\");\r\nvar WorkDoneProgress;\r\n(function (WorkDoneProgress) {\r\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\r\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\r\n/**\r\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\r\n * reporting from the server.\r\n */\r\nvar WorkDoneProgressCreateRequest;\r\n(function (WorkDoneProgressCreateRequest) {\r\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType('window/workDoneProgress/create');\r\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\r\n/**\r\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\r\n * initiated on the server side.\r\n */\r\nvar WorkDoneProgressCancelNotification;\r\n(function (WorkDoneProgressCancelNotification) {\r\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType('window/workDoneProgress/cancel');\r\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) TypeFox and others. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A request to result a `CallHierarchyItem` in a document at a given position.\r\n * Can be used as an input to a incoming or outgoing call hierarchy.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar CallHierarchyPrepareRequest;\r\n(function (CallHierarchyPrepareRequest) {\r\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\r\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\r\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\r\n/**\r\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar CallHierarchyIncomingCallsRequest;\r\n(function (CallHierarchyIncomingCallsRequest) {\r\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\r\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\r\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\r\n/**\r\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar CallHierarchyOutgoingCallsRequest;\r\n(function (CallHierarchyOutgoingCallsRequest) {\r\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\r\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\r\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst messages_1 = require(\"./messages\");\r\n/**\r\n * A set of predefined token types. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokenTypes;\r\n(function (SemanticTokenTypes) {\r\n    SemanticTokenTypes[\"comment\"] = \"comment\";\r\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\r\n    SemanticTokenTypes[\"string\"] = \"string\";\r\n    SemanticTokenTypes[\"number\"] = \"number\";\r\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\r\n    SemanticTokenTypes[\"operator\"] = \"operator\";\r\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\r\n    SemanticTokenTypes[\"type\"] = \"type\";\r\n    SemanticTokenTypes[\"struct\"] = \"struct\";\r\n    SemanticTokenTypes[\"class\"] = \"class\";\r\n    SemanticTokenTypes[\"interface\"] = \"interface\";\r\n    SemanticTokenTypes[\"enum\"] = \"enum\";\r\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\r\n    SemanticTokenTypes[\"function\"] = \"function\";\r\n    SemanticTokenTypes[\"member\"] = \"member\";\r\n    SemanticTokenTypes[\"property\"] = \"property\";\r\n    SemanticTokenTypes[\"macro\"] = \"macro\";\r\n    SemanticTokenTypes[\"variable\"] = \"variable\";\r\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\r\n    SemanticTokenTypes[\"label\"] = \"label\";\r\n})(SemanticTokenTypes = exports.SemanticTokenTypes || (exports.SemanticTokenTypes = {}));\r\n/**\r\n * A set of predefined token modifiers. This set is not fixed\r\n * an clients can specify additional token types via the\r\n * corresponding client capabilities.\r\n *\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokenModifiers;\r\n(function (SemanticTokenModifiers) {\r\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\r\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\r\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\r\n    SemanticTokenModifiers[\"reference\"] = \"reference\";\r\n    SemanticTokenModifiers[\"static\"] = \"static\";\r\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\r\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\r\n    SemanticTokenModifiers[\"async\"] = \"async\";\r\n    SemanticTokenModifiers[\"volatile\"] = \"volatile\";\r\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\r\n})(SemanticTokenModifiers = exports.SemanticTokenModifiers || (exports.SemanticTokenModifiers = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokens;\r\n(function (SemanticTokens) {\r\n    function is(value) {\r\n        const candidate = value;\r\n        return candidate !== undefined && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\r\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\r\n    }\r\n    SemanticTokens.is = is;\r\n})(SemanticTokens = exports.SemanticTokens || (exports.SemanticTokens = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokensRequest;\r\n(function (SemanticTokensRequest) {\r\n    SemanticTokensRequest.method = 'textDocument/semanticTokens';\r\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\r\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokensEditsRequest;\r\n(function (SemanticTokensEditsRequest) {\r\n    SemanticTokensEditsRequest.method = 'textDocument/semanticTokens/edits';\r\n    SemanticTokensEditsRequest.type = new messages_1.ProtocolRequestType(SemanticTokensEditsRequest.method);\r\n})(SemanticTokensEditsRequest = exports.SemanticTokensEditsRequest || (exports.SemanticTokensEditsRequest = {}));\r\n/**\r\n * @since 3.16.0 - Proposed state\r\n */\r\nvar SemanticTokensRangeRequest;\r\n(function (SemanticTokensRangeRequest) {\r\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\r\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\r\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst Is = require(\"./utils/is\");\r\nexports.ConfigurationFeature = (Base) => {\r\n    return class extends Base {\r\n        getConfiguration(arg) {\r\n            if (!arg) {\r\n                return this._getConfiguration({});\r\n            }\r\n            else if (Is.string(arg)) {\r\n                return this._getConfiguration({ section: arg });\r\n            }\r\n            else {\r\n                return this._getConfiguration(arg);\r\n            }\r\n        }\r\n        _getConfiguration(arg) {\r\n            let params = {\r\n                items: Array.isArray(arg) ? arg : [arg]\r\n            };\r\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\r\n                return Array.isArray(arg) ? result : result[0];\r\n            });\r\n        }\r\n    };\r\n};\r\n//# sourceMappingURL=configuration.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nexports.WorkspaceFoldersFeature = (Base) => {\r\n    return class extends Base {\r\n        initialize(capabilities) {\r\n            let workspaceCapabilities = capabilities.workspace;\r\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\r\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\r\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\r\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\r\n                });\r\n            }\r\n        }\r\n        getWorkspaceFolders() {\r\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\r\n        }\r\n        get onDidChangeWorkspaceFolders() {\r\n            if (!this._onDidChangeWorkspaceFolders) {\r\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\r\n            }\r\n            if (!this._unregistration) {\r\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\r\n            }\r\n            return this._onDidChangeWorkspaceFolders.event;\r\n        }\r\n    };\r\n};\r\n//# sourceMappingURL=workspaceFolders.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nconst uuid_1 = require(\"./utils/uuid\");\r\nclass WorkDoneProgressImpl {\r\n    constructor(_connection, _token) {\r\n        this._connection = _connection;\r\n        this._token = _token;\r\n        WorkDoneProgressImpl.Instances.set(this._token, this);\r\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\r\n    }\r\n    get token() {\r\n        return this._source.token;\r\n    }\r\n    begin(title, percentage, message, cancellable) {\r\n        let param = {\r\n            kind: 'begin',\r\n            title,\r\n            percentage,\r\n            message,\r\n            cancellable\r\n        };\r\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\r\n    }\r\n    report(arg0, arg1) {\r\n        let param = {\r\n            kind: 'report'\r\n        };\r\n        if (typeof arg0 === 'number') {\r\n            param.percentage = arg0;\r\n            if (arg1 !== undefined) {\r\n                param.message = arg1;\r\n            }\r\n        }\r\n        else {\r\n            param.message = arg0;\r\n        }\r\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\r\n    }\r\n    done() {\r\n        WorkDoneProgressImpl.Instances.delete(this._token);\r\n        this._source.dispose();\r\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\r\n    }\r\n    cancel() {\r\n        this._source.cancel();\r\n    }\r\n}\r\nWorkDoneProgressImpl.Instances = new Map();\r\nclass NullProgress {\r\n    constructor() {\r\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\r\n    }\r\n    get token() {\r\n        return this._source.token;\r\n    }\r\n    begin() {\r\n    }\r\n    report() {\r\n    }\r\n    done() {\r\n    }\r\n}\r\nfunction attachWorkDone(connection, params) {\r\n    if (params === undefined || params.workDoneToken === undefined) {\r\n        return new NullProgress();\r\n    }\r\n    const token = params.workDoneToken;\r\n    delete params.workDoneToken;\r\n    return new WorkDoneProgressImpl(connection, token);\r\n}\r\nexports.attachWorkDone = attachWorkDone;\r\nexports.ProgressFeature = (Base) => {\r\n    return class extends Base {\r\n        initialize(capabilities) {\r\n            var _a;\r\n            if (((_a = capabilities === null || capabilities === void 0 ? void 0 : capabilities.window) === null || _a === void 0 ? void 0 : _a.workDoneProgress) === true) {\r\n                this._progressSupported = true;\r\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\r\n                    let progress = WorkDoneProgressImpl.Instances.get(params.token);\r\n                    if (progress !== undefined) {\r\n                        progress.cancel();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        attachWorkDoneProgress(token) {\r\n            if (token === undefined) {\r\n                return new NullProgress();\r\n            }\r\n            else {\r\n                return new WorkDoneProgressImpl(this.connection, token);\r\n            }\r\n        }\r\n        createWorkDoneProgress() {\r\n            if (this._progressSupported) {\r\n                const token = uuid_1.generateUuid();\r\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\r\n                    const result = new WorkDoneProgressImpl(this.connection, token);\r\n                    return result;\r\n                });\r\n            }\r\n            else {\r\n                return Promise.resolve(new NullProgress());\r\n            }\r\n        }\r\n    };\r\n};\r\nvar ResultProgress;\r\n(function (ResultProgress) {\r\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\r\n})(ResultProgress || (ResultProgress = {}));\r\nclass ResultProgressImpl {\r\n    constructor(_connection, _token) {\r\n        this._connection = _connection;\r\n        this._token = _token;\r\n    }\r\n    report(data) {\r\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\r\n    }\r\n}\r\nfunction attachPartialResult(connection, params) {\r\n    if (params === undefined || params.partialResultToken === undefined) {\r\n        return undefined;\r\n    }\r\n    const token = params.partialResultToken;\r\n    delete params.partialResultToken;\r\n    return new ResultProgressImpl(connection, token);\r\n}\r\nexports.attachPartialResult = attachPartialResult;\r\n//# sourceMappingURL=progress.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst url = require(\"url\");\r\nconst path = require(\"path\");\r\nconst fs = require(\"fs\");\r\nconst child_process_1 = require(\"child_process\");\r\n/**\r\n * @deprecated Use the `vscode-uri` npm module which provides a more\r\n * complete implementation of handling VS Code URIs.\r\n */\r\nfunction uriToFilePath(uri) {\r\n    let parsed = url.parse(uri);\r\n    if (parsed.protocol !== 'file:' || !parsed.path) {\r\n        return undefined;\r\n    }\r\n    let segments = parsed.path.split('/');\r\n    for (var i = 0, len = segments.length; i < len; i++) {\r\n        segments[i] = decodeURIComponent(segments[i]);\r\n    }\r\n    if (process.platform === 'win32' && segments.length > 1) {\r\n        let first = segments[0];\r\n        let second = segments[1];\r\n        // Do we have a drive letter and we started with a / which is the\r\n        // case if the first segement is empty (see split above)\r\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\r\n            // Remove first slash\r\n            segments.shift();\r\n        }\r\n    }\r\n    return path.normalize(segments.join('/'));\r\n}\r\nexports.uriToFilePath = uriToFilePath;\r\nfunction isWindows() {\r\n    return process.platform === 'win32';\r\n}\r\nfunction resolve(moduleName, nodePath, cwd, tracer) {\r\n    const nodePathKey = 'NODE_PATH';\r\n    const app = [\r\n        'var p = process;',\r\n        'p.on(\\'message\\',function(m){',\r\n        'if(m.c===\\'e\\'){',\r\n        'p.exit(0);',\r\n        '}',\r\n        'else if(m.c===\\'rs\\'){',\r\n        'try{',\r\n        'var r=require.resolve(m.a);',\r\n        'p.send({c:\\'r\\',s:true,r:r});',\r\n        '}',\r\n        'catch(err){',\r\n        'p.send({c:\\'r\\',s:false});',\r\n        '}',\r\n        '}',\r\n        '});'\r\n    ].join('');\r\n    return new Promise((resolve, reject) => {\r\n        let env = process.env;\r\n        let newEnv = Object.create(null);\r\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\r\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\r\n            if (newEnv[nodePathKey]) {\r\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\r\n            }\r\n            else {\r\n                newEnv[nodePathKey] = nodePath;\r\n            }\r\n            if (tracer) {\r\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\r\n            }\r\n        }\r\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\r\n        try {\r\n            let cp = child_process_1.fork('', [], {\r\n                cwd: cwd,\r\n                env: newEnv,\r\n                execArgv: ['-e', app]\r\n            });\r\n            if (cp.pid === void 0) {\r\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\r\n                return;\r\n            }\r\n            cp.on('error', (error) => {\r\n                reject(error);\r\n            });\r\n            cp.on('message', (message) => {\r\n                if (message.c === 'r') {\r\n                    cp.send({ c: 'e' });\r\n                    if (message.s) {\r\n                        resolve(message.r);\r\n                    }\r\n                    else {\r\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\r\n                    }\r\n                }\r\n            });\r\n            let message = {\r\n                c: 'rs',\r\n                a: moduleName\r\n            };\r\n            cp.send(message);\r\n        }\r\n        catch (error) {\r\n            reject(error);\r\n        }\r\n    });\r\n}\r\nexports.resolve = resolve;\r\n/**\r\n * Resolve the global npm package path.\r\n * @deprecated Since this depends on the used package manager and their version the best is that servers\r\n * implement this themselves since they know best what kind of package managers to support.\r\n * @param tracer the tracer to use\r\n */\r\nfunction resolveGlobalNodePath(tracer) {\r\n    let npmCommand = 'npm';\r\n    const env = Object.create(null);\r\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\r\n    env['NO_UPDATE_NOTIFIER'] = 'true';\r\n    const options = {\r\n        encoding: 'utf8',\r\n        env\r\n    };\r\n    if (isWindows()) {\r\n        npmCommand = 'npm.cmd';\r\n        options.shell = true;\r\n    }\r\n    let handler = () => { };\r\n    try {\r\n        process.on('SIGPIPE', handler);\r\n        let stdout = child_process_1.spawnSync(npmCommand, ['config', 'get', 'prefix'], options).stdout;\r\n        if (!stdout) {\r\n            if (tracer) {\r\n                tracer(`'npm config get prefix' didn't return a value.`);\r\n            }\r\n            return undefined;\r\n        }\r\n        let prefix = stdout.trim();\r\n        if (tracer) {\r\n            tracer(`'npm config get prefix' value is: ${prefix}`);\r\n        }\r\n        if (prefix.length > 0) {\r\n            if (isWindows()) {\r\n                return path.join(prefix, 'node_modules');\r\n            }\r\n            else {\r\n                return path.join(prefix, 'lib', 'node_modules');\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    catch (err) {\r\n        return undefined;\r\n    }\r\n    finally {\r\n        process.removeListener('SIGPIPE', handler);\r\n    }\r\n}\r\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\r\n/*\r\n * Resolve the global yarn pakage path.\r\n * @deprecated Since this depends on the used package manager and their version the best is that servers\r\n * implement this themselves since they know best what kind of package managers to support.\r\n * @param tracer the tracer to use\r\n */\r\nfunction resolveGlobalYarnPath(tracer) {\r\n    let yarnCommand = 'yarn';\r\n    let options = {\r\n        encoding: 'utf8'\r\n    };\r\n    if (isWindows()) {\r\n        yarnCommand = 'yarn.cmd';\r\n        options.shell = true;\r\n    }\r\n    let handler = () => { };\r\n    try {\r\n        process.on('SIGPIPE', handler);\r\n        let results = child_process_1.spawnSync(yarnCommand, ['global', 'dir', '--json'], options);\r\n        let stdout = results.stdout;\r\n        if (!stdout) {\r\n            if (tracer) {\r\n                tracer(`'yarn global dir' didn't return a value.`);\r\n                if (results.stderr) {\r\n                    tracer(results.stderr);\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n        let lines = stdout.trim().split(/\\r?\\n/);\r\n        for (let line of lines) {\r\n            try {\r\n                let yarn = JSON.parse(line);\r\n                if (yarn.type === 'log') {\r\n                    return path.join(yarn.data, 'node_modules');\r\n                }\r\n            }\r\n            catch (e) {\r\n                // Do nothing. Ignore the line\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    catch (err) {\r\n        return undefined;\r\n    }\r\n    finally {\r\n        process.removeListener('SIGPIPE', handler);\r\n    }\r\n}\r\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\r\nvar FileSystem;\r\n(function (FileSystem) {\r\n    let _isCaseSensitive = undefined;\r\n    function isCaseSensitive() {\r\n        if (_isCaseSensitive !== void 0) {\r\n            return _isCaseSensitive;\r\n        }\r\n        if (process.platform === 'win32') {\r\n            _isCaseSensitive = false;\r\n        }\r\n        else {\r\n            // convert current file name to upper case / lower case and check if file exists\r\n            // (guards against cases when name is already all uppercase or lowercase)\r\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\r\n        }\r\n        return _isCaseSensitive;\r\n    }\r\n    FileSystem.isCaseSensitive = isCaseSensitive;\r\n    function isParent(parent, child) {\r\n        if (isCaseSensitive()) {\r\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\r\n        }\r\n        else {\r\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\r\n        }\r\n    }\r\n    FileSystem.isParent = isParent;\r\n})(FileSystem = exports.FileSystem || (exports.FileSystem = {}));\r\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\r\n    if (nodePath) {\r\n        if (!path.isAbsolute(nodePath)) {\r\n            nodePath = path.join(workspaceRoot, nodePath);\r\n        }\r\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\r\n            if (FileSystem.isParent(nodePath, value)) {\r\n                return value;\r\n            }\r\n            else {\r\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\r\n            }\r\n        }).then(undefined, (_error) => {\r\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\r\n        });\r\n    }\r\n    else {\r\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\r\n    }\r\n}\r\nexports.resolveModulePath = resolveModulePath;\r\n//# sourceMappingURL=files.js.map","module.exports = require(\"url\");","module.exports = require(\"child_process\");","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nexports.CallHierarchyFeature = (Base) => {\r\n    return class extends Base {\r\n        get callHierarchy() {\r\n            return {\r\n                onPrepare: (handler) => {\r\n                    this.connection.onRequest(vscode_languageserver_protocol_1.Proposed.CallHierarchyPrepareRequest.type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\r\n                    });\r\n                },\r\n                onIncomingCalls: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.CallHierarchyIncomingCallsRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n                onOutgoingCalls: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.CallHierarchyOutgoingCallsRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    };\r\n};\r\n//# sourceMappingURL=callHierarchy.proposed.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\r\nexports.SemanticTokensFeature = (Base) => {\r\n    return class extends Base {\r\n        get semanticTokens() {\r\n            return {\r\n                on: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.SemanticTokensRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n                onEdits: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.SemanticTokensEditsRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                },\r\n                onRange: (handler) => {\r\n                    const type = vscode_languageserver_protocol_1.Proposed.SemanticTokensRangeRequest.type;\r\n                    this.connection.onRequest(type, (params, cancel) => {\r\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    };\r\n};\r\nclass SemanticTokensBuilder {\r\n    constructor() {\r\n        this._prevData = undefined;\r\n        this.initialize();\r\n    }\r\n    initialize() {\r\n        this._id = Date.now();\r\n        this._prevLine = 0;\r\n        this._prevChar = 0;\r\n        this._data = [];\r\n        this._dataLen = 0;\r\n    }\r\n    push(line, char, length, tokenType, tokenModifiers) {\r\n        let pushLine = line;\r\n        let pushChar = char;\r\n        if (this._dataLen > 0) {\r\n            pushLine -= this._prevLine;\r\n            if (pushLine === 0) {\r\n                pushChar -= this._prevChar;\r\n            }\r\n        }\r\n        this._data[this._dataLen++] = pushLine;\r\n        this._data[this._dataLen++] = pushChar;\r\n        this._data[this._dataLen++] = length;\r\n        this._data[this._dataLen++] = tokenType;\r\n        this._data[this._dataLen++] = tokenModifiers;\r\n        this._prevLine = line;\r\n        this._prevChar = char;\r\n    }\r\n    get id() {\r\n        return this._id.toString();\r\n    }\r\n    previousResult(id) {\r\n        if (this.id === id) {\r\n            this._prevData = this._data;\r\n        }\r\n        this.initialize();\r\n    }\r\n    build() {\r\n        this._prevData = undefined;\r\n        return {\r\n            resultId: this.id,\r\n            data: this._data\r\n        };\r\n    }\r\n    canBuildEdits() {\r\n        return this._prevData !== undefined;\r\n    }\r\n    buildEdits() {\r\n        if (this._prevData !== undefined) {\r\n            const prevDataLength = this._prevData.length;\r\n            const dataLength = this._data.length;\r\n            let startIndex = 0;\r\n            while (startIndex < dataLength && startIndex < prevDataLength && this._prevData[startIndex] === this._data[startIndex]) {\r\n                startIndex++;\r\n            }\r\n            if (startIndex < dataLength && startIndex < prevDataLength) {\r\n                // Find end index\r\n                let endIndex = 0;\r\n                while (endIndex < dataLength && endIndex < prevDataLength && this._prevData[prevDataLength - 1 - endIndex] === this._data[dataLength - 1 - endIndex]) {\r\n                    endIndex++;\r\n                }\r\n                const newData = this._data.slice(startIndex, dataLength - endIndex);\r\n                const result = {\r\n                    resultId: this.id,\r\n                    edits: [\r\n                        { start: startIndex, deleteCount: prevDataLength - endIndex - startIndex, data: newData }\r\n                    ]\r\n                };\r\n                return result;\r\n            }\r\n            else if (startIndex < dataLength) {\r\n                return { resultId: this.id, edits: [\r\n                        { start: startIndex, deleteCount: 0, data: this._data.slice(startIndex) }\r\n                    ] };\r\n            }\r\n            else if (startIndex < prevDataLength) {\r\n                return { resultId: this.id, edits: [\r\n                        { start: startIndex, deleteCount: prevDataLength - startIndex }\r\n                    ] };\r\n            }\r\n            else {\r\n                return { resultId: this.id, edits: [] };\r\n            }\r\n        }\r\n        else {\r\n            return this.build();\r\n        }\r\n    }\r\n}\r\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\r\n//# sourceMappingURL=sematicTokens.proposed.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (changes, version) {\n        for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\n            var change = changes_1[_i];\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                var range = getWellformedRange(change.range);\n                // update content\n                var startOffset = this.offsetAt(range.start);\n                var endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                var startLine = Math.max(range.start.line, 0);\n                var endLine = Math.max(range.end.line, 0);\n                var lineOffsets = this._lineOffsets;\n                var addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (var i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice.apply(lineOffsets, [startLine + 1, endLine - startLine].concat(addedLineOffsets));\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                var diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (var i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return { line: line, character: offset - lineOffsets[line] };\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FullTextDocument.isIncremental = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    };\n    FullTextDocument.isFull = function (event) {\n        var candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    };\n    return FullTextDocument;\n}());\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifing its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits.map(getWellformedEdit), function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = 0;\n        var spans = [];\n        for (var _i = 0, sortedEdits_1 = sortedEdits; _i < sortedEdits_1.length; _i++) {\n            var e = sortedEdits_1[_i];\n            var startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    var p = (data.length / 2) | 0;\n    var left = data.slice(0, p);\n    var right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    var leftIdx = 0;\n    var rightIdx = 0;\n    var i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        var ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset) {\n    if (textOffset === void 0) { textOffset = 0; }\n    var result = isAtLineStart ? [textOffset] : [];\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charCodeAt(i);\n        if (ch === 13 /* CarriageReturn */ || ch === 10 /* LineFeed */) {\n            if (ch === 13 /* CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    var start = range.start;\n    var end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    var range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range: range };\n    }\n    return textEdit;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nvar isWindows;\nif (typeof process === 'object') {\n    isWindows = process.platform === 'win32';\n}\nelse if (typeof navigator === 'object') {\n    var userAgent = navigator.userAgent;\n    isWindows = userAgent.indexOf('Windows') >= 0;\n}\nfunction isHighSurrogate(charCode) {\n    return (0xD800 <= charCode && charCode <= 0xDBFF);\n}\nfunction isLowSurrogate(charCode) {\n    return (0xDC00 <= charCode && charCode <= 0xDFFF);\n}\nfunction isLowerAsciiHex(code) {\n    return code >= 97 /* a */ && code <= 102 /* f */;\n}\nfunction isLowerAsciiLetter(code) {\n    return code >= 97 /* a */ && code <= 122 /* z */;\n}\nfunction isUpperAsciiLetter(code) {\n    return code >= 65 /* A */ && code <= 90 /* Z */;\n}\nfunction isAsciiLetter(code) {\n    return isLowerAsciiLetter(code) || isUpperAsciiLetter(code);\n}\n//#endregion\nvar _schemePattern = /^\\w[\\w\\d+.-]*$/;\nvar _singleSlashStart = /^\\//;\nvar _doubleSlashStart = /^\\/\\//;\nfunction _validateUri(ret, _strict) {\n    // scheme, must be set\n    if (!ret.scheme && _strict) {\n        throw new Error(\"[UriError]: Scheme is missing: {scheme: \\\"\\\", authority: \\\"\" + ret.authority + \"\\\", path: \\\"\" + ret.path + \"\\\", query: \\\"\" + ret.query + \"\\\", fragment: \\\"\" + ret.fragment + \"\\\"}\");\n    }\n    // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n    // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n    if (ret.scheme && !_schemePattern.test(ret.scheme)) {\n        throw new Error('[UriError]: Scheme contains illegal characters.');\n    }\n    // path, http://tools.ietf.org/html/rfc3986#section-3.3\n    // If a URI contains an authority component, then the path component\n    // must either be empty or begin with a slash (\"/\") character.  If a URI\n    // does not contain an authority component, then the path cannot begin\n    // with two slash characters (\"//\").\n    if (ret.path) {\n        if (ret.authority) {\n            if (!_singleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n            }\n        }\n        else {\n            if (_doubleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n            }\n        }\n    }\n}\n// for a while we allowed uris *without* schemes and this is the migration\n// for them, e.g. an uri without scheme and without strict-mode warns and falls\n// back to the file-scheme. that should cause the least carnage and still be a\n// clear warning\nfunction _schemeFix(scheme, _strict) {\n    if (!scheme && !_strict) {\n        return 'file';\n    }\n    return scheme;\n}\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme, path) {\n    // the slash-character is our 'default base' as we don't\n    // support constructing URIs relative to other URIs. This\n    // also means that we alter and potentially break paths.\n    // see https://tools.ietf.org/html/rfc3986#section-5.1.4\n    switch (scheme) {\n        case 'https':\n        case 'http':\n        case 'file':\n            if (!path) {\n                path = _slash;\n            }\n            else if (path[0] !== _slash) {\n                path = _slash + path;\n            }\n            break;\n    }\n    return path;\n}\nvar _empty = '';\nvar _slash = '/';\nvar _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n */\nvar URI = /** @class */ (function () {\n    /**\n     * @internal\n     */\n    function URI(schemeOrData, authority, path, query, fragment, _strict) {\n        if (_strict === void 0) { _strict = false; }\n        if (typeof schemeOrData === 'object') {\n            this.scheme = schemeOrData.scheme || _empty;\n            this.authority = schemeOrData.authority || _empty;\n            this.path = schemeOrData.path || _empty;\n            this.query = schemeOrData.query || _empty;\n            this.fragment = schemeOrData.fragment || _empty;\n            // no validation because it's this URI\n            // that creates uri components.\n            // _validateUri(this);\n        }\n        else {\n            this.scheme = _schemeFix(schemeOrData, _strict);\n            this.authority = authority || _empty;\n            this.path = _referenceResolution(this.scheme, path || _empty);\n            this.query = query || _empty;\n            this.fragment = fragment || _empty;\n            _validateUri(this, _strict);\n        }\n    }\n    URI.isUri = function (thing) {\n        if (thing instanceof URI) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof thing.authority === 'string'\n            && typeof thing.fragment === 'string'\n            && typeof thing.path === 'string'\n            && typeof thing.query === 'string'\n            && typeof thing.scheme === 'string'\n            && typeof thing.fsPath === 'function'\n            && typeof thing.with === 'function'\n            && typeof thing.toString === 'function';\n    };\n    Object.defineProperty(URI.prototype, \"fsPath\", {\n        // ---- filesystem path -----------------------\n        /**\n         * Returns a string representing the corresponding file system path of this URI.\n         * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n         * platform specific path separator.\n         *\n         * * Will *not* validate the path for invalid characters and semantics.\n         * * Will *not* look at the scheme of this URI.\n         * * The result shall *not* be used for display purposes but for accessing a file on disk.\n         *\n         *\n         * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n         * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n         *\n         * ```ts\n            const u = URI.parse('file://server/c$/folder/file.txt')\n            u.authority === 'server'\n            u.path === '/shares/c$/file.txt'\n            u.fsPath === '\\\\server\\c$\\folder\\file.txt'\n        ```\n         *\n         * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n         * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n         * with URIs that represent files on disk (`file` scheme).\n         */\n        get: function () {\n            // if (this.scheme !== 'file') {\n            // \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n            // }\n            return _makeFsPath(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // ---- modify to new -------------------------\n    URI.prototype.with = function (change) {\n        if (!change) {\n            return this;\n        }\n        var scheme = change.scheme, authority = change.authority, path = change.path, query = change.query, fragment = change.fragment;\n        if (scheme === undefined) {\n            scheme = this.scheme;\n        }\n        else if (scheme === null) {\n            scheme = _empty;\n        }\n        if (authority === undefined) {\n            authority = this.authority;\n        }\n        else if (authority === null) {\n            authority = _empty;\n        }\n        if (path === undefined) {\n            path = this.path;\n        }\n        else if (path === null) {\n            path = _empty;\n        }\n        if (query === undefined) {\n            query = this.query;\n        }\n        else if (query === null) {\n            query = _empty;\n        }\n        if (fragment === undefined) {\n            fragment = this.fragment;\n        }\n        else if (fragment === null) {\n            fragment = _empty;\n        }\n        if (scheme === this.scheme\n            && authority === this.authority\n            && path === this.path\n            && query === this.query\n            && fragment === this.fragment) {\n            return this;\n        }\n        return new _URI(scheme, authority, path, query, fragment);\n    };\n    // ---- parse & validate ------------------------\n    /**\n     * Creates a new URI from a string, e.g. `http://www.msft.com/some/path`,\n     * `file:///usr/home`, or `scheme:with/path`.\n     *\n     * @param value A string which represents an URI (see `URI#toString`).\n     */\n    URI.parse = function (value, _strict) {\n        if (_strict === void 0) { _strict = false; }\n        var match = _regexp.exec(value);\n        if (!match) {\n            return new _URI(_empty, _empty, _empty, _empty, _empty);\n        }\n        return new _URI(match[2] || _empty, decodeURIComponent(match[4] || _empty), decodeURIComponent(match[5] || _empty), decodeURIComponent(match[7] || _empty), decodeURIComponent(match[9] || _empty), _strict);\n    };\n    /**\n     * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n     * `/usr/home`, or `\\\\server\\share\\some\\path`.\n     *\n     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n     * `URI.parse('file://' + path)` because the path might contain characters that are\n     * interpreted (# and ?). See the following sample:\n     * ```ts\n    const good = URI.file('/coding/c#/project1');\n    good.scheme === 'file';\n    good.path === '/coding/c#/project1';\n    good.fragment === '';\n    const bad = URI.parse('file://' + '/coding/c#/project1');\n    bad.scheme === 'file';\n    bad.path === '/coding/c'; // path is now broken\n    bad.fragment === '/project1';\n    ```\n     *\n     * @param path A file system path (see `URI#fsPath`)\n     */\n    URI.file = function (path) {\n        var authority = _empty;\n        // normalize to fwd-slashes on windows,\n        // on other systems bwd-slashes are valid\n        // filename character, eg /f\\oo/ba\\r.txt\n        if (isWindows) {\n            path = path.replace(/\\\\/g, _slash);\n        }\n        // check for authority as used in UNC shares\n        // or use the path as given\n        if (path[0] === _slash && path[1] === _slash) {\n            var idx = path.indexOf(_slash, 2);\n            if (idx === -1) {\n                authority = path.substring(2);\n                path = _slash;\n            }\n            else {\n                authority = path.substring(2, idx);\n                path = path.substring(idx) || _slash;\n            }\n        }\n        return new _URI('file', authority, path, _empty, _empty);\n    };\n    URI.from = function (components) {\n        return new _URI(components.scheme, components.authority, components.path, components.query, components.fragment);\n    };\n    // ---- printing/externalize ---------------------------\n    /**\n     * Creates a string representation for this URI. It's guaranteed that calling\n     * `URI.parse` with the result of this function creates an URI which is equal\n     * to this URI.\n     *\n     * * The result shall *not* be used for display purposes but for externalization or transport.\n     * * The result will be encoded using the percentage encoding and encoding happens mostly\n     * ignore the scheme-specific encoding rules.\n     *\n     * @param skipEncoding Do not encode the result, default is `false`\n     */\n    URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        return _asFormatted(this, skipEncoding);\n    };\n    URI.prototype.toJSON = function () {\n        return this;\n    };\n    URI.revive = function (data) {\n        if (!data) {\n            return data;\n        }\n        else if (data instanceof URI) {\n            return data;\n        }\n        else {\n            var result = new _URI(data);\n            result._formatted = data.external;\n            result._fsPath = data._sep === _pathSepMarker ? data.fsPath : null;\n            return result;\n        }\n    };\n    return URI;\n}());\nexport { URI };\nvar _pathSepMarker = isWindows ? 1 : undefined;\n// tslint:disable-next-line:class-name\nvar _URI = /** @class */ (function (_super) {\n    __extends(_URI, _super);\n    function _URI() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._formatted = null;\n        _this._fsPath = null;\n        return _this;\n    }\n    Object.defineProperty(_URI.prototype, \"fsPath\", {\n        get: function () {\n            if (!this._fsPath) {\n                this._fsPath = _makeFsPath(this);\n            }\n            return this._fsPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    _URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        if (!skipEncoding) {\n            if (!this._formatted) {\n                this._formatted = _asFormatted(this, false);\n            }\n            return this._formatted;\n        }\n        else {\n            // we don't cache that\n            return _asFormatted(this, true);\n        }\n    };\n    _URI.prototype.toJSON = function () {\n        var res = {\n            $mid: 1\n        };\n        // cached state\n        if (this._fsPath) {\n            res.fsPath = this._fsPath;\n            res._sep = _pathSepMarker;\n        }\n        if (this._formatted) {\n            res.external = this._formatted;\n        }\n        // uri components\n        if (this.path) {\n            res.path = this.path;\n        }\n        if (this.scheme) {\n            res.scheme = this.scheme;\n        }\n        if (this.authority) {\n            res.authority = this.authority;\n        }\n        if (this.query) {\n            res.query = this.query;\n        }\n        if (this.fragment) {\n            res.fragment = this.fragment;\n        }\n        return res;\n    };\n    return _URI;\n}(URI));\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nvar encodeTable = (_a = {},\n    _a[58 /* Colon */] = '%3A',\n    _a[47 /* Slash */] = '%2F',\n    _a[63 /* QuestionMark */] = '%3F',\n    _a[35 /* Hash */] = '%23',\n    _a[91 /* OpenSquareBracket */] = '%5B',\n    _a[93 /* CloseSquareBracket */] = '%5D',\n    _a[64 /* AtSign */] = '%40',\n    _a[33 /* ExclamationMark */] = '%21',\n    _a[36 /* DollarSign */] = '%24',\n    _a[38 /* Ampersand */] = '%26',\n    _a[39 /* SingleQuote */] = '%27',\n    _a[40 /* OpenParen */] = '%28',\n    _a[41 /* CloseParen */] = '%29',\n    _a[42 /* Asterisk */] = '%2A',\n    _a[43 /* Plus */] = '%2B',\n    _a[44 /* Comma */] = '%2C',\n    _a[59 /* Semicolon */] = '%3B',\n    _a[61 /* Equals */] = '%3D',\n    _a[32 /* Space */] = '%20',\n    _a);\nfunction encodeURIComponentFast(uriComponent, allowSlash) {\n    var res = undefined;\n    var nativeEncodePos = -1;\n    for (var pos = 0; pos < uriComponent.length; pos++) {\n        var code = uriComponent.charCodeAt(pos);\n        // unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n        if ((code >= 97 /* a */ && code <= 122 /* z */)\n            || (code >= 65 /* A */ && code <= 90 /* Z */)\n            || (code >= 48 /* Digit0 */ && code <= 57 /* Digit9 */)\n            || code === 45 /* Dash */\n            || code === 46 /* Period */\n            || code === 95 /* Underline */\n            || code === 126 /* Tilde */\n            || (allowSlash && code === 47 /* Slash */)) {\n            // check if we are delaying native encode\n            if (nativeEncodePos !== -1) {\n                res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                nativeEncodePos = -1;\n            }\n            // check if we write into a new string (by default we try to return the param)\n            if (res !== undefined) {\n                res += uriComponent.charAt(pos);\n            }\n        }\n        else {\n            // encoding needed, we need to allocate a new string\n            if (res === undefined) {\n                res = uriComponent.substr(0, pos);\n            }\n            // check with default table first\n            var escaped = encodeTable[code];\n            if (escaped !== undefined) {\n                // check if we are delaying native encode\n                if (nativeEncodePos !== -1) {\n                    res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                    nativeEncodePos = -1;\n                }\n                // append escaped variant to result\n                res += escaped;\n            }\n            else if (nativeEncodePos === -1) {\n                // use native encode only when needed\n                nativeEncodePos = pos;\n            }\n        }\n    }\n    if (nativeEncodePos !== -1) {\n        res += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n    }\n    return res !== undefined ? res : uriComponent;\n}\nfunction encodeURIComponentMinimal(path) {\n    var res = undefined;\n    for (var pos = 0; pos < path.length; pos++) {\n        var code = path.charCodeAt(pos);\n        if (code === 35 /* Hash */ || code === 63 /* QuestionMark */) {\n            if (res === undefined) {\n                res = path.substr(0, pos);\n            }\n            res += encodeTable[code];\n        }\n        else {\n            if (res !== undefined) {\n                res += path[pos];\n            }\n        }\n    }\n    return res !== undefined ? res : path;\n}\n/**\n * Compute `fsPath` for the given uri\n */\nfunction _makeFsPath(uri) {\n    var value;\n    if (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n        // unc path: file://shares/c$/far/boo\n        value = \"//\" + uri.authority + uri.path;\n    }\n    else if (uri.path.charCodeAt(0) === 47 /* Slash */\n        && (uri.path.charCodeAt(1) >= 65 /* A */ && uri.path.charCodeAt(1) <= 90 /* Z */ || uri.path.charCodeAt(1) >= 97 /* a */ && uri.path.charCodeAt(1) <= 122 /* z */)\n        && uri.path.charCodeAt(2) === 58 /* Colon */) {\n        // windows drive letter: file:///c:/far/boo\n        value = uri.path[1].toLowerCase() + uri.path.substr(2);\n    }\n    else {\n        // other path\n        value = uri.path;\n    }\n    if (isWindows) {\n        value = value.replace(/\\//g, '\\\\');\n    }\n    return value;\n}\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri, skipEncoding) {\n    var encoder = !skipEncoding\n        ? encodeURIComponentFast\n        : encodeURIComponentMinimal;\n    var res = '';\n    var scheme = uri.scheme, authority = uri.authority, path = uri.path, query = uri.query, fragment = uri.fragment;\n    if (scheme) {\n        res += scheme;\n        res += ':';\n    }\n    if (authority || scheme === 'file') {\n        res += _slash;\n        res += _slash;\n    }\n    if (authority) {\n        var idx = authority.indexOf('@');\n        if (idx !== -1) {\n            // <user>@<auth>\n            var userinfo = authority.substr(0, idx);\n            authority = authority.substr(idx + 1);\n            idx = userinfo.indexOf(':');\n            if (idx === -1) {\n                res += encoder(userinfo, false);\n            }\n            else {\n                // <user>:<pass>@<auth>\n                res += encoder(userinfo.substr(0, idx), false);\n                res += ':';\n                res += encoder(userinfo.substr(idx + 1), false);\n            }\n            res += '@';\n        }\n        authority = authority.toLowerCase();\n        idx = authority.indexOf(':');\n        if (idx === -1) {\n            res += encoder(authority, false);\n        }\n        else {\n            // <auth>:<port>\n            res += encoder(authority.substr(0, idx), false);\n            res += authority.substr(idx);\n        }\n    }\n    if (path) {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* Slash */ && path.charCodeAt(2) === 58 /* Colon */) {\n            var code = path.charCodeAt(1);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = \"/\" + String.fromCharCode(code + 32) + \":\" + path.substr(3); // \"/c:\".length === 3\n            }\n        }\n        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* Colon */) {\n            var code = path.charCodeAt(0);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = String.fromCharCode(code + 32) + \":\" + path.substr(2); // \"/c:\".length === 3\n            }\n        }\n        // encode the rest of the path\n        res += encoder(path, true);\n    }\n    if (query) {\n        res += '?';\n        res += encoder(query, false);\n    }\n    if (fragment) {\n        res += '#';\n        res += !skipEncoding ? encodeURIComponentFast(fragment, false) : fragment;\n    }\n    return res;\n}\n"],"sourceRoot":""}